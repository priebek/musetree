var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e,t,n,r,o){e.__svelte_meta={loc:{file:t,line:n,column:r,char:o}}}function o(e){return e()}function i(){return Object.create(null)}function a(e){e.forEach(o)}function c(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){if(null!=e&&"function"!=typeof e.subscribe)throw new Error(`'${t}' is not a store with a 'subscribe' method`)}function u(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function d(e){let t;return u(e,e=>t=e)(),t}function f(e,t,n){e.$$.on_destroy.push(u(t,n))}function p(e,t,n,r){if(e){const o=h(e,t,n,r);return e[0](o)}}function h(e,t,r,o){return e[1]&&o?n(r.ctx.slice(),e[1](o(t))):r.ctx}function m(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}const g="undefined"!=typeof window;let y=g?()=>window.performance.now():()=>Date.now(),v=g?e=>requestAnimationFrame(e):e;const w=new Set;function b(e){w.forEach(t=>{t.c(e)||(w.delete(t),t.f())}),0!==w.size&&v(b)}function $(e){let t;return 0===w.size&&v(b),{promise:new Promise(n=>{w.add(t={c:e,f:n})}),abort(){w.delete(t)}}}function x(e){e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function E(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function T(e){return document.createTextNode(e)}function C(){return T(" ")}function O(){return T("")}function A(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function I(e){return""===e?void 0:+e}function P(e,t){(null!=t||e.value)&&(e.value=t)}function R(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function B(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function j(e,t,n){e.classList[n?"add":"remove"](t)}function L(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const _=new Set;let N,U=0;function D(e,t,n,r,o,i,a,c=0){const s=16.666/r;let l="{\n";for(let e=0;e<=1;e+=s){const r=t+(n-t)*i(e);l+=100*e+`%{${a(r,1-r)}}\n`}const u=l+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,f=e.ownerDocument;_.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(S("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${d} ${r}ms linear ${o}ms 1 both`,U+=1,d}function F(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),U-=o,U||v(()=>{U||(_.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),_.clear())}))}function q(e){N=e}function V(){if(!N)throw new Error("Function called outside component initialization");return N}function z(e){V().$$.on_mount.push(e)}function G(e){V().$$.after_update.push(e)}function W(e){V().$$.on_destroy.push(e)}function H(e,t){V().$$.context.set(e,t)}function Y(e){return V().$$.context.get(e)}function Z(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const X=[],J=[],K=[],Q=[],ee=Promise.resolve();let te=!1;function ne(e){K.push(e)}let re=!1;const oe=new Set;function ie(){if(!re){re=!0;do{for(let e=0;e<X.length;e+=1){const t=X[e];q(t),ae(t.$$)}for(X.length=0;J.length;)J.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];oe.has(t)||(oe.add(t),t())}K.length=0}while(X.length);for(;Q.length;)Q.pop()();te=!1,re=!1,oe.clear()}}function ae(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ne)}}let ce;function se(){return ce||(ce=Promise.resolve(),ce.then(()=>{ce=null})),ce}function le(e,t,n){e.dispatchEvent(L(`${t?"intro":"outro"}${n}`))}const ue=new Set;let de;function fe(){de={r:0,c:[],p:de}}function pe(){de.r||a(de.c),de=de.p}function he(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function me(e,t,n,r){if(e&&e.o){if(ue.has(e))return;ue.add(e),de.c.push(()=>{ue.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const ge={duration:0};function ye(n,r,o){let i,a,s=r(n,o),l=!1,u=0;function d(){i&&F(n,i)}function f(){const{delay:r=0,duration:o=300,easing:c=t,tick:f=e,css:p}=s||ge;p&&(i=D(n,0,1,o,r,c,p,u++)),f(0,1);const h=y()+r,m=h+o;a&&a.abort(),l=!0,ne(()=>le(n,!0,"start")),a=$(e=>{if(l){if(e>=m)return f(1,0),le(n,!0,"end"),d(),l=!1;if(e>=h){const t=c((e-h)/o);f(t,1-t)}}return l})}let p=!1;return{start(){p||(F(n),c(s)?(s=s(),se().then(f)):f())},invalidate(){p=!1},end(){l&&(d(),l=!1)}}}function ve(n,r,o){let i,s=r(n,o),l=!0;const u=de;function d(){const{delay:r=0,duration:o=300,easing:c=t,tick:d=e,css:f}=s||ge;f&&(i=D(n,1,0,o,r,c,f));const p=y()+r,h=p+o;ne(()=>le(n,!1,"start")),$(e=>{if(l){if(e>=h)return d(0,1),le(n,!1,"end"),--u.r||a(u.c),!1;if(e>=p){const t=c((e-p)/o);d(1-t,t)}}return l})}return u.r+=1,c(s)?se().then(()=>{s=s(),d()}):d(),{end(e){e&&s.tick&&s.tick(1,0),l&&(i&&F(n,i),l=!1)}}}function we(n,r,o,i){let s=r(n,o),l=i?0:1,u=null,d=null,f=null;function p(){f&&F(n,f)}function h(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:o=0,duration:i=300,easing:c=t,tick:m=e,css:g}=s||ge,v={start:y()+o,b:r};r||(v.group=de,de.r+=1),u?d=v:(g&&(p(),f=D(n,l,r,i,o,c,g)),r&&m(0,1),u=h(v,i),ne(()=>le(n,r,"start")),$(e=>{if(d&&e>d.start&&(u=h(d,i),d=null,le(n,u.b,"start"),g&&(p(),f=D(n,l,u.b,u.duration,0,c,s.css))),u)if(e>=u.end)m(l=u.b,1-l),le(n,u.b,"end"),d||(u.b?p():--u.group.r||a(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;l=u.a+u.d*c(t/u.duration),m(l,1-l)}return!(!u&&!d)}))}return{run(e){c(s)?se().then(()=>{s=s(),m(e)}):m(e)},end(){p(),u=d=null}}}const be="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function $e(e,t){me(e,1,1,()=>{t.delete(e.key)})}function xe(e,t,n,r,o,i,a,c,s,l,u,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],y=new Map,v=new Map;for(h=p;h--;){const e=d(o,i,h),c=n(e);let s=a.get(c);s?r&&s.p(e,t):(s=l(c,e),s.c()),y.set(c,g[h]=s),c in m&&v.set(c,Math.abs(h-m[c]))}const w=new Set,b=new Set;function $(e){he(e,1),e.m(c,u,a.has(e.key)),a.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],r=t.key,o=n.key;t===n?(u=t.first,f--,p--):y.has(o)?!a.has(r)||w.has(r)?$(t):b.has(o)?f--:v.get(r)>v.get(o)?(b.add(r),$(t)):(w.add(o),f--):(s(n,a),f--)}for(;f--;){const t=e[f];y.has(t.key)||s(t,a)}for(;p;)$(g[p-1]);return g}function ke(e,t,n,r){const o=new Set;for(let i=0;i<t.length;i++){const a=r(n(e,t,i));if(o.has(a))throw new Error("Cannot have duplicate keys in a keyed each");o.add(a)}}function Se(e){e&&e.c()}function Ee(e,t,n){const{fragment:r,on_mount:i,on_destroy:s,after_update:l}=e.$$;r&&r.m(t,n),ne(()=>{const t=i.map(o).filter(c);s?s.push(...t):a(t),e.$$.on_mount=[]}),l.forEach(ne)}function Te(e,t){const n=e.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t){-1===e.$$.dirty[0]&&(X.push(e),te||(te=!0,ee.then(ie)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Oe(t,n,r,o,c,s,l=[-1]){const u=N;q(t);const d=n.props||{},f=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:c,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:l};let p=!1;if(f.ctx=r?r(t,d,(e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=o)&&(f.bound[e]&&f.bound[e](o),p&&Ce(t,e)),n}):[],f.update(),p=!0,a(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(x)}else f.fragment&&f.fragment.c();n.intro&&he(t.$$.fragment),Ee(t,n.target,n.anchor),ie()}q(u)}function Ae(e,t){document.dispatchEvent(L(e,Object.assign({version:"3.21.0"},t)))}function Me(e,t){Ae("SvelteDOMInsert",{target:e,node:t}),function(e,t){e.appendChild(t)}(e,t)}function Ie(e,t,n){Ae("SvelteDOMInsert",{target:e,node:t,anchor:n}),function(e,t,n){e.insertBefore(t,n||null)}(e,t,n)}function Pe(e){Ae("SvelteDOMRemove",{node:e}),x(e)}function Re(e,t,n,r,o,i){const a=!0===r?["capture"]:r?Array.from(Object.keys(r)):[];o&&a.push("preventDefault"),i&&a.push("stopPropagation"),Ae("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:a});const c=function(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}(e,t,n,r);return()=>{Ae("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:a}),c()}}function Be(e,t,n){!function(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}(e,t,n),null==n?Ae("SvelteDOMRemoveAttribute",{node:e,attribute:t}):Ae("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function je(e,t,n){e[t]=n,Ae("SvelteDOMSetProperty",{node:e,property:t,value:n})}function Le(e,t){t=""+t,e.data!==t&&(Ae("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function _e(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function Ne(e,t,n){for(const r of Object.keys(t))~n.indexOf(r)||console.warn(`<${e}> received an unexpected slot "${r}".`)}class Ue extends class{$destroy(){Te(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}var De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qe(e,t){return e(t={exports:{}},t.exports),t.exports}var Ve=function(e){return e&&e.Math==Math&&e},ze=Ve("object"==typeof globalThis&&globalThis)||Ve("object"==typeof window&&window)||Ve("object"==typeof self&&self)||Ve("object"==typeof De&&De)||Function("return this")(),Ge=function(e){try{return!!e()}catch(e){return!0}},We=!Ge((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),He={}.propertyIsEnumerable,Ye=Object.getOwnPropertyDescriptor,Ze={f:Ye&&!He.call({1:2},1)?function(e){var t=Ye(this,e);return!!t&&t.enumerable}:He},Xe=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Je={}.toString,Ke=function(e){return Je.call(e).slice(8,-1)},Qe="".split,et=Ge((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==Ke(e)?Qe.call(e,""):Object(e)}:Object,tt=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},nt=function(e){return et(tt(e))},rt=function(e){return"object"==typeof e?null!==e:"function"==typeof e},ot=function(e,t){if(!rt(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!rt(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!rt(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!rt(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},it={}.hasOwnProperty,at=function(e,t){return it.call(e,t)},ct=ze.document,st=rt(ct)&&rt(ct.createElement),lt=function(e){return st?ct.createElement(e):{}},ut=!We&&!Ge((function(){return 7!=Object.defineProperty(lt("div"),"a",{get:function(){return 7}}).a})),dt=Object.getOwnPropertyDescriptor,ft={f:We?dt:function(e,t){if(e=nt(e),t=ot(t,!0),ut)try{return dt(e,t)}catch(e){}if(at(e,t))return Xe(!Ze.f.call(e,t),e[t])}},pt=function(e){if(!rt(e))throw TypeError(String(e)+" is not an object");return e},ht=Object.defineProperty,mt={f:We?ht:function(e,t,n){if(pt(e),t=ot(t,!0),pt(n),ut)try{return ht(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},gt=We?function(e,t,n){return mt.f(e,t,Xe(1,n))}:function(e,t,n){return e[t]=n,e},yt=function(e,t){try{gt(ze,e,t)}catch(n){ze[e]=t}return t},vt=ze["__core-js_shared__"]||yt("__core-js_shared__",{}),wt=Function.toString;"function"!=typeof vt.inspectSource&&(vt.inspectSource=function(e){return wt.call(e)});var bt,$t,xt,kt=vt.inspectSource,St=ze.WeakMap,Et="function"==typeof St&&/native code/.test(kt(St)),Tt=qe((function(e){(e.exports=function(e,t){return vt[e]||(vt[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),Ct=0,Ot=Math.random(),At=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Ct+Ot).toString(36)},Mt=Tt("keys"),It=function(e){return Mt[e]||(Mt[e]=At(e))},Pt={},Rt=ze.WeakMap;if(Et){var Bt=new Rt,jt=Bt.get,Lt=Bt.has,_t=Bt.set;bt=function(e,t){return _t.call(Bt,e,t),t},$t=function(e){return jt.call(Bt,e)||{}},xt=function(e){return Lt.call(Bt,e)}}else{var Nt=It("state");Pt[Nt]=!0,bt=function(e,t){return gt(e,Nt,t),t},$t=function(e){return at(e,Nt)?e[Nt]:{}},xt=function(e){return at(e,Nt)}}var Ut={set:bt,get:$t,has:xt,enforce:function(e){return xt(e)?$t(e):bt(e,{})},getterFor:function(e){return function(t){var n;if(!rt(t)||(n=$t(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Dt=qe((function(e){var t=Ut.get,n=Ut.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var a=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||at(o,"name")||gt(o,"name",t),n(o).source=r.join("string"==typeof t?t:"")),e!==ze?(a?!s&&e[t]&&(c=!0):delete e[t],c?e[t]=o:gt(e,t,o)):c?e[t]=o:yt(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||kt(this)}))})),Ft=ze,qt=function(e){return"function"==typeof e?e:void 0},Vt=function(e,t){return arguments.length<2?qt(Ft[e])||qt(ze[e]):Ft[e]&&Ft[e][t]||ze[e]&&ze[e][t]},zt=Math.ceil,Gt=Math.floor,Wt=function(e){return isNaN(e=+e)?0:(e>0?Gt:zt)(e)},Ht=Math.min,Yt=function(e){return e>0?Ht(Wt(e),9007199254740991):0},Zt=Math.max,Xt=Math.min,Jt=function(e,t){var n=Wt(e);return n<0?Zt(n+t,0):Xt(n,t)},Kt=function(e){return function(t,n,r){var o,i=nt(t),a=Yt(i.length),c=Jt(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},Qt={includes:Kt(!0),indexOf:Kt(!1)},en=Qt.indexOf,tn=function(e,t){var n,r=nt(e),o=0,i=[];for(n in r)!at(Pt,n)&&at(r,n)&&i.push(n);for(;t.length>o;)at(r,n=t[o++])&&(~en(i,n)||i.push(n));return i},nn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],rn=nn.concat("length","prototype"),on={f:Object.getOwnPropertyNames||function(e){return tn(e,rn)}},an={f:Object.getOwnPropertySymbols},cn=Vt("Reflect","ownKeys")||function(e){var t=on.f(pt(e)),n=an.f;return n?t.concat(n(e)):t},sn=function(e,t){for(var n=cn(t),r=mt.f,o=ft.f,i=0;i<n.length;i++){var a=n[i];at(e,a)||r(e,a,o(t,a))}},ln=/#|\.prototype\./,un=function(e,t){var n=fn[dn(e)];return n==hn||n!=pn&&("function"==typeof t?Ge(t):!!t)},dn=un.normalize=function(e){return String(e).replace(ln,".").toLowerCase()},fn=un.data={},pn=un.NATIVE="N",hn=un.POLYFILL="P",mn=un,gn=ft.f,yn=function(e,t){var n,r,o,i,a,c=e.target,s=e.global,l=e.stat;if(n=s?ze:l?ze[c]||yt(c,{}):(ze[c]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=gn(n,r))&&a.value:n[r],!mn(s?r:c+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;sn(i,o)}(e.sham||o&&o.sham)&&gt(i,"sham",!0),Dt(n,r,i,e)}},vn=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},wn=function(e){return Object(tt(e))},bn=function(e){return function(t,n,r,o){vn(n);var i=wn(t),a=et(i),c=Yt(i.length),s=e?c-1:0,l=e?-1:1;if(r<2)for(;;){if(s in a){o=a[s],s+=l;break}if(s+=l,e?s<0:c<=s)throw TypeError("Reduce of empty array with no initial value")}for(;e?s>=0:c>s;s+=l)s in a&&(o=n(o,a[s],s,i));return o}},$n={left:bn(!1),right:bn(!0)},xn=function(e,t){var n=[][e];return!!n&&Ge((function(){n.call(null,t||function(){throw 1},1)}))},kn=Object.defineProperty,Sn={},En=function(e){throw e},Tn=function(e,t){if(at(Sn,e))return Sn[e];t||(t={});var n=[][e],r=!!at(t,"ACCESSORS")&&t.ACCESSORS,o=at(t,0)?t[0]:En,i=at(t,1)?t[1]:void 0;return Sn[e]=!!n&&!Ge((function(){if(r&&!We)return!0;var e={length:-1};r?kn(e,1,{enumerable:!0,get:En}):e[1]=1,n.call(e,o,i)}))},Cn=$n.left,On=xn("reduce"),An=Tn("reduce",{1:0});yn({target:"Array",proto:!0,forced:!On||!An},{reduce:function(e){return Cn(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Mn=Object.keys||function(e){return tn(e,nn)},In=Ze.f,Pn=function(e){return function(t){for(var n,r=nt(t),o=Mn(r),i=o.length,a=0,c=[];i>a;)n=o[a++],We&&!In.call(r,n)||c.push(e?[n,r[n]]:r[n]);return c}},Rn={entries:Pn(!0),values:Pn(!1)},Bn=Rn.values;function jn(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ln(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jn(i,r,o,a,c,"next",e)}function c(e){jn(i,r,o,a,c,"throw",e)}a(void 0)}))}}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t&&Nn(e.prototype,t),n&&Nn(e,n),e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Wn(e):t}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zn(e);if(t){var o=zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||Jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e){return function(e){if(Array.isArray(e))return Kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Jn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){if(e){if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qn(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Jn(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}yn({target:"Object",stat:!0},{values:function(e){return Bn(e)}});const er=[];function tr(t,n=e){let r;const o=[];function i(e){if(s(t,e)&&(t=e,r)){const e=!er.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),er.push(n,t)}if(e){for(let e=0;e<er.length;e+=2)er[e][0](er[e+1]);er.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,c=e){const s=[a,c];return o.push(s),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function nr(t,n,r){const o=!Array.isArray(t),i=o?[t]:t,s=n.length<2;return{subscribe:tr(r,t=>{let r=!1;const l=[];let d=0,f=e;const p=()=>{if(d)return;f();const r=n(o?l[0]:l,t);s?t(r):f=c(r)?r:e},h=i.map((e,t)=>u(e,e=>{l[t]=e,d&=~(1<<t),r&&p()},()=>{d|=1<<t}));return r=!0,p(),function(){a(h),f()}}).subscribe}}var rr=["bass","drums","guitar","harp","piano","violin","cello","flute","trumpet","clarinet"],or={bass:5,drums:10,guitar:5,harp:5,piano:10,violin:10,cello:10,flute:10,trumpet:10,clarinet:10},ir=["bass","drums","guitar","harp","piano","strings","winds"],ar=["2unlimited","883","aaaaaaaaaaa","abba","abdelmoinealfa","acdc","aceofbase","adele","aerosmith","african","africandrum","aguado","airsupply","alabama","alainsouchon","alanismorissette","alanismorrisette","alanjackson","alanparsons","albeniz","albrechtsberger","alicecooper","aliceinchains","alkan","allsaints","amedeominghi","america","amostori","amygrant","andersen","andreabocelli","andrehazes","anerio","animenz","annaoxa","annielennox","anonymous","antonellovenditti","aqua","arabic","arethafranklin","ascher","azzaiolo","bach","bachjohannsebastian","backstreetboys","badcompany","balakirev","banchieri","barbrastreisand","barrymanilow","basie","battiato","battisti","bbking","beachboys","beck","beegees","beethoven","benfoldsfive","benjyshelton","berckmansdeoliveira","berlioz","berte","best","bettemidler","beyonce","biagioantonacci","billyidol","billyjoel","billyocean","bizet","bjork","blacksabbath","blink-182","blink182","blondie","blow","bluegrass","blues","blur","bobdylan","bobmarley","bobseger","bonjovi","borodin","boston","bowiedavid","boyzone","brahms","brandy","brassensgeorges","bread","britneyspears","broadway","brooks & dunn","brooksgarth","brucehornsby","brucespringsteen","bruckner","bryanadams","buddyholly","burgmueller","bush","busoni","bwitched","byrd","cabanilles","cameronleesimpson","campion","carboni","carlysimon","caroleking","carpenters","carr","carulli","cashjohnny","cato","celentano","celinedion","chakakhan","cheaptrick","cher","cherubini","chicago","chickcorea","chinese","chopin","chopinfrederic","chrisrea","christmas","chuckberry","cimarosa","classical","claudebolling","claudedebussy","clementi","cocciante","collinsphil","coolio","corelli","country","couperin","cream","creed","creedenceclearwaterrevival","crosbystillsnashandyoung","crosbystillsnashyoung","cyndilauper","czerny","d'aragona","dalla","dance","daniele","daquin","davemathews","davematthewsband","davidbowie","debussy","deeppurple","defleppard","deleted","delibes","depechemode","devo","diabelli","dionnewarwick","direstraits","disney","disneythemes","dominofats","donhenley","donizetti","donnasummer","dowland","drdre","duranduran","dussek","duvernoy","dvorak","eagles","earthwindandfire","edvardgrieg","eiffel65","electriclightorchestra","elgar","ellington","elo","eltonjohn","elviscostello","elvispresley","emerson, lake & palmer","emersonlakeandpalmer","eminem","encina","encore","enya","erasure","ericclapton","estefangloria","eurythmics","everything","faure","field","fiorellamannoia","fiorello","fleetwoodmac","folk","foofighters","foreigner","franck","franksinatra","gabrieli","gade","galilei","garbage","gastoldi","genesis","georgebenson","georgeharrison","gershwin","gganderson","gibbons","gilbert & sullivan","giorgia","giuliani","glazunov","glencampbell","godowsky","gomolka","gordonlightfoot","gorzanis","gospel","gottschalk","goudimel","gounod","granados","grandfunkrailroad","grandi","greenday","grieg","guerrero","guesswho","guns n' roses","gunsnroses","gurlitt","gypsy","haberbier","hall & oates","handel","hanson","hasse","hassler","haydn","heart","heller","herman","herz","holborne","hole","hollybuddy","holst","howardcarpendale","huey lewis & the news","hueylewis","hummel","humperdinckengelbert","hymns","indian","inxs","irish","ironmaiden","jacksonbrowne","jacksonmichael","jamiroquai","janequin","janetjackson","jazz","jeanmicheljarre","jenniferlopez","jethrotull","jewel","jimcroce","jimihendrix","jimmybuffett","joecocker","joejackson","johannsebastianbach","johnelton","johnlennon","johnmellencamp","johnnyrivers","jonimitchell","joplin","journey","jovanotti","jstrauss2","juliancasablancas","kansas","katyperry","kellyclarkson","kennyloggins","ketterer","khachaturian","kids","kiss","kool & the gang","korn","kpop","krakowa","kreutzer","kuhlau","ladygaga","lassus","last","latin","laurapausini","leali","ledzeppelin","lemire","lennykravitz","leosayer","level42","ligabue","limpbizkit","lindaronstadt","lionelrichie","liszt","littleriverband","lobo","losy","ludwigvanbeethoven","lully","lynyrdskynyrd","machaut","madonna","mahler","maier","mango","marais","marcanthony","marcello","mariahcarey","marillion","marilynmanson","masini","matiabazar","mccartney","meatloaf","mendelssohn","metallica","michaelbolton","michaelbuble","michaelgeorge","michaeljackson","michelezarrillo","miller","mina","moabberckmansdeoliveira","moby","monteverdi","morandi","morley","mosch","moszkowski","movie","moviethemes","mozart","mussorgsky","natalieimbruglia","nationalanthems","natkingcole","natl_anthem","neildiamond","neilyoung","nek","nielsen","nightwish","nineinchnails","nintendo","nirvana","nodoubt","nofx","nomadi","oasis","offenbach","oldfieldmike","olivianewton-john","onedirection","ongcmu","oscarpeterson","other","ozzyosbourne","pachelbel","paganini","palestrina","pantera","paoli","patbenatar","patsycline","paulaabdul","paulmccartney","paulsimon","pearljam","pergolesi","perosi","petergabriel","petshopboys","philcollins","pinkfloyd","polak","pooh","poulenc","praetorius","prez","prince","puccini","punk","purcell","queen","rachmaninoff","rachmaninov","radiohead","raf","rageagainstthemachine","ragtime","ramazzotti","rameau","rap","ravel","raycharles","realmccoy","redhotchilipeppers","reelbigfish","reger","reicha","rem","renefroger","renzoarbore","reospeedwagon","richardcliff","richielionel","rickymartin","rihanna","rimini","rimsky-korsakov","ringostarr","rkelly","robbiewilliams","robertaflack","robertpalmer","roblaidlow","rodstewart","rogerskenny","rollingstones","roman","ron","rossini","rossivasco","roxette","royorbison","rubinstein","ruggeri","rush","sade","saint-saens","sammartini","santana","sanz","satie","scarlatti","schubert","schumann","scorpions","scottish","scottjames","scottjoplin","scriabin","shakira","shaniatwain","shearinggeorge","shostakovich","sibelius","silverchair","simonandgarfunkel","simplyred","sinatra","smashingpumpkins","smashmouth","smetana","smith","soler","songs","sor","soundgarden","soundtrack","sousa","spicegirls","spinners","spohr","stamitz","stansfieldlisa","steelydan","stevemillerband","stevienicks","steviewonder","sting","stonetemplepilots","strauss","stravinsky","styx","sublime","sugarray","sullivan","supertramp","susato","sweet","takethat","talkingheads","taylorjames","taylorswift","tchaikovsky","telemann","thalberg","thealanparsonsproject","theallmanbrothersband","theanimals","thebeachboys","thebeatles","thecarpenters","thecars","thecorrs","thecranberries","thecure","thedoobiebrothers","thedoors","thedrifters","theeagles","theeverlybrothers","thefourseasons","thegrassroots","thehollies","thekinks","themonkees","themoodyblues","theoffspring","thepointersisters","thepolice","thepretenders","therascals","therollingstones","theshadows","thesmashingpumpkins","thesupremes","thetemptations","thetragicallyhip","theventures","thewho","threedognight","tinaturner","tlc","tomjones","tompetty","tompettyandtheheartbreakers","tonyorlando","tool","toriamos","toto","tozzi","traditional","traffic","turnertina","tvthemes","u2","ub40","unknown","vangelis","vanhalen","vanmorrison","vengaboys","verdi","victoria","video","videogamethemes","villagepeople","vivaldi","wagner","walthew","warhorse","weber","weezer","weiss","whitezombie","whitneyhouston","widor","wieniawski","willsmith","wonderstevie","world","yes","zappa","zero","zipoli","zucchero","zztop"],cr=ir.reduce((function(e,t){return e[t]=tr("piano"===t||"drums"===t),e}),{}),sr=nr(Object.values(cr),(function(e){return e.reduce((function(e,t,n){return e[ir[n]]=t,e}),{})})),lr=tr(300),ur=tr(1500),dr=nr([lr,ur],(function(e){var t=Zn(e,2),n=t[0];return t[1]-n})),fr=tr(["Chopin","chopin"]),pr=tr(1),hr=tr(27),mr=tr(!1),gr=tr(!0),yr=tr(!1),vr=tr(!0),wr=tr(2.5),br=tr(100),$r=tr(50),xr=nr([lr,dr,fr,sr,pr,hr],(function(e){var t=Zn(e,6),n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5];return{audioFormat:"mp3",encoding:[],generationLength:n,requestLength:r,genre:o[1],instrument:i,temperature:a,truncation:c}})),kr=Ge((function(){Mn(1)}));yn({target:"Object",stat:!0,forced:kr},{keys:function(e){return Mn(wn(e))}});qe((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n,r){var o=t&&t.prototype instanceof u?t:u,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function u(){}function d(){}function f(){}var p={};p[o]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(k([])));m&&m!==t&&n.call(m,o)&&(p=m);var g=f.prototype=u.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,c){var l=s(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function $(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=g.constructor=f,f.constructor=d,f[a]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(v.prototype),v.prototype[i]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new v(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),$(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;$(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var Sr,Er,Tr=Array.isArray||function(e){return"Array"==Ke(e)},Cr=function(e,t,n){var r=ot(t);r in e?mt.f(e,r,Xe(0,n)):e[r]=n},Or=!!Object.getOwnPropertySymbols&&!Ge((function(){return!String(Symbol())})),Ar=Or&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Mr=Tt("wks"),Ir=ze.Symbol,Pr=Ar?Ir:Ir&&Ir.withoutSetter||At,Rr=function(e){return at(Mr,e)||(Or&&at(Ir,e)?Mr[e]=Ir[e]:Mr[e]=Pr("Symbol."+e)),Mr[e]},Br=Rr("species"),jr=function(e,t){var n;return Tr(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Tr(n.prototype)?rt(n)&&null===(n=n[Br])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Lr=Vt("navigator","userAgent")||"",_r=ze.process,Nr=_r&&_r.versions,Ur=Nr&&Nr.v8;Ur?Er=(Sr=Ur.split("."))[0]+Sr[1]:Lr&&(!(Sr=Lr.match(/Edge\/(\d+)/))||Sr[1]>=74)&&(Sr=Lr.match(/Chrome\/(\d+)/))&&(Er=Sr[1]);var Dr=Er&&+Er,Fr=Rr("species"),qr=function(e){return Dr>=51||!Ge((function(){var t=[];return(t.constructor={})[Fr]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Vr=Rr("isConcatSpreadable"),zr=Dr>=51||!Ge((function(){var e=[];return e[Vr]=!1,e.concat()[0]!==e})),Gr=qr("concat"),Wr=function(e){if(!rt(e))return!1;var t=e[Vr];return void 0!==t?!!t:Tr(e)};yn({target:"Array",proto:!0,forced:!zr||!Gr},{concat:function(e){var t,n,r,o,i,a=wn(this),c=jr(a,0),s=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],Wr(i)){if(s+(o=Yt(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,s++)n in i&&Cr(c,s,i[n])}else{if(s>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Cr(c,s++,i)}return c.length=s,c}});var Hr=[].join,Yr=et!=Object,Zr=xn("join",",");yn({target:"Array",proto:!0,forced:Yr||!Zr},{join:function(e){return Hr.call(nt(this),void 0===e?",":e)}});var Xr=function(e,t,n){if(vn(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},Jr=[].push,Kr=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=5==e||i;return function(c,s,l,u){for(var d,f,p=wn(c),h=et(p),m=Xr(s,l,3),g=Yt(h.length),y=0,v=u||jr,w=t?v(c,g):n?v(c,0):void 0;g>y;y++)if((a||y in h)&&(f=m(d=h[y],y,p),e))if(t)w[y]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:Jr.call(w,d)}else if(o)return!1;return i?-1:r||o?o:w}},Qr={forEach:Kr(0),map:Kr(1),filter:Kr(2),some:Kr(3),every:Kr(4),find:Kr(5),findIndex:Kr(6)},eo=Qr.map,to=qr("map"),no=Tn("map");yn({target:"Array",proto:!0,forced:!to||!no},{map:function(e){return eo(this,e,arguments.length>1?arguments[1]:void 0)}});var ro=Date.prototype,oo=ro.toString,io=ro.getTime;new Date(NaN)+""!="Invalid Date"&&Dt(ro,"toString",(function(){var e=io.call(this);return e==e?oo.call(this):"Invalid Date"}));var ao={};ao[Rr("toStringTag")]="z";var co="[object z]"===String(ao),so=Rr("toStringTag"),lo="Arguments"==Ke(function(){return arguments}()),uo=co?Ke:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),so))?n:lo?Ke(t):"Object"==(r=Ke(t))&&"function"==typeof t.callee?"Arguments":r},fo=co?{}.toString:function(){return"[object "+uo(this)+"]"};co||Dt(Object.prototype,"toString",fo,{unsafe:!0});var po="\t\n\v\f\r                　\u2028\u2029\ufeff",ho="["+po+"]",mo=RegExp("^"+ho+ho+"*"),go=RegExp(ho+ho+"*$"),yo=function(e){return function(t){var n=String(tt(t));return 1&e&&(n=n.replace(mo,"")),2&e&&(n=n.replace(go,"")),n}},vo={start:yo(1),end:yo(2),trim:yo(3)}.trim,wo=ze.parseInt,bo=/^[+-]?0[Xx]/,$o=8!==wo(po+"08")||22!==wo(po+"0x16")?function(e,t){var n=vo(String(e));return wo(n,t>>>0||(bo.test(n)?16:10))}:wo;yn({global:!0,forced:parseInt!=$o},{parseInt:$o});var xo=function(){var e=pt(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function ko(e,t){return RegExp(e,t)}var So,Eo,To={UNSUPPORTED_Y:Ge((function(){var e=ko("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:Ge((function(){var e=ko("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},Co=RegExp.prototype.exec,Oo=String.prototype.replace,Ao=Co,Mo=(So=/a/,Eo=/b*/g,Co.call(So,"a"),Co.call(Eo,"a"),0!==So.lastIndex||0!==Eo.lastIndex),Io=To.UNSUPPORTED_Y||To.BROKEN_CARET,Po=void 0!==/()??/.exec("")[1];(Mo||Po||Io)&&(Ao=function(e){var t,n,r,o,i=this,a=Io&&i.sticky,c=xo.call(i),s=i.source,l=0,u=e;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),u=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(s="(?: "+s+")",u=" "+u,l++),n=new RegExp("^(?:"+s+")",c)),Po&&(n=new RegExp("^"+s+"$(?!\\s)",c)),Mo&&(t=i.lastIndex),r=Co.call(a?n:i,u),a?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:Mo&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),Po&&r&&r.length>1&&Oo.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var Ro=Ao;yn({target:"RegExp",proto:!0,forced:/./.exec!==Ro},{exec:Ro});var Bo=RegExp.prototype,jo=Bo.toString,Lo=Ge((function(){return"/a/b"!=jo.call({source:"a",flags:"b"})})),_o="toString"!=jo.name;(Lo||_o)&&Dt(RegExp.prototype,"toString",(function(){var e=pt(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Bo)?xo.call(e):n)}),{unsafe:!0});var No=Rr("species"),Uo=!Ge((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Do="$0"==="a".replace(/./,"$0"),Fo=Rr("replace"),qo=!!/./[Fo]&&""===/./[Fo]("a","$0"),Vo=!Ge((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),zo=Rr("match"),Go=Rr("species"),Wo=function(e,t){var n,r=pt(e).constructor;return void 0===r||null==(n=pt(r)[Go])?t:vn(n)},Ho=function(e){return function(t,n){var r,o,i=String(tt(t)),a=Wt(n),c=i.length;return a<0||a>=c?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},Yo={codeAt:Ho(!1),charAt:Ho(!0)},Zo=Yo.charAt,Xo=function(e,t,n){return t+(n?Zo(e,t).length:1)},Jo=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Ke(e))throw TypeError("RegExp#exec called on incompatible receiver");return Ro.call(e,t)},Ko=[].push,Qo=Math.min,ei=!Ge((function(){return!RegExp(4294967295,"y")}));!function(e,t,n,r){var o=Rr(e),i=!Ge((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!Ge((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[No]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||"replace"===e&&(!Uo||!Do||qo)||"split"===e&&!Vo){var c=/./[o],s=n(o,""[e],(function(e,t,n,r,o){return t.exec===Ro?i&&!o?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Do,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:qo}),l=s[0],u=s[1];Dt(String.prototype,e,l),Dt(RegExp.prototype,o,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}r&&gt(RegExp.prototype[o],"sham",!0)}("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r,o,i=String(tt(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!rt(r=e)||!(void 0!==(o=r[zo])?o:"RegExp"==Ke(r)))return t.call(i,e,a);for(var c,s,l,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=new RegExp(e.source,d+"g");(c=Ro.call(p,i))&&!((s=p.lastIndex)>f&&(u.push(i.slice(f,c.index)),c.length>1&&c.index<i.length&&Ko.apply(u,c.slice(1)),l=c[0].length,f=s,u.length>=a));)p.lastIndex===c.index&&p.lastIndex++;return f===i.length?!l&&p.test("")||u.push(""):u.push(i.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=tt(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var a=pt(e),c=String(this),s=Wo(a,RegExp),l=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(ei?"y":"g"),d=new s(ei?a:"^(?:"+a.source+")",u),f=void 0===o?4294967295:o>>>0;if(0===f)return[];if(0===c.length)return null===Jo(d,c)?[c]:[];for(var p=0,h=0,m=[];h<c.length;){d.lastIndex=ei?h:0;var g,y=Jo(d,ei?c:c.slice(h));if(null===y||(g=Qo(Yt(d.lastIndex+(ei?0:h)),c.length))===p)h=Xo(c,h,l);else{if(m.push(c.slice(p,h)),m.length===f)return m;for(var v=1;v<=y.length-1;v++)if(m.push(y[v]),m.length===f)return m;h=p=g}}return m.push(c.slice(p)),m}]}),!ei);var ti=qr("slice"),ni=Tn("slice",{ACCESSORS:!0,0:0,1:2}),ri=Rr("species"),oi=[].slice,ii=Math.max;function ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t},r=t,o=tr(t),i=function(){};return e.subscribe((function(e){i(),i=e.subscribe((function(e){n(r,e)||(r=e,o.set(e))}))})),o}function ci(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return e===t},o=n,i=function(e,n){var i=t(e);r(o,i)||(o=i,n(i))};return nr(e,i,n)}function si(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function li(){return tr({encoding:[]})}function ui(e,t){return ci([e,t],(function(e){var t=Zn(e,2),n=t[0],r=t[1];return{encoding:[].concat(Xn(n.encoding),Xn(r.section.encoding))}}),{encoding:[]},(function(e,t){return si(e.encoding,t.encoding)}))}function di(e){return e.map((function(e){return e.toString()})).join(" ")}function fi(e){return e.split(" ").map((function(e){return parseInt(e)}))}function pi(e){return tr({section:e})}function hi(e){return ai(nr(e,(function(e){var t=e.selectedChild;if(null===t)return tr([]);var n=e.children[t];return void 0===n?tr([]):n.selectedSectionsStore})),[],gi)}function mi(e){return ai(nr(e,(function(e){var t=e.selectedChild;if(null===t)return tr([e.section]);var n=e.children[t];return void 0===n?tr([e.section]):nr(n.selectedSectionsStore,(function(t){return[e.section].concat(Xn(t))}))})),[],gi)}function gi(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){if(!yi(e[n],t[n]))return!1}return!0}function yi(e,t){if(e===t)return!0;if(e.startsAt!==t.startsAt)return!1;if(e.encoding.length!==t.encoding.length)return!1;if(e.encoding===t.encoding)return!0;for(var n=0;n<e.encoding.length;n++){if(e.encoding[n]!==t.encoding[n])return!1}return!0}yn({target:"Array",proto:!0,forced:!ti||!ni},{slice:function(e,t){var n,r,o,i=nt(this),a=Yt(i.length),c=Jt(e,a),s=Jt(void 0===t?a:t,a);if(Tr(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Tr(n.prototype)?rt(n)&&null===(n=n[ri])&&(n=void 0):n=void 0,n===Array||void 0===n))return oi.call(i,c,s);for(r=new(void 0===n?Array:n)(ii(s-c,0)),o=0;c<s;c++,o++)c in i&&Cr(r,o,i[c]);return r.length=o,r}});var vi=ze.Promise,wi=function(e,t,n){for(var r in t)Dt(e,r,t[r],n);return e},bi=mt.f,$i=Rr("toStringTag"),xi=function(e,t,n){e&&!at(e=n?e:e.prototype,$i)&&bi(e,$i,{configurable:!0,value:t})},ki=Rr("species"),Si=function(e){var t=Vt(e),n=mt.f;We&&t&&!t[ki]&&n(t,ki,{configurable:!0,get:function(){return this}})},Ei=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Ti={},Ci=Rr("iterator"),Oi=Array.prototype,Ai=function(e){return void 0!==e&&(Ti.Array===e||Oi[Ci]===e)},Mi=Rr("iterator"),Ii=function(e){if(null!=e)return e[Mi]||e["@@iterator"]||Ti[uo(e)]},Pi=function(e,t,n,r){try{return r?t(pt(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&pt(o.call(e)),t}},Ri=qe((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,o,i){var a,c,s,l,u,d,f,p=Xr(n,r,o?2:1);if(i)a=e;else{if("function"!=typeof(c=Ii(e)))throw TypeError("Target is not iterable");if(Ai(c)){for(s=0,l=Yt(e.length);l>s;s++)if((u=o?p(pt(f=e[s])[0],f[1]):p(e[s]))&&u instanceof t)return u;return new t(!1)}a=c.call(e)}for(d=a.next;!(f=d.call(a)).done;)if("object"==typeof(u=Pi(a,p,f.value,o))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}})),Bi=Rr("iterator"),ji=!1;try{var Li=0,_i={next:function(){return{done:!!Li++}},return:function(){ji=!0}};_i[Bi]=function(){return this},Array.from(_i,(function(){throw 2}))}catch(e){}var Ni,Ui,Di,Fi=function(e,t){if(!t&&!ji)return!1;var n=!1;try{var r={};r[Bi]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},qi=Vt("document","documentElement"),Vi=/(iphone|ipod|ipad).*applewebkit/i.test(Lr),zi=ze.location,Gi=ze.setImmediate,Wi=ze.clearImmediate,Hi=ze.process,Yi=ze.MessageChannel,Zi=ze.Dispatch,Xi=0,Ji={},Ki=function(e){if(Ji.hasOwnProperty(e)){var t=Ji[e];delete Ji[e],t()}},Qi=function(e){return function(){Ki(e)}},ea=function(e){Ki(e.data)},ta=function(e){ze.postMessage(e+"",zi.protocol+"//"+zi.host)};Gi&&Wi||(Gi=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Ji[++Xi]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Ni(Xi),Xi},Wi=function(e){delete Ji[e]},"process"==Ke(Hi)?Ni=function(e){Hi.nextTick(Qi(e))}:Zi&&Zi.now?Ni=function(e){Zi.now(Qi(e))}:Yi&&!Vi?(Di=(Ui=new Yi).port2,Ui.port1.onmessage=ea,Ni=Xr(Di.postMessage,Di,1)):!ze.addEventListener||"function"!=typeof postMessage||ze.importScripts||Ge(ta)||"file:"===zi.protocol?Ni="onreadystatechange"in lt("script")?function(e){qi.appendChild(lt("script")).onreadystatechange=function(){qi.removeChild(this),Ki(e)}}:function(e){setTimeout(Qi(e),0)}:(Ni=ta,ze.addEventListener("message",ea,!1)));var na,ra,oa,ia,aa,ca,sa,la,ua={set:Gi,clear:Wi},da=ft.f,fa=ua.set,pa=ze.MutationObserver||ze.WebKitMutationObserver,ha=ze.process,ma=ze.Promise,ga="process"==Ke(ha),ya=da(ze,"queueMicrotask"),va=ya&&ya.value;va||(na=function(){var e,t;for(ga&&(e=ha.domain)&&e.exit();ra;){t=ra.fn,ra=ra.next;try{t()}catch(e){throw ra?ia():oa=void 0,e}}oa=void 0,e&&e.enter()},ga?ia=function(){ha.nextTick(na)}:pa&&!Vi?(aa=!0,ca=document.createTextNode(""),new pa(na).observe(ca,{characterData:!0}),ia=function(){ca.data=aa=!aa}):ma&&ma.resolve?(sa=ma.resolve(void 0),la=sa.then,ia=function(){la.call(sa,na)}):ia=function(){fa.call(ze,na)});var wa,ba,$a,xa,ka=va||function(e){var t={fn:e,next:void 0};oa&&(oa.next=t),ra||(ra=t,ia()),oa=t},Sa=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=vn(t),this.reject=vn(n)},Ea={f:function(e){return new Sa(e)}},Ta=function(e,t){if(pt(e),rt(t)&&t.constructor===e)return t;var n=Ea.f(e);return(0,n.resolve)(t),n.promise},Ca=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Oa=ua.set,Aa=Rr("species"),Ma="Promise",Ia=Ut.get,Pa=Ut.set,Ra=Ut.getterFor(Ma),Ba=vi,ja=ze.TypeError,La=ze.document,_a=ze.process,Na=Vt("fetch"),Ua=Ea.f,Da=Ua,Fa="process"==Ke(_a),qa=!!(La&&La.createEvent&&ze.dispatchEvent),Va=mn(Ma,(function(){if(!(kt(Ba)!==String(Ba))){if(66===Dr)return!0;if(!Fa&&"function"!=typeof PromiseRejectionEvent)return!0}if(Dr>=51&&/native code/.test(Ba))return!1;var e=Ba.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Aa]=t,!(e.then((function(){}))instanceof t)})),za=Va||!Fi((function(e){Ba.all(e).catch((function(){}))})),Ga=function(e){var t;return!(!rt(e)||"function"!=typeof(t=e.then))&&t},Wa=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;ka((function(){for(var o=t.value,i=1==t.state,a=0;r.length>a;){var c,s,l,u=r[a++],d=i?u.ok:u.fail,f=u.resolve,p=u.reject,h=u.domain;try{d?(i||(2===t.rejection&&Xa(e,t),t.rejection=1),!0===d?c=o:(h&&h.enter(),c=d(o),h&&(h.exit(),l=!0)),c===u.promise?p(ja("Promise-chain cycle")):(s=Ga(c))?s.call(c,f,p):f(c)):p(o)}catch(e){h&&!l&&h.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Ya(e,t)}))}},Ha=function(e,t,n){var r,o;qa?((r=La.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),ze.dispatchEvent(r)):r={promise:t,reason:n},(o=ze["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=ze.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Ya=function(e,t){Oa.call(ze,(function(){var n,r=t.value;if(Za(t)&&(n=Ca((function(){Fa?_a.emit("unhandledRejection",r,e):Ha("unhandledrejection",e,r)})),t.rejection=Fa||Za(t)?2:1,n.error))throw n.value}))},Za=function(e){return 1!==e.rejection&&!e.parent},Xa=function(e,t){Oa.call(ze,(function(){Fa?_a.emit("rejectionHandled",e):Ha("rejectionhandled",e,t.value)}))},Ja=function(e,t,n,r){return function(o){e(t,n,o,r)}},Ka=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Wa(e,t,!0))},Qa=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw ja("Promise can't be resolved itself");var o=Ga(n);o?ka((function(){var r={done:!1};try{o.call(n,Ja(Qa,e,r,t),Ja(Ka,e,r,t))}catch(n){Ka(e,r,n,t)}})):(t.value=n,t.state=1,Wa(e,t,!1))}catch(n){Ka(e,{done:!1},n,t)}}};function ec(e,t,n,r,o){return tc.apply(this,arguments)}function tc(){return(tc=Ln(regeneratorRuntime.mark((function e(t,n,r,o,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.update((function(t){var a=t.nextChildIndex,c=ci(n,(function(e){return{selectedByParent:e.selectedChild===a,wasLastSelectedByParent:e.lastSelected===a,onSelectedPath:e.onSelectedPath&&e.selectedChild===a}}),{selectedByParent:!1,wasLastSelectedByParent:!1,onSelectedPath:!1},(function(e,t){return e.selectedByParent===t.selectedByParent&&e.wasLastSelectedByParent===t.wasLastSelectedByParent&&e.onSelectedPath===t.onSelectedPath})),s=lc([].concat(Xn(t.path),[a]),o,i,c,r);e(s);var l=qn({},t.children);return l[t.nextChildIndex]=s,qn(qn({},t),{},{children:l,nextChildIndex:a+1})}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(){return(nc=Ln(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return t.update((function(t){var o=t.children[r];if(void 0===o)return e(null),t;var i=qn({},t.children);delete i[r];var a=qn(qn({},t),{},{children:i});return t.selectedChild===r&&(a.selectedChild=null,n.set(null)),t.lastSelected===r&&(a.lastSelected=null),e(o),a}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(){return(rc=Ln(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return t.update((function(t){var r=t.hiddenChildren[n];if(void 0===r)return e(null),t;var o=qn({},t.children),i=qn({},t.hiddenChildren);o[n]=r,delete i[n];var a=qn(qn({},t),{},{children:o,hiddenChildren:i});return e(r),a}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oc(){return(oc=Ln(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return t.update((function(t){var o=t.children[r];if(void 0===o)return e(null),t;var i=qn({},t.children),a=qn({},t.hiddenChildren);a[r]=o,delete i[r];var c=qn(qn({},t),{},{children:i,hiddenChildren:a});return t.selectedChild===r&&(c.selectedChild=null,n.set(null)),t.lastSelected===r&&(c.lastSelected=null),e(o),c}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(){return(ic=Ln(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return t.update((function(t){var o=t.children[r];if(void 0===o)return e(null),t;var i=qn({},t.children);delete i[r];var a=qn(qn({},t),{},{children:i});return t.selectedChild===r&&(a.selectedChild=null,n()),t.lastSelected===r&&(a.lastSelected=null),e(o),a}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ac(){return(ac=Ln(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return t.update((function(t){var r=t.hiddenChildren[n];if(void 0===r)return e(null),t;var o=qn({},t.children),i=qn({},t.hiddenChildren);o[n]=r,delete i[n];var a=qn(qn({},t),{},{children:o,hiddenChildren:i});return e(r),a}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(){return(cc=Ln(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return t.update((function(t){var o=t.children[r];if(void 0===o)return e(null),t;var i=qn({},t.children),a=qn({},t.hiddenChildren);a[r]=o,delete i[r];var c=qn(qn({},t),{},{children:i,hiddenChildren:a});return t.selectedChild===r&&(c.selectedChild=null,n()),t.lastSelected===r&&(c.lastSelected=null),e(o),c}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e){e.update((function(e){return qn(qn({},e),{},{nextChildIndex:Math.max.apply(Math,Xn(Object.keys(e.children).map((function(e){return parseInt(e)}))).concat([0]))+1})}))}function lc(e,t,n,r,o){var i,a,c=tr({type:"branch",nextChildIndex:1,children:{},hiddenChildren:{},selectedChild:null,lastSelected:null,path:e}),s=nr([c,t,r],(function(e){var t=Zn(e,3),n=t[0],r=t[1],o=t[2];return qn(qn(qn({},n),r),o)})),l=function(){o.set(a)};return i=qn(qn({type:"branch"},s),{},{selectedChildStore_2:uc(s),numberOfLeavesStore:dc(s),internalSelect:function(e){return function(e,t,n){0!==n.length?e.update((function(e){var r=e.children[n[0]];if(void 0===r)return t(),qn(qn({},e),{},{selectedChild:null,lastSelected:e.selectedChild});var o=Xn(n);return o.shift(),r.internalSelect(o),qn(qn({},e),{},{selectedChild:n[0],lastSelected:e.selectedChild})})):e.update((function(e){return t(),qn(qn({},e),{},{selectedChild:null,lastSelected:e.selectedChild})}))}(c,l,e)},addChild:function(e,t){return ec(c,s,o,e,t)},deleteChild:function(e){return function(e,t,n){return ic.apply(this,arguments)}(c,l,e)},showChild:function(e){return function(e,t){return ac.apply(this,arguments)}(c,e)},hideChild:function(e){return function(e,t,n){return cc.apply(this,arguments)}(c,l,e)},resetNextChildIndex:function(){return sc(c)}}),a=qn(qn({},i),n(i))}function uc(e){return ci(e,(function(e){var t=e.selectedChild;if(null===t)return null;var n=e.children[t];return void 0===n?null:n}),null)}function dc(e){return ai(nr(e,(function(e){var t=Object.values(e.children).map((function(e){return e.numberOfLeavesStore}));return 0===t.length?tr(1):nr(t,(function(e){return 0===e.length?1:e.reduce((function(e,t){return e+t}),0)}))})),1)}Va&&(Ba=function(e){Ei(this,Ba,Ma),vn(e),wa.call(this);var t=Ia(this);try{e(Ja(Qa,this,t),Ja(Ka,this,t))}catch(e){Ka(this,t,e)}},(wa=function(e){Pa(this,{type:Ma,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=wi(Ba.prototype,{then:function(e,t){var n=Ra(this),r=Ua(Wo(this,Ba));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Fa?_a.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Wa(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),ba=function(){var e=new wa,t=Ia(e);this.promise=e,this.resolve=Ja(Qa,e,t),this.reject=Ja(Ka,e,t)},Ea.f=Ua=function(e){return e===Ba||e===$a?new ba(e):Da(e)},"function"==typeof vi&&(xa=vi.prototype.then,Dt(vi.prototype,"then",(function(e,t){var n=this;return new Ba((function(e,t){xa.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Na&&yn({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Ta(Ba,Na.apply(ze,arguments))}}))),yn({global:!0,wrap:!0,forced:Va},{Promise:Ba}),xi(Ba,Ma,!1),Si(Ma),$a=Vt(Ma),yn({target:Ma,stat:!0,forced:Va},{reject:function(e){var t=Ua(this);return t.reject.call(void 0,e),t.promise}}),yn({target:Ma,stat:!0,forced:Va},{resolve:function(e){return Ta(this,e)}}),yn({target:Ma,stat:!0,forced:za},{all:function(e){var t=this,n=Ua(t),r=n.resolve,o=n.reject,i=Ca((function(){var n=vn(t.resolve),i=[],a=0,c=1;Ri(e,(function(e){var s=a++,l=!1;i.push(void 0),c++,n.call(t,e).then((function(e){l||(l=!0,i[s]=e,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=Ua(t),r=n.reject,o=Ca((function(){var o=vn(t.resolve);Ri(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var fc,pc=function(e,t){var n,r=tr({type:"root",children:{},hiddenChildren:{},nextChildIndex:1,selectedChild:null,lastSelected:null,path:[]}),o=tr({selectedByParent:!0,wasLastSelectedByParent:!1,onSelectedPath:!0}),i=nr([r,e,o],(function(e){var t=Zn(e,3),n=t[0],r=t[1],o=t[2];return qn(qn(qn({},n),r),o)})),a=tr(null);return n=qn(qn({type:"root"},i),{},{selectedChildStore_2:uc(i),numberOfLeavesStore:dc(i),addChild:function(e,t){return ec(r,i,a,e,t)},select:function(e){return function(e,t,n){0!==n.length?e.update((function(e){var r=e.children[n[0]];if(void 0===r)return t.set(null),qn(qn({},e),{},{selectedChild:null,lastSelected:e.selectedChild});var o=Xn(n);return o.shift(),r.internalSelect(o),qn(qn({},e),{},{selectedChild:n[0],lastSelected:e.selectedChild})})):e.update((function(e){return t.set(null),qn(qn({},e),{},{selectedChild:null,lastSelected:e.selectedChild})}))}(r,a,e)},deleteChild:function(e){return function(e,t,n){return nc.apply(this,arguments)}(r,a,e)},showChild:function(e){return function(e,t){return rc.apply(this,arguments)}(r,e)},hideChild:function(e){return function(e,t,n){return oc.apply(this,arguments)}(r,a,e)},resetNextChildIndex:function(){return sc(r)},selectedStore_2:a}),qn(qn({},n),t(n))},hc=We?Object.defineProperties:function(e,t){pt(e);for(var n,r=Mn(t),o=r.length,i=0;o>i;)mt.f(e,n=r[i++],t[n]);return e},mc=It("IE_PROTO"),gc=function(){},yc=function(e){return"<script>"+e+"<\/script>"},vc=function(){try{fc=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;vc=fc?function(e){e.write(yc("")),e.close();var t=e.parentWindow.Object;return e=null,t}(fc):((t=lt("iframe")).style.display="none",qi.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(yc("document.F=Object")),e.close(),e.F);for(var n=nn.length;n--;)delete vc.prototype[nn[n]];return vc()};Pt[mc]=!0;var wc=Object.create||function(e,t){var n;return null!==e?(gc.prototype=pt(e),n=new gc,gc.prototype=null,n[mc]=e):n=vc(),void 0===t?n:hc(n,t)},bc=Rr("unscopables"),$c=Array.prototype;null==$c[bc]&&mt.f($c,bc,{configurable:!0,value:wc(null)});var xc,kc,Sc,Ec=function(e){$c[bc][e]=!0},Tc=!Ge((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Cc=It("IE_PROTO"),Oc=Object.prototype,Ac=Tc?Object.getPrototypeOf:function(e){return e=wn(e),at(e,Cc)?e[Cc]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Oc:null},Mc=Rr("iterator"),Ic=!1;[].keys&&("next"in(Sc=[].keys())?(kc=Ac(Ac(Sc)))!==Object.prototype&&(xc=kc):Ic=!0),null==xc&&(xc={}),at(xc,Mc)||gt(xc,Mc,(function(){return this}));var Pc={IteratorPrototype:xc,BUGGY_SAFARI_ITERATORS:Ic},Rc=Pc.IteratorPrototype,Bc=function(){return this},jc=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return pt(n),function(e){if(!rt(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Lc=Pc.IteratorPrototype,_c=Pc.BUGGY_SAFARI_ITERATORS,Nc=Rr("iterator"),Uc=function(){return this},Dc=function(e,t,n,r,o,i,a){!function(e,t,n){var r=t+" Iterator";e.prototype=wc(Rc,{next:Xe(1,n)}),xi(e,r,!1),Ti[r]=Bc}(n,t,r);var c,s,l,u=function(e){if(e===o&&m)return m;if(!_c&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[Nc]||p["@@iterator"]||o&&p[o],m=!_c&&h||u(o),g="Array"==t&&p.entries||h;if(g&&(c=Ac(g.call(new e)),Lc!==Object.prototype&&c.next&&(Ac(c)!==Lc&&(jc?jc(c,Lc):"function"!=typeof c[Nc]&&gt(c,Nc,Uc)),xi(c,d,!0))),"values"==o&&h&&"values"!==h.name&&(f=!0,m=function(){return h.call(this)}),p[Nc]!==m&&gt(p,Nc,m),Ti[t]=m,o)if(s={values:u("values"),keys:i?m:u("keys"),entries:u("entries")},a)for(l in s)(_c||f||!(l in p))&&Dt(p,l,s[l]);else yn({target:t,proto:!0,forced:_c||f},s);return s},Fc=Ut.set,qc=Ut.getterFor("Array Iterator"),Vc=Dc(Array,"Array",(function(e,t){Fc(this,{type:"Array Iterator",target:nt(e),index:0,kind:t})}),(function(){var e=qc(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Ti.Arguments=Ti.Array,Ec("keys"),Ec("values"),Ec("entries");var zc=!!vi&&Ge((function(){vi.prototype.finally.call({then:function(){}},(function(){}))}));yn({target:"Promise",proto:!0,real:!0,forced:zc},{finally:function(e){var t=Wo(this,Vt("Promise")),n="function"==typeof e;return this.then(n?function(n){return Ta(t,e()).then((function(){return n}))}:e,n?function(n){return Ta(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof vi||vi.prototype.finally||Dt(vi.prototype,"finally",Vt("Promise").prototype.finally);var Gc=Yo.charAt,Wc=Ut.set,Hc=Ut.getterFor("String Iterator");Dc(String,"String",(function(e){Wc(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Hc(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Gc(n,r),t.index+=e.length,{value:e,done:!1})}));var Yc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Zc=Rr("iterator"),Xc=Rr("toStringTag"),Jc=Vc.values;for(var Kc in Yc){var Qc=ze[Kc],es=Qc&&Qc.prototype;if(es){if(es[Zc]!==Jc)try{gt(es,Zc,Jc)}catch(e){es[Zc]=Jc}if(es[Xc]||gt(es,Xc,Kc),Yc[Kc])for(var ts in Vc)if(es[ts]!==Vc[ts])try{gt(es,ts,Vc[ts])}catch(e){es[ts]=Vc[ts]}}}var ns=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},rs=Object.prototype.toString;function os(e){return"[object Array]"===rs.call(e)}function is(e){return void 0===e}function as(e){return null!==e&&"object"==typeof e}function cs(e){return"[object Function]"===rs.call(e)}function ss(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),os(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var ls={isArray:os,isArrayBuffer:function(e){return"[object ArrayBuffer]"===rs.call(e)},isBuffer:function(e){return null!==e&&!is(e)&&null!==e.constructor&&!is(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:as,isUndefined:is,isDate:function(e){return"[object Date]"===rs.call(e)},isFile:function(e){return"[object File]"===rs.call(e)},isBlob:function(e){return"[object Blob]"===rs.call(e)},isFunction:cs,isStream:function(e){return as(e)&&cs(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:ss,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)ss(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)ss(arguments[r],n);return t},extend:function(e,t,n){return ss(t,(function(t,r){e[r]=n&&"function"==typeof t?ns(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function us(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ds=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(ls.isURLSearchParams(t))r=t.toString();else{var o=[];ls.forEach(t,(function(e,t){null!=e&&(ls.isArray(e)?t+="[]":e=[e],ls.forEach(e,(function(e){ls.isDate(e)?e=e.toISOString():ls.isObject(e)&&(e=JSON.stringify(e)),o.push(us(t)+"="+us(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function fs(){this.handlers=[]}fs.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},fs.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},fs.prototype.forEach=function(e){ls.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ps=fs,hs=function(e,t,n){return ls.forEach(n,(function(n){e=n(e,t)})),e},ms=function(e){return!(!e||!e.__CANCEL__)},gs="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ys(){throw new Error("setTimeout has not been defined")}function vs(){throw new Error("clearTimeout has not been defined")}var ws=ys,bs=vs;function $s(e){if(ws===setTimeout)return setTimeout(e,0);if((ws===ys||!ws)&&setTimeout)return ws=setTimeout,setTimeout(e,0);try{return ws(e,0)}catch(t){try{return ws.call(null,e,0)}catch(t){return ws.call(this,e,0)}}}"function"==typeof gs.setTimeout&&(ws=setTimeout),"function"==typeof gs.clearTimeout&&(bs=clearTimeout);var xs,ks=[],Ss=!1,Es=-1;function Ts(){Ss&&xs&&(Ss=!1,xs.length?ks=xs.concat(ks):Es=-1,ks.length&&Cs())}function Cs(){if(!Ss){var e=$s(Ts);Ss=!0;for(var t=ks.length;t;){for(xs=ks,ks=[];++Es<t;)xs&&xs[Es].run();Es=-1,t=ks.length}xs=null,Ss=!1,function(e){if(bs===clearTimeout)return clearTimeout(e);if((bs===vs||!bs)&&clearTimeout)return bs=clearTimeout,clearTimeout(e);try{bs(e)}catch(t){try{return bs.call(null,e)}catch(t){return bs.call(this,e)}}}(e)}}function Os(e,t){this.fun=e,this.array=t}Os.prototype.run=function(){this.fun.apply(null,this.array)};function As(){}var Ms=As,Is=As,Ps=As,Rs=As,Bs=As,js=As,Ls=As;var _s=gs.performance||{},Ns=_s.now||_s.mozNow||_s.msNow||_s.oNow||_s.webkitNow||function(){return(new Date).getTime()};var Us=new Date;var Ds={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ks.push(new Os(e,t)),1!==ks.length||Ss||$s(Cs)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Ms,addListener:Is,once:Ps,off:Rs,removeListener:Bs,removeAllListeners:js,emit:Ls,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Ns.call(_s),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Us)/1e3}},Fs=function(e,t){ls.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},qs=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},Vs=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],zs=ls.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=ls.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Gs=ls.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),ls.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ls.isString(r)&&a.push("path="+r),ls.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Ws=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;ls.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",c=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+c)}var s,l,u=(s=e.baseURL,l=e.url,s&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(s,l):l);if(i.open(e.method.toUpperCase(),ds(u,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?function(e){var t,n,r,o={};return e?(ls.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=ls.trim(e.substr(0,r)).toLowerCase(),n=ls.trim(e.substr(r+1)),t){if(o[t]&&Vs.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:r,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(qs("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,o),i=null}},i.onabort=function(){i&&(n(qs("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(qs("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(qs(t,e,"ECONNABORTED",i)),i=null},ls.isStandardBrowserEnv()){var d=Gs,f=(e.withCredentials||zs(u))&&e.xsrfCookieName?d.read(e.xsrfCookieName):void 0;f&&(o[e.xsrfHeaderName]=f)}if("setRequestHeader"in i&&ls.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),ls.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),void 0===r&&(r=null),i.send(r)}))},Hs={"Content-Type":"application/x-www-form-urlencoded"};function Ys(e,t){!ls.isUndefined(e)&&ls.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Zs,Xs={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==Ds&&"[object process]"===Object.prototype.toString.call(Ds))&&(Zs=Ws),Zs),transformRequest:[function(e,t){return Fs(t,"Accept"),Fs(t,"Content-Type"),ls.isFormData(e)||ls.isArrayBuffer(e)||ls.isBuffer(e)||ls.isStream(e)||ls.isFile(e)||ls.isBlob(e)?e:ls.isArrayBufferView(e)?e.buffer:ls.isURLSearchParams(e)?(Ys(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ls.isObject(e)?(Ys(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};Xs.headers={common:{Accept:"application/json, text/plain, */*"}},ls.forEach(["delete","get","head"],(function(e){Xs.headers[e]={}})),ls.forEach(["post","put","patch"],(function(e){Xs.headers[e]=ls.merge(Hs)}));var Js=Xs;function Ks(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Qs=function(e){return Ks(e),e.headers=e.headers||{},e.data=hs(e.data,e.headers,e.transformRequest),e.headers=ls.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ls.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Js.adapter)(e).then((function(t){return Ks(e),t.data=hs(t.data,t.headers,e.transformResponse),t}),(function(t){return ms(t)||(Ks(e),t&&t.response&&(t.response.data=hs(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},el=function(e,t){t=t||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];ls.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),ls.forEach(o,(function(r){ls.isObject(t[r])?n[r]=ls.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:ls.isObject(e[r])?n[r]=ls.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),ls.forEach(i,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var a=r.concat(o).concat(i),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return ls.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function tl(e){this.defaults=e,this.interceptors={request:new ps,response:new ps}}tl.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=el(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[Qs,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},tl.prototype.getUri=function(e){return e=el(this.defaults,e),ds(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},ls.forEach(["delete","get","head","options"],(function(e){tl.prototype[e]=function(t,n){return this.request(ls.merge(n||{},{method:e,url:t}))}})),ls.forEach(["post","put","patch"],(function(e){tl.prototype[e]=function(t,n,r){return this.request(ls.merge(r||{},{method:e,url:t,data:n}))}}));var nl=tl;function rl(e){this.message=e}rl.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},rl.prototype.__CANCEL__=!0;var ol=rl;function il(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ol(e),t(n.reason))}))}il.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},il.source=function(){var e;return{token:new il((function(t){e=t})),cancel:e}};var al=il;function cl(e){var t=new nl(e),n=ns(nl.prototype.request,t);return ls.extend(n,nl.prototype,t),ls.extend(n,t),n}var sl=cl(Js);sl.Axios=nl,sl.create=function(e){return cl(el(sl.defaults,e))},sl.Cancel=ol,sl.CancelToken=al,sl.isCancel=ms,sl.all=function(e){return Promise.all(e)},sl.spread=function(e){return function(t){return e.apply(null,t)}};var ll=sl,ul=sl;ll.default=ul;var dl=ll,fl=function(e){for(var t=wn(this),n=Yt(t.length),r=arguments.length,o=Jt(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,a=void 0===i?n:Jt(i,n);a>o;)t[o++]=e;return t};yn({target:"Array",proto:!0},{fill:fl}),Ec("fill");var pl="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,hl=function(e){if(void 0===e)return 0;var t=Wt(e),n=Yt(t);if(t!==n)throw RangeError("Wrong length or index");return n},ml=Math.abs,gl=Math.pow,yl=Math.floor,vl=Math.log,wl=Math.LN2,bl=function(e,t,n){var r,o,i,a=new Array(n),c=8*n-t-1,s=(1<<c)-1,l=s>>1,u=23===t?gl(2,-24)-gl(2,-77):0,d=e<0||0===e&&1/e<0?1:0,f=0;for((e=ml(e))!=e||e===1/0?(o=e!=e?1:0,r=s):(r=yl(vl(e)/wl),e*(i=gl(2,-r))<1&&(r--,i*=2),(e+=r+l>=1?u/i:u*gl(2,1-l))*i>=2&&(r++,i/=2),r+l>=s?(o=0,r=s):r+l>=1?(o=(e*i-1)*gl(2,t),r+=l):(o=e*gl(2,l-1)*gl(2,t),r=0));t>=8;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,c+=t;c>0;a[f++]=255&r,r/=256,c-=8);return a[--f]|=128*d,a},$l=function(e,t){var n,r=e.length,o=8*r-t-1,i=(1<<o)-1,a=i>>1,c=o-7,s=r-1,l=e[s--],u=127&l;for(l>>=7;c>0;u=256*u+e[s],s--,c-=8);for(n=u&(1<<-c)-1,u>>=-c,c+=t;c>0;n=256*n+e[s],s--,c-=8);if(0===u)u=1-a;else{if(u===i)return n?NaN:l?-1/0:1/0;n+=gl(2,t),u-=a}return(l?-1:1)*n*gl(2,u-t)},xl=on.f,kl=mt.f,Sl=Ut.get,El=Ut.set,Tl=ze.ArrayBuffer,Cl=Tl,Ol=ze.DataView,Al=Ol&&Ol.prototype,Ml=Object.prototype,Il=ze.RangeError,Pl=bl,Rl=$l,Bl=function(e){return[255&e]},jl=function(e){return[255&e,e>>8&255]},Ll=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},_l=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Nl=function(e){return Pl(e,23,4)},Ul=function(e){return Pl(e,52,8)},Dl=function(e,t){kl(e.prototype,t,{get:function(){return Sl(this)[t]}})},Fl=function(e,t,n,r){var o=hl(n),i=Sl(e);if(o+t>i.byteLength)throw Il("Wrong index");var a=Sl(i.buffer).bytes,c=o+i.byteOffset,s=a.slice(c,c+t);return r?s:s.reverse()},ql=function(e,t,n,r,o,i){var a=hl(n),c=Sl(e);if(a+t>c.byteLength)throw Il("Wrong index");for(var s=Sl(c.buffer).bytes,l=a+c.byteOffset,u=r(+o),d=0;d<t;d++)s[l+d]=u[i?d:t-d-1]};if(pl){if(!Ge((function(){Tl(1)}))||!Ge((function(){new Tl(-1)}))||Ge((function(){return new Tl,new Tl(1.5),new Tl(NaN),"ArrayBuffer"!=Tl.name}))){for(var Vl,zl=(Cl=function(e){return Ei(this,Cl),new Tl(hl(e))}).prototype=Tl.prototype,Gl=xl(Tl),Wl=0;Gl.length>Wl;)(Vl=Gl[Wl++])in Cl||gt(Cl,Vl,Tl[Vl]);zl.constructor=Cl}jc&&Ac(Al)!==Ml&&jc(Al,Ml);var Hl=new Ol(new Cl(2)),Yl=Al.setInt8;Hl.setInt8(0,2147483648),Hl.setInt8(1,2147483649),!Hl.getInt8(0)&&Hl.getInt8(1)||wi(Al,{setInt8:function(e,t){Yl.call(this,e,t<<24>>24)},setUint8:function(e,t){Yl.call(this,e,t<<24>>24)}},{unsafe:!0})}else Cl=function(e){Ei(this,Cl,"ArrayBuffer");var t=hl(e);El(this,{bytes:fl.call(new Array(t),0),byteLength:t}),We||(this.byteLength=t)},Ol=function(e,t,n){Ei(this,Ol,"DataView"),Ei(e,Cl,"DataView");var r=Sl(e).byteLength,o=Wt(t);if(o<0||o>r)throw Il("Wrong offset");if(o+(n=void 0===n?r-o:Yt(n))>r)throw Il("Wrong length");El(this,{buffer:e,byteLength:n,byteOffset:o}),We||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},We&&(Dl(Cl,"byteLength"),Dl(Ol,"buffer"),Dl(Ol,"byteLength"),Dl(Ol,"byteOffset")),wi(Ol.prototype,{getInt8:function(e){return Fl(this,1,e)[0]<<24>>24},getUint8:function(e){return Fl(this,1,e)[0]},getInt16:function(e){var t=Fl(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Fl(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return _l(Fl(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return _l(Fl(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return Rl(Fl(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return Rl(Fl(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){ql(this,1,e,Bl,t)},setUint8:function(e,t){ql(this,1,e,Bl,t)},setInt16:function(e,t){ql(this,2,e,jl,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){ql(this,2,e,jl,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){ql(this,4,e,Ll,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){ql(this,4,e,Ll,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){ql(this,4,e,Nl,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){ql(this,8,e,Ul,t,arguments.length>2?arguments[2]:void 0)}});xi(Cl,"ArrayBuffer"),xi(Ol,"DataView");var Zl={ArrayBuffer:Cl,DataView:Ol},Xl=Zl.ArrayBuffer,Jl=Zl.DataView,Kl=Xl.prototype.slice,Ql=Ge((function(){return!new Xl(2).slice(1,void 0).byteLength}));yn({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Ql},{slice:function(e,t){if(void 0!==Kl&&void 0===t)return Kl.call(pt(this),e);for(var n=pt(this).byteLength,r=Jt(e,n),o=Jt(void 0===t?n:t,n),i=new(Wo(this,Xl))(Yt(o-r)),a=new Jl(this),c=new Jl(i),s=0;r<o;)c.setUint8(s++,a.getUint8(r++));return i}});var eu,tu=mt.f,nu=ze.Int8Array,ru=nu&&nu.prototype,ou=ze.Uint8ClampedArray,iu=ou&&ou.prototype,au=nu&&Ac(nu),cu=ru&&Ac(ru),su=Object.prototype,lu=su.isPrototypeOf,uu=Rr("toStringTag"),du=At("TYPED_ARRAY_TAG"),fu=pl&&!!jc&&"Opera"!==uo(ze.opera),pu=!1,hu={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},mu=function(e){return rt(e)&&at(hu,uo(e))};for(eu in hu)ze[eu]||(fu=!1);if((!fu||"function"!=typeof au||au===Function.prototype)&&(au=function(){throw TypeError("Incorrect invocation")},fu))for(eu in hu)ze[eu]&&jc(ze[eu],au);if((!fu||!cu||cu===su)&&(cu=au.prototype,fu))for(eu in hu)ze[eu]&&jc(ze[eu].prototype,cu);if(fu&&Ac(iu)!==cu&&jc(iu,cu),We&&!at(cu,uu))for(eu in pu=!0,tu(cu,uu,{get:function(){return rt(this)?this[du]:void 0}}),hu)ze[eu]&&gt(ze[eu],du,eu);var gu={NATIVE_ARRAY_BUFFER_VIEWS:fu,TYPED_ARRAY_TAG:pu&&du,aTypedArray:function(e){if(mu(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(jc){if(lu.call(au,e))return e}else for(var t in hu)if(at(hu,eu)){var n=ze[t];if(n&&(e===n||lu.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(We){if(n)for(var r in hu){var o=ze[r];o&&at(o.prototype,e)&&delete o.prototype[e]}cu[e]&&!n||Dt(cu,e,n?t:fu&&ru[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(We){if(jc){if(n)for(r in hu)(o=ze[r])&&at(o,e)&&delete o[e];if(au[e]&&!n)return;try{return Dt(au,e,n?t:fu&&nu[e]||t)}catch(e){}}for(r in hu)!(o=ze[r])||o[e]&&!n||Dt(o,e,t)}},isView:function(e){var t=uo(e);return"DataView"===t||at(hu,t)},isTypedArray:mu,TypedArray:au,TypedArrayPrototype:cu},yu=gu.NATIVE_ARRAY_BUFFER_VIEWS,vu=ze.ArrayBuffer,wu=ze.Int8Array,bu=!yu||!Ge((function(){wu(1)}))||!Ge((function(){new wu(-1)}))||!Fi((function(e){new wu,new wu(null),new wu(1.5),new wu(e)}),!0)||Ge((function(){return 1!==new wu(new vu(2),1,void 0).length})),$u=function(e,t){var n=function(e){var t=Wt(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},xu=gu.aTypedArrayConstructor,ku=function(e){var t,n,r,o,i,a,c=wn(e),s=arguments.length,l=s>1?arguments[1]:void 0,u=void 0!==l,d=Ii(c);if(null!=d&&!Ai(d))for(a=(i=d.call(c)).next,c=[];!(o=a.call(i)).done;)c.push(o.value);for(u&&s>2&&(l=Xr(l,arguments[2],2)),n=Yt(c.length),r=new(xu(this))(n),t=0;n>t;t++)r[t]=u?l(c[t],t):c[t];return r},Su=qe((function(e){var t=on.f,n=Qr.forEach,r=Ut.get,o=Ut.set,i=mt.f,a=ft.f,c=Math.round,s=ze.RangeError,l=Zl.ArrayBuffer,u=Zl.DataView,d=gu.NATIVE_ARRAY_BUFFER_VIEWS,f=gu.TYPED_ARRAY_TAG,p=gu.TypedArray,h=gu.TypedArrayPrototype,m=gu.aTypedArrayConstructor,g=gu.isTypedArray,y=function(e,t){for(var n=0,r=t.length,o=new(m(e))(r);r>n;)o[n]=t[n++];return o},v=function(e,t){i(e,t,{get:function(){return r(this)[t]}})},w=function(e){var t;return e instanceof l||"ArrayBuffer"==(t=uo(e))||"SharedArrayBuffer"==t},b=function(e,t){return g(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return b(e,t=ot(t,!0))?Xe(2,e[t]):a(e,t)},x=function(e,t,n){return!(b(e,t=ot(t,!0))&&rt(n)&&at(n,"value"))||at(n,"get")||at(n,"set")||n.configurable||at(n,"writable")&&!n.writable||at(n,"enumerable")&&!n.enumerable?i(e,t,n):(e[t]=n.value,e)};We?(d||(ft.f=$,mt.f=x,v(h,"buffer"),v(h,"byteOffset"),v(h,"byteLength"),v(h,"length")),yn({target:"Object",stat:!0,forced:!d},{getOwnPropertyDescriptor:$,defineProperty:x}),e.exports=function(e,a,m){var v=e.match(/\d+$/)[0]/8,b=e+(m?"Clamped":"")+"Array",$="get"+e,x="set"+e,k=ze[b],S=k,E=S&&S.prototype,T={},C=function(e,t){i(e,t,{get:function(){return function(e,t){var n=r(e);return n.view[$](t*v+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=r(e);m&&(n=(n=c(n))<0?0:n>255?255:255&n),o.view[x](t*v+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};d?bu&&(S=a((function(e,t,n,r){return Ei(e,S,b),function(e,t,n){var r,o;return jc&&"function"==typeof(r=t.constructor)&&r!==n&&rt(o=r.prototype)&&o!==n.prototype&&jc(e,o),e}(rt(t)?w(t)?void 0!==r?new k(t,$u(n,v),r):void 0!==n?new k(t,$u(n,v)):new k(t):g(t)?y(S,t):ku.call(S,t):new k(hl(t)),e,S)})),jc&&jc(S,p),n(t(k),(function(e){e in S||gt(S,e,k[e])})),S.prototype=E):(S=a((function(e,t,n,r){Ei(e,S,b);var i,a,c,d=0,f=0;if(rt(t)){if(!w(t))return g(t)?y(S,t):ku.call(S,t);i=t,f=$u(n,v);var p=t.byteLength;if(void 0===r){if(p%v)throw s("Wrong length");if((a=p-f)<0)throw s("Wrong length")}else if((a=Yt(r)*v)+f>p)throw s("Wrong length");c=a/v}else c=hl(t),i=new l(a=c*v);for(o(e,{buffer:i,byteOffset:f,byteLength:a,length:c,view:new u(i)});d<c;)C(e,d++)})),jc&&jc(S,p),E=S.prototype=wc(h)),E.constructor!==S&&gt(E,"constructor",S),f&&gt(E,f,b),T[b]=S,yn({global:!0,forced:S!=k,sham:!d},T),"BYTES_PER_ELEMENT"in S||gt(S,"BYTES_PER_ELEMENT",v),"BYTES_PER_ELEMENT"in E||gt(E,"BYTES_PER_ELEMENT",v),Si(b)}):e.exports=function(){}}));Su("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Eu=Math.min,Tu=[].copyWithin||function(e,t){var n=wn(this),r=Yt(n.length),o=Jt(e,r),i=Jt(t,r),a=arguments.length>2?arguments[2]:void 0,c=Eu((void 0===a?r:Jt(a,r))-i,r-o),s=1;for(i<o&&o<i+c&&(s=-1,i+=c-1,o+=c-1);c-- >0;)i in n?n[o]=n[i]:delete n[o],o+=s,i+=s;return n},Cu=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("copyWithin",(function(e,t){return Tu.call(Cu(this),e,t,arguments.length>2?arguments[2]:void 0)}));var Ou=Qr.every,Au=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("every",(function(e){return Ou(Au(this),e,arguments.length>1?arguments[1]:void 0)}));var Mu=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("fill",(function(e){return fl.apply(Mu(this),arguments)}));var Iu=Qr.filter,Pu=gu.aTypedArray,Ru=gu.aTypedArrayConstructor;(0,gu.exportTypedArrayMethod)("filter",(function(e){for(var t=Iu(Pu(this),e,arguments.length>1?arguments[1]:void 0),n=Wo(this,this.constructor),r=0,o=t.length,i=new(Ru(n))(o);o>r;)i[r]=t[r++];return i}));var Bu=Qr.find,ju=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("find",(function(e){return Bu(ju(this),e,arguments.length>1?arguments[1]:void 0)}));var Lu=Qr.findIndex,_u=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("findIndex",(function(e){return Lu(_u(this),e,arguments.length>1?arguments[1]:void 0)}));var Nu=Qr.forEach,Uu=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("forEach",(function(e){Nu(Uu(this),e,arguments.length>1?arguments[1]:void 0)}));var Du=Qt.includes,Fu=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("includes",(function(e){return Du(Fu(this),e,arguments.length>1?arguments[1]:void 0)}));var qu=Qt.indexOf,Vu=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("indexOf",(function(e){return qu(Vu(this),e,arguments.length>1?arguments[1]:void 0)}));var zu=Rr("iterator"),Gu=ze.Uint8Array,Wu=Vc.values,Hu=Vc.keys,Yu=Vc.entries,Zu=gu.aTypedArray,Xu=gu.exportTypedArrayMethod,Ju=Gu&&Gu.prototype[zu],Ku=!!Ju&&("values"==Ju.name||null==Ju.name),Qu=function(){return Wu.call(Zu(this))};Xu("entries",(function(){return Yu.call(Zu(this))})),Xu("keys",(function(){return Hu.call(Zu(this))})),Xu("values",Qu,!Ku),Xu(zu,Qu,!Ku);var ed=gu.aTypedArray,td=[].join;(0,gu.exportTypedArrayMethod)("join",(function(e){return td.apply(ed(this),arguments)}));var nd=Math.min,rd=[].lastIndexOf,od=!!rd&&1/[1].lastIndexOf(1,-0)<0,id=xn("lastIndexOf"),ad=Tn("indexOf",{ACCESSORS:!0,1:0}),cd=od||!id||!ad?function(e){if(od)return rd.apply(this,arguments)||0;var t=nt(this),n=Yt(t.length),r=n-1;for(arguments.length>1&&(r=nd(r,Wt(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:rd,sd=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("lastIndexOf",(function(e){return cd.apply(sd(this),arguments)}));var ld=Qr.map,ud=gu.aTypedArray,dd=gu.aTypedArrayConstructor;(0,gu.exportTypedArrayMethod)("map",(function(e){return ld(ud(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(dd(Wo(e,e.constructor)))(t)}))}));var fd=$n.left,pd=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("reduce",(function(e){return fd(pd(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var hd=$n.right,md=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("reduceRight",(function(e){return hd(md(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var gd=gu.aTypedArray,yd=gu.exportTypedArrayMethod,vd=Math.floor;yd("reverse",(function(){for(var e,t=gd(this).length,n=vd(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var wd=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("set",(function(e){wd(this);var t=$u(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=wn(e),o=Yt(r.length),i=0;if(o+t>n)throw RangeError("Wrong length");for(;i<o;)this[t+i]=r[i++]}),Ge((function(){new Int8Array(1).set({})})));var bd=gu.aTypedArray,$d=gu.aTypedArrayConstructor,xd=[].slice;(0,gu.exportTypedArrayMethod)("slice",(function(e,t){for(var n=xd.call(bd(this),e,t),r=Wo(this,this.constructor),o=0,i=n.length,a=new($d(r))(i);i>o;)a[o]=n[o++];return a}),Ge((function(){new Int8Array(1).slice()})));var kd=Qr.some,Sd=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("some",(function(e){return kd(Sd(this),e,arguments.length>1?arguments[1]:void 0)}));var Ed=gu.aTypedArray,Td=[].sort;(0,gu.exportTypedArrayMethod)("sort",(function(e){return Td.call(Ed(this),e)}));var Cd=gu.aTypedArray;(0,gu.exportTypedArrayMethod)("subarray",(function(e,t){var n=Cd(this),r=n.length,o=Jt(e,r);return new(Wo(n,n.constructor))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,Yt((void 0===t?r:Jt(t,r))-o))}));var Od=ze.Int8Array,Ad=gu.aTypedArray,Md=gu.exportTypedArrayMethod,Id=[].toLocaleString,Pd=[].slice,Rd=!!Od&&Ge((function(){Id.call(new Od(1))}));Md("toLocaleString",(function(){return Id.apply(Rd?Pd.call(Ad(this)):Ad(this),arguments)}),Ge((function(){return[1,2].toLocaleString()!=new Od([1,2]).toLocaleString()}))||!Ge((function(){Od.prototype.toLocaleString.call([1,2])})));var Bd=gu.exportTypedArrayMethod,jd=ze.Uint8Array,Ld=jd&&jd.prototype||{},_d=[].toString,Nd=[].join;Ge((function(){_d.call({})}))&&(_d=function(){return Nd.call(this)});var Ud=Ld.toString!=_d;Bd("toString",_d,Ud);var Dd=function(){function e(t,n,r){_n(this,e),Dn(this,"ctx",void 0),Dn(this,"gain",void 0),Dn(this,"envelope",void 0),Dn(this,"attackNode",void 0),Dn(this,"decayNode",void 0),Dn(this,"releaseNode",void 0),Dn(this,"input",void 0),this.ctx=t,this.gain=n,this.envelope=r,this.attackNode=t.createGain(),this.decayNode=t.createGain(),this.releaseNode=t.createGain(),this.attackNode.gain.value=0,this.decayNode.gain.value=1,this.releaseNode.gain.value=1,this.attackNode.connect(this.decayNode),this.decayNode.connect(this.releaseNode),this.input=this.attackNode}return Un(e,[{key:"connect",value:function(e,t,n){return e instanceof AudioParam?this.releaseNode.connect(e,t):this.releaseNode.connect(e,t,n),this}},{key:"schedule",value:function(e,t,n){if(t>=0)this.attackNode.gain.setValueAtTime(0,t),this.attackNode.gain.linearRampToValueAtTime(this.gain*e,t+this.envelope.attack),this.decayNode.gain.setTargetAtTime(this.envelope.sustain,t+this.envelope.attack+this.envelope.hold,this.envelope.decay);else if(-t<this.envelope.attack){var r=-t/this.envelope.attack;this.attackNode.gain.setValueAtTime(this.gain*e*r,0),this.attackNode.gain.linearRampToValueAtTime(this.gain*e,t+this.envelope.attack),this.decayNode.gain.setTargetAtTime(this.envelope.sustain,t+this.envelope.attack+this.envelope.hold,this.envelope.decay)}else if(-t<this.envelope.attack+this.envelope.hold)this.attackNode.gain.setValueAtTime(this.gain*e,0),this.decayNode.gain.setTargetAtTime(this.envelope.sustain,t+this.envelope.attack+this.envelope.hold,this.envelope.decay);else{var o=(-t-this.envelope.attack-this.envelope.hold)/this.envelope.decay,i=1-Math.pow(1-Math.exp(-1),o);this.attackNode.gain.setValueAtTime(this.gain*e,0),this.decayNode.gain.setValueAtTime(i,0),this.decayNode.gain.setTargetAtTime(this.envelope.sustain,0,this.envelope.decay)}return this.releaseNode.gain.setTargetAtTime(0,n,this.envelope.release),this}}]),e}(),Fd=function(){function e(t,n,r){_n(this,e),Dn(this,"ctx",void 0),Dn(this,"gain",void 0),Dn(this,"envelope",void 0),Dn(this,"attackNode",void 0),Dn(this,"decayNode",void 0),Dn(this,"input",void 0),this.ctx=t,this.gain=n,this.envelope=r,this.attackNode=t.createGain(),this.decayNode=t.createGain(),this.attackNode.gain.value=0,this.decayNode.gain.value=1,this.attackNode.connect(this.decayNode),this.input=this.attackNode}return Un(e,[{key:"connect",value:function(e,t,n){return e instanceof AudioParam?this.decayNode.connect(e,t):this.decayNode.connect(e,t,n),this}},{key:"schedule",value:function(e,t){if(t>=0)this.attackNode.gain.setValueAtTime(0,t),this.attackNode.gain.linearRampToValueAtTime(this.gain*e,t+this.envelope.attack),this.decayNode.gain.setTargetAtTime(0,t+this.envelope.attack+this.envelope.hold,this.envelope.decay);else if(-t<this.envelope.attack){var n=-t/this.envelope.attack;this.attackNode.gain.setValueAtTime(this.gain*e*n,0),this.attackNode.gain.linearRampToValueAtTime(this.gain*e,t+this.envelope.attack),this.decayNode.gain.setTargetAtTime(0,t+this.envelope.attack+this.envelope.hold,this.envelope.decay)}else if(-t<this.envelope.attack+this.envelope.hold)this.attackNode.gain.setValueAtTime(this.gain*e,0),this.decayNode.gain.setTargetAtTime(0,t+this.envelope.attack+this.envelope.hold,this.envelope.decay);else{var r=(-t-this.envelope.attack-this.envelope.hold)/this.envelope.decay,o=1-Math.pow(1-Math.exp(-1),r);this.attackNode.gain.setValueAtTime(this.gain*e,0),this.decayNode.gain.setValueAtTime(o,0),this.decayNode.gain.setTargetAtTime(0,0,this.envelope.decay)}return this}}]),e}(),qd=Qr.forEach,Vd=xn("forEach"),zd=Tn("forEach"),Gd=Vd&&zd?[].forEach:function(e){return qd(this,e,arguments.length>1?arguments[1]:void 0)};for(var Wd in yn({target:"Array",proto:!0,forced:[].forEach!=Gd},{forEach:Gd}),Yc){var Hd=ze[Wd],Yd=Hd&&Hd.prototype;if(Yd&&Yd.forEach!==Gd)try{gt(Yd,"forEach",Gd)}catch(e){Yd.forEach=Gd}}var Zd=function(){function e(){_n(this,e),Dn(this,"instrument",void 0)}var t;return Un(e,[{key:"schedule",value:(t=Ln(regeneratorRuntime.mark((function e(t,n,r){var o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(t,n);case 2:r[this.instrument].forEach((function(e){return o.loadNote(e,t,n)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();function Xd(e){return 440*Math.pow(2,(e-69)/12)}var Jd=function(e){Vn(o,e);var t,n,r=Yn(o);function o(){var e;_n(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Dn(Wn(e=r.call.apply(r,[this].concat(n))),"instrument","piano"),Dn(Wn(e),"harmonicWave",null),e}return Un(o,[{key:"setup",value:(n=Ln(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Float32Array(15),o=new Float32Array(15),r.fill(1),o.fill(0),r[0]=0,this.harmonicWave=t.createPeriodicWave(r,o);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"loadNote",value:(t=Ln(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=new Kd(n,this.harmonicWave)).frequencyParam.value=Xd(t.pitch),o.connect(r),o.schedule(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),o}(Zd),Kd=function(){function e(t,n){_n(this,e),Dn(this,"idealFrequency",void 0),Dn(this,"frequencyParam",void 0),Dn(this,"lowFrequency",void 0),Dn(this,"midFrequency",void 0),Dn(this,"highFrequency",void 0),Dn(this,"lowTricord",void 0),Dn(this,"midTricord",void 0),Dn(this,"highTricord",void 0),Dn(this,"hammer",void 0),Dn(this,"lowpass",void 0),Dn(this,"lowpassEnvelope",void 0),Dn(this,"output",void 0),this.idealFrequency=t.createConstantSource(),this.frequencyParam=this.idealFrequency.offset,this.midFrequency=t.createGain(),this.midFrequency.gain.value=e.DETUNE,this.idealFrequency.connect(this.midFrequency),this.lowFrequency=t.createGain(),this.lowFrequency.gain.value=e.LOW_FREQ_MULT,this.midFrequency.connect(this.lowFrequency),this.highFrequency=t.createGain(),this.highFrequency.gain.value=e.HIGH_FREQ_MULT,this.midFrequency.connect(this.highFrequency),this.lowTricord=new Qd(t,n),this.midTricord=new Qd(t,n),this.highTricord=new Qd(t,n),this.lowFrequency.connect(this.lowTricord.frequencyParam),this.midFrequency.connect(this.midTricord.frequencyParam),this.highFrequency.connect(this.highTricord.frequencyParam),this.lowpass=t.createBiquadFilter(),this.lowpass.type="lowpass",this.lowpassEnvelope=new Fd(t,30,e.LOW_PASS_ENVELOPE),this.midFrequency.connect(this.lowpassEnvelope.input),this.lowpassEnvelope.connect(this.lowpass.frequency),this.lowTricord.connect(this.lowpass),this.midTricord.connect(this.lowpass),this.highTricord.connect(this.lowpass),this.hammer=new ef(t),this.midFrequency.connect(this.hammer.frequencyParam),this.output=t.createGain(),this.output.gain.value=e.VOLUME,this.lowpass.connect(this.output),this.hammer.connect(this.output)}return Un(e,[{key:"connect",value:function(e,t,n){return e instanceof AudioParam?this.output.connect(e,t):this.output.connect(e,t,n),this}},{key:"schedule",value:function(e){this.idealFrequency.start(Math.max(0,e.startTime)),this.lowpassEnvelope.schedule(e.volume,e.startTime);var t=qn(qn({},e),{},{startTime:e.startTime}),n=this.lowTricord.schedule(t),r=this.midTricord.schedule(t),o=this.highTricord.schedule(t),i=this.hammer.schedule(t);if("COMPLETE"===e.type){var a=Math.max(n,r,o,i);this.idealFrequency.stop(a)}}}]),e}();Dn(Kd,"VOLUME",.21),Dn(Kd,"DETUNE",1.003),Dn(Kd,"LOW_FREQ_MULT",.9997),Dn(Kd,"HIGH_FREQ_MULT",1.0008),Dn(Kd,"LOW_PASS_ENVELOPE",{attack:0,hold:.01,decay:.5});var Qd=function(){function e(t,n){_n(this,e),Dn(this,"fundamentalFrequency",void 0),Dn(this,"frequencyParam",void 0),Dn(this,"fundamentalOscillator",void 0),Dn(this,"fundamentalEnvelope",void 0),Dn(this,"harmonicOscillator",void 0),Dn(this,"harmonicEnvelope",void 0),this.fundamentalFrequency=t.createConstantSource(),this.frequencyParam=this.fundamentalFrequency.offset,this.fundamentalOscillator=t.createOscillator(),this.fundamentalOscillator.frequency.value=0,this.fundamentalFrequency.connect(this.fundamentalOscillator.frequency),this.fundamentalEnvelope=new Dd(t,e.FUNDAMENTAL_VOLUME,e.FUNDAMENTAL_ENVELOPE),this.fundamentalOscillator.connect(this.fundamentalEnvelope.input),this.harmonicOscillator=t.createOscillator(),this.harmonicOscillator.frequency.value=0,this.fundamentalFrequency.connect(this.harmonicOscillator.frequency),this.harmonicOscillator.setPeriodicWave(n),this.harmonicEnvelope=new Dd(t,e.HARMONIC_VOLUME,e.HARMONIC_ENVELOPE),this.harmonicOscillator.connect(this.harmonicEnvelope.input)}return Un(e,[{key:"connect",value:function(e,t,n){return e instanceof AudioParam?(this.fundamentalEnvelope.connect(e,t),this.harmonicEnvelope.connect(e,t)):(this.fundamentalEnvelope.connect(e,t,n),this.harmonicEnvelope.connect(e,t,n)),this}},{key:"schedule",value:function(e){return"COMPLETE"===e.type?this.scheduleComplete(e):this.scheduleIncomplete(e)}},{key:"scheduleComplete",value:function(t){var n=t.startTime,r=t.endTime,o=t.volume,i=r+vf*e.FUNDAMENTAL_ENVELOPE.release;this.fundamentalFrequency.start(Math.max(0,n)),this.fundamentalFrequency.stop(i),this.fundamentalOscillator.start(Math.max(0,n)),this.fundamentalOscillator.stop(i),this.fundamentalEnvelope.schedule(o,n,r);var a=r+vf*e.HARMONIC_ENVELOPE.release;return this.harmonicOscillator.start(Math.max(0,n)),this.harmonicOscillator.stop(a),this.harmonicEnvelope.schedule(o,n,r),Math.max(i,a)}},{key:"scheduleIncomplete",value:function(e){var t=e.startTime,n=e.volume;return this.fundamentalFrequency.start(Math.max(0,t)),this.fundamentalOscillator.start(Math.max(0,t)),this.fundamentalEnvelope.schedule(n,t,1e6),this.harmonicOscillator.start(Math.max(0,t)),this.harmonicEnvelope.schedule(n,t,1e6),0}}]),e}();Dn(Qd,"FUNDAMENTAL_VOLUME",.2),Dn(Qd,"HARMONIC_VOLUME",.1),Dn(Qd,"FUNDAMENTAL_ENVELOPE",{attack:.003,hold:.01,decay:2,sustain:0,release:.4}),Dn(Qd,"HARMONIC_ENVELOPE",{attack:.003,hold:0,decay:1.8,sustain:0,release:.2});var ef=function(){function e(t){_n(this,e),Dn(this,"frequency",void 0),Dn(this,"frequencyParam",void 0),Dn(this,"oscillator",void 0),Dn(this,"oscillatorFrequency",void 0),Dn(this,"envelope",void 0),this.frequency=t.createConstantSource(),this.frequencyParam=this.frequency.offset,this.oscillator=t.createOscillator(),this.oscillator.type="sawtooth",this.oscillator.frequency.value=0,this.oscillatorFrequency=t.createGain(),this.oscillatorFrequency.gain.value=e.DETUNE,this.oscillatorFrequency.connect(this.oscillator.frequency),this.frequency.connect(this.oscillatorFrequency),this.envelope=new Fd(t,e.VOLUME,e.ENVELOPE),this.oscillator.connect(this.envelope.input)}return Un(e,[{key:"connect",value:function(e,t,n){return e instanceof AudioParam?this.envelope.connect(e,t):this.envelope.connect(e,t,n),this}},{key:"schedule",value:function(t){var n=t.startTime,r=t.volume,o=n+e.ENVELOPE.hold+vf*e.ENVELOPE.decay;return o>0&&(this.frequency.start(Math.max(0,n)),this.frequency.stop(o),this.oscillator.start(Math.max(0,n)),this.oscillator.stop(o),this.envelope.schedule(r,n)),o}}]),e}();Dn(ef,"VOLUME",.15),Dn(ef,"ENVELOPE",{attack:0,hold:.002,decay:.1}),Dn(ef,"DETUNE",1);var tf=function(e){Vn(o,e);var t,n,r=Yn(o);function o(){var e;_n(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Dn(Wn(e=r.call.apply(r,[this].concat(n))),"amplitudeGain",void 0),Dn(Wn(e),"amplitudeWave",void 0),Dn(Wn(e),"amplitudeEnvelope",void 0),Dn(Wn(e),"frequencyGain",void 0),Dn(Wn(e),"frequencyWave",void 0),Dn(Wn(e),"frequencyEnvelope",void 0),Dn(Wn(e),"frequencyFrequencyMultiplier",1),e}return Un(o,[{key:"setup",value:(n=Ln(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"loadNote",value:(t=Ln(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,c,s,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Xd(t.pitch),i={attack:this.amplitudeEnvelope.attack,hold:this.amplitudeEnvelope.hold,decay:this.amplitudeEnvelope.decay,sustain:this.amplitudeEnvelope.sustain,release:this.amplitudeEnvelope.release},(a=n.createOscillator()).type=this.amplitudeWave,a.frequency.value=o,a.start(Math.max(0,t.startTime)),"COMPLETE"===t.type&&a.stop(t.endTime+vf*this.amplitudeEnvelope.release),c=new Dd(n,this.amplitudeGain,i),a.connect(c.input),c.connect(r),c.schedule(t.volume,t.startTime,"COMPLETE"===t.type?t.endTime:1e6),s={attack:this.frequencyEnvelope.attack,hold:this.frequencyEnvelope.hold,decay:this.frequencyEnvelope.decay,sustain:this.frequencyEnvelope.sustain,release:this.frequencyEnvelope.release},(l=n.createOscillator()).type=this.frequencyWave,l.frequency.value=o*this.frequencyFrequencyMultiplier,l.start(Math.max(0,t.startTime)),"COMPLETE"===t.type&&l.stop(t.endTime+vf*this.frequencyEnvelope.release),u=new Dd(n,this.frequencyGain,s),l.connect(u.input),u.connect(a.frequency),u.schedule(1,t.startTime,"COMPLETE"===t.type?t.endTime:1e6);case 21:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),o}(Zd),nf=function(e){Vn(n,e);var t=Yn(n);function n(){var e;_n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Dn(Wn(e=t.call.apply(t,[this].concat(o))),"instrument","bass"),Dn(Wn(e),"amplitudeEnvelope",{attack:.001,hold:.01,decay:.5,sustain:0,release:.05}),Dn(Wn(e),"amplitudeGain",.1),Dn(Wn(e),"amplitudeWave","sine"),Dn(Wn(e),"frequencyEnvelope",{attack:.001,hold:.01,decay:1,sustain:1,release:.05}),Dn(Wn(e),"frequencyGain",3),Dn(Wn(e),"frequencyWave","sine"),Dn(Wn(e),"frequencyFrequencyMultiplier",3),e}return n}(tf),rf=function(e){Vn(n,e);var t=Yn(n);function n(){var e;_n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Dn(Wn(e=t.call.apply(t,[this].concat(o))),"instrument","clarinet"),Dn(Wn(e),"amplitudeEnvelope",{attack:.05,hold:.01,decay:.1,sustain:.8,release:.05}),Dn(Wn(e),"amplitudeGain",.135),Dn(Wn(e),"amplitudeWave","square"),Dn(Wn(e),"amplitudePitchAdjustment",null),Dn(Wn(e),"amplitudeFrequencyMultiplier",1),Dn(Wn(e),"frequencyEnvelope",{attack:.001,hold:.01,decay:.1,sustain:1.1,release:.05}),Dn(Wn(e),"frequencyGain",4),Dn(Wn(e),"frequencyWave","square"),Dn(Wn(e),"frequencyPitchAdjustment",null),Dn(Wn(e),"frequencyFrequencyMultiplier",1),Dn(Wn(e),"offDelay",.25),e}return n}(tf),of=function(e){Vn(o,e);var t,n,r=Yn(o);function o(){var e;_n(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Dn(Wn(e=r.call.apply(r,[this].concat(n))),"instrument","cello"),e}return Un(o,[{key:"setup",value:(n=Ln(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"loadNote",value:(t=Ln(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,c,s,l,u,d,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Xd(t.pitch),(i=n.createOscillator()).frequency.value=o,i.type="sawtooth",(a=n.createOscillator()).frequency.value=6.43,a.type="sine",c=new Dd(n,25,{attack:.3,hold:.1,decay:1,sustain:.9,release:.01}),a.connect(c.input),c.connect(i.detune),s=new Dd(n,1,{attack:.1,hold:0,decay:.3,sustain:.7,release:.1}),i.connect(s.input),l=n.createBiquadFilter(),s.connect(l),l.type="lowpass",l.gain.value=12,l.frequency.value=4e3,u=[{sigIn:.5,gain:24,freq:150,resonance:3.5},{sigIn:.8,gain:24,freq:350,resonance:3.5},{sigIn:1,gain:12,freq:o,resonance:2}],(d=n.createBiquadFilter()).type="highpass",d.gain.value=12,d.frequency.value=100,u.map((function(e){var t=n.createGain();t.gain.value=e.sigIn;var r=n.createBiquadFilter();r.frequency.value=e.freq,r.gain.value=e.gain,r.Q.value=e.resonance,r.type="bandpass",l.connect(t),t.connect(r),r.connect(d)})),(f=n.createGain()).gain.value=.21,d.connect(f),f.connect(r),i.start(Math.max(0,t.startTime)),a.start(Math.max(0,t.startTime)),"COMPLETE"===t.type&&(i.stop(t.endTime+1),a.stop(t.endTime+1)),p="COMPLETE"===t.type?t.endTime:1e6,c.schedule(1,t.startTime,p),s.schedule(t.volume,t.startTime,p);case 33:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})}]),o}(Zd),af=function(e){Vn(n,e);var t=Yn(n);function n(){var e;_n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Dn(Wn(e=t.call.apply(t,[this].concat(o))),"instrument","flute"),Dn(Wn(e),"amplitudeEnvelope",{attack:.03,hold:.01,decay:.4,sustain:.4,release:.05}),Dn(Wn(e),"amplitudeGain",.9),Dn(Wn(e),"amplitudeWave","sine"),Dn(Wn(e),"amplitudePitchAdjustment",null),Dn(Wn(e),"amplitudeFrequencyMultiplier",1),Dn(Wn(e),"frequencyEnvelope",{attack:.001,hold:.01,decay:.4,sustain:0,release:.05}),Dn(Wn(e),"frequencyGain",4),Dn(Wn(e),"frequencyWave","sine"),Dn(Wn(e),"frequencyPitchAdjustment",null),Dn(Wn(e),"frequencyFrequencyMultiplier",2),Dn(Wn(e),"offDelay",.25),e}return n}(tf),cf=function(e){Vn(n,e);var t=Yn(n);function n(){var e;_n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Dn(Wn(e=t.call.apply(t,[this].concat(o))),"instrument","guitar"),Dn(Wn(e),"amplitudeEnvelope",{attack:.001,hold:.01,decay:.5,sustain:0,release:.05}),Dn(Wn(e),"amplitudeGain",.12),Dn(Wn(e),"amplitudeWave","sine"),Dn(Wn(e),"amplitudePitchAdjustment",null),Dn(Wn(e),"amplitudeFrequencyMultiplier",1),Dn(Wn(e),"frequencyEnvelope",{attack:.001,hold:.01,decay:1,sustain:.1,release:.05}),Dn(Wn(e),"frequencyGain",5),Dn(Wn(e),"frequencyWave","triangle"),Dn(Wn(e),"frequencyPitchAdjustment",null),Dn(Wn(e),"frequencyFrequencyMultiplier",3),Dn(Wn(e),"offDelay",.25),e}return n}(tf),sf=function(e){Vn(n,e);var t=Yn(n);function n(){var e;_n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Dn(Wn(e=t.call.apply(t,[this].concat(o))),"instrument","harp"),Dn(Wn(e),"amplitudeEnvelope",{attack:.001,hold:.01,decay:.5,sustain:0,release:.5}),Dn(Wn(e),"amplitudeGain",.07),Dn(Wn(e),"amplitudeWave","sine"),Dn(Wn(e),"amplitudePitchAdjustment",null),Dn(Wn(e),"amplitudeFrequencyMultiplier",1),Dn(Wn(e),"frequencyEnvelope",{attack:.001,hold:.01,decay:1,sustain:0,release:1}),Dn(Wn(e),"frequencyGain",7),Dn(Wn(e),"frequencyWave","sine"),Dn(Wn(e),"frequencyPitchAdjustment",null),Dn(Wn(e),"frequencyFrequencyMultiplier",2),Dn(Wn(e),"offDelay",.25),e}return n}(tf),lf=function(e){Vn(n,e);var t=Yn(n);function n(){var e;_n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Dn(Wn(e=t.call.apply(t,[this].concat(o))),"instrument","trumpet"),Dn(Wn(e),"amplitudeEnvelope",{attack:.01,hold:.01,decay:1,sustain:.6,release:.04}),Dn(Wn(e),"amplitudeGain",.18),Dn(Wn(e),"amplitudeWave","square"),Dn(Wn(e),"amplitudePitchAdjustment",null),Dn(Wn(e),"amplitudeFrequencyMultiplier",1),Dn(Wn(e),"frequencyEnvelope",{attack:.001,hold:.01,decay:.1,sustain:4,release:.05}),Dn(Wn(e),"frequencyGain",1),Dn(Wn(e),"frequencyWave","sine"),Dn(Wn(e),"frequencyPitchAdjustment",null),Dn(Wn(e),"frequencyFrequencyMultiplier",1),Dn(Wn(e),"offDelay",.25),e}return n}(tf),uf=function(e){Vn(o,e);var t,n,r=Yn(o);function o(){var e;_n(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Dn(Wn(e=r.call.apply(r,[this].concat(n))),"instrument","violin"),e}return Un(o,[{key:"setup",value:(n=Ln(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"loadNote",value:(t=Ln(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,c,s,l,u,d,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Xd(t.pitch),(i=n.createOscillator()).frequency.value=o,i.type="sawtooth",(a=n.createOscillator()).frequency.value=6.43,a.type="sine",c=new Dd(n,25,{attack:.3,hold:.1,decay:1,sustain:.9,release:.01}),a.connect(c.input),c.connect(i.detune),s=new Dd(n,1,{attack:.1,hold:0,decay:.3,sustain:.6,release:.05}),i.connect(s.input),l=n.createBiquadFilter(),s.connect(l),l.type="lowpass",l.gain.value=12,l.frequency.value=6e3,u=[{sigIn:.5,gain:24,freq:300,resonance:3.5},{sigIn:.8,gain:24,freq:700,resonance:3.5},{sigIn:1,gain:12,freq:o,resonance:2}],(d=n.createBiquadFilter()).type="highpass",d.gain.value=12,d.frequency.value=200,u.map((function(e){var t=n.createGain();t.gain.value=e.sigIn;var r=n.createBiquadFilter();r.frequency.value=e.freq,r.gain.value=e.gain,r.Q.value=e.resonance,r.type="bandpass",l.connect(t),t.connect(r),r.connect(d)})),(f=n.createGain()).gain.value=.2,d.connect(f),f.connect(r),i.start(Math.max(0,t.startTime)),a.start(Math.max(0,t.startTime)),"COMPLETE"===t.type&&(i.stop(t.endTime+1),a.stop(t.endTime+1)),p="COMPLETE"===t.type?t.endTime:1e6,c.schedule(1,t.startTime,p),s.schedule(t.volume,t.startTime,p);case 33:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})}]),o}(Zd),df=Qt.indexOf,ff=[].indexOf,pf=!!ff&&1/[1].indexOf(1,-0)<0,hf=xn("indexOf"),mf=Tn("indexOf",{ACCESSORS:!0,1:0});yn({target:"Array",proto:!0,forced:pf||!hf||!mf},{indexOf:function(e){return pf?ff.apply(this,arguments)||0:df(this,e,arguments.length>1?arguments[1]:void 0)}});var gf=function(e){Vn(o,e);var t,n,r=Yn(o);function o(){var e;return _n(this,o),Dn(Wn(e=r.call(this)),"instrument","drums"),Dn(Wn(e),"samples",void 0),e.samples={},o.ENCODINGS.forEach((function(t){e.samples[t-o.ENCODING_OFFSET]=new yf(t)})),e}return Un(o,[{key:"setup",value:(n=Ln(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.values(this.samples).map((function(e){return e.setup(t)})),e.next=3,Promise.all(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"loadNote",value:(t=Ln(regeneratorRuntime.mark((function e(t,n,r){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("COMPLETE"!==t.type){e.next=8;break}if(o=t.pitch,void 0!==(i=this.samples[o])){e.next=6;break}return console.error("Unknown drum sample "+o),e.abrupt("return");case 6:return e.next=8,i.loadNote(t,n,r);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"durationOf",value:function(e){var t=o.ENCODINGS.indexOf(e);return o.DURATIONS[t]}}]),o}(Zd);Dn(gf,"ENCODINGS",[3867,3868,3869,3870,3871,3872,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3886,3887,3888,3889,3890,3891,3892,3893,3894,3895,3896,3897,3898,3899,3900,3901,3902,3903,3904,3905,3906,3907,3908,3909,3910,3911,3912,3913,3914,3915,3916,3917,3918,3919,3920,3921,3922,3923,3924,3925,3926,3927]),Dn(gf,"DURATIONS",[.2612244897959184,.2873469387755102,.23510204081632652,.2612244897959184,.23510204081632652,.0783673469387755,.0783673469387755,1.253877551020408,.2873469387755102,.2612244897959184,.23510204081632652,.23510204081632652,.313469387755102,.313469387755102,.6791836734693878,.1306122448979592,.6008163265306122,.1306122448979592,.6008163265306122,.2612244897959184,.5485714285714286,.47020408163265304,2.246530612244898,.3657142857142857,1.2016326530612245,1.123265306122449,1.123265306122449,.4179591836734694,.7836734693877551,.23510204081632652,1.906938775510204,.6791836734693878,1.28,.156734693877551,.23510204081632652,.156734693877551,.2873469387755102,.3395918367346939,.313469387755102,.39183673469387753,.156734693877551,.18285714285714286,.1306122448979592,.156734693877551,.313469387755102,.6008163265306122,.1306122448979592,.3657142857142857,.1306122448979592,.2089795918367347,.2612244897959184,.3395918367346939,.3657142857142857,.18285714285714286,.2612244897959184,.1306122448979592,.4963265306122449,2.6383673469387756,.10448979591836735,.23510204081632652,.9404081632653061]),Dn(gf,"ENCODING_OFFSET",3840);var yf=function(){function e(t){_n(this,e),Dn(this,"arrayBufferPromise",void 0),Dn(this,"audioBuffer",null),Dn(this,"pitch",void 0),this.pitch=t,this.arrayBufferPromise=fetch("drums/".concat(t,".mp3")).then((function(e){return e.arrayBuffer()}))}var t,n;return Un(e,[{key:"setup",value:(n=Ln(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.arrayBufferPromise;case 2:return n=e.sent,e.next=5,t.decodeAudioData(n.slice(0));case 5:this.audioBuffer=e.sent;case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"loadNote",value:(t=Ln(regeneratorRuntime.mark((function t(n,r,o){var i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=r.createGain()).gain.value=.25,i.connect(o),(a=r.createBufferSource()).buffer=this.audioBuffer,a.connect(i),a.start(n.startTime,e.OFFSET);case 7:case"end":return t.stop()}}),t,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();Dn(yf,"OFFSET",.051);var vf=5,wf={bass:new nf,cello:new of,clarinet:new rf,drums:new gf,flute:new af,guitar:new cf,harp:new sf,piano:new Jd,trumpet:new lf,violin:new uf};function bf(e,t){return $f.apply(this,arguments)}function $f(){return($f=Ln(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new OfflineAudioContext(1,44100*(n+2),44100),(o=r.createGain()).gain.value=.2,o.connect(r.destination),i=Object.values(wf).map((function(e){return e.schedule(r,o,t)})),e.next=7,Promise.all(i);case 7:return e.next=9,r.startRendering();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xf(e){return wf.drums.durationOf(e)}var kf=Qr.filter,Sf=qr("filter"),Ef=Tn("filter");yn({target:"Array",proto:!0,forced:!Sf||!Ef},{filter:function(e){return kf(this,e,arguments.length>1?arguments[1]:void 0)}});var Tf=Qr.findIndex,Cf=!0,Of=Tn("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){Cf=!1})),yn({target:"Array",proto:!0,forced:Cf||!Of},{findIndex:function(e){return Tf(this,e,arguments.length>1?arguments[1]:void 0)}}),Ec("findIndex");var Af=[],Mf=Af.sort,If=Ge((function(){Af.sort(void 0)})),Pf=Ge((function(){Af.sort(null)})),Rf=xn("sort");yn({target:"Array",proto:!0,forced:If||!Pf||!Rf},{sort:function(e){return void 0===e?Mf.call(wn(this)):Mf.call(wn(this),vn(e))}});var Bf=Rn.entries;function jf(e,t){var n,r={piano:[],violin:[],cello:[],bass:[],guitar:[],flute:[],clarinet:[],trumpet:[],harp:[],drums:[]},o=t,i=0,a=e.map(_f).filter((function(e){return null!==e})),c=[],s=Qn(a);try{for(s.s();!(n=s.n()).done;){var l=n.value;if("note"===l.type){var u=l.instrument,d=l.pitch,f=r[u];if("drums"===u)c.push(Nf(l)),f.push({type:"COMPLETE",startTime:i,endTime:i+xf(l.original),pitch:d,volume:80});else if(0===l.volume){var p=o[u][d];if(void 0!==p){if(p.startTime!==i){c.push(Nf(l));var h=p.startTime,m=p.volume;f.push({type:"COMPLETE",startTime:h,endTime:i,pitch:d,volume:m/80})}delete o[u][d]}}else{var g=o[u][d];if(void 0!==g){if(g.startTime!==i){c.push(Nf({original:null,type:"note",pitch:d,instrument:u,volume:0}));var y=g.startTime,v=g.volume;f.push({type:"COMPLETE",startTime:y,endTime:i,pitch:d,volume:v/80}),c.push(Nf(l)),o[u][d]={startTime:i,volume:l.volume}}}else c.push(Nf(l)),o[u][d]={startTime:i,volume:l.volume}}}else"wait"==l.type&&function(){var e=l.delay,t=.00923081517,n=i+e*t,a=[];Object.entries(o).forEach((function(e){var t=Zn(e,2),r=t[0],i=t[1];return Object.entries(i).forEach((function(e){var t=Zn(e,2),i=t[0],c=t[1],s=c.startTime,l=c.volume,u=or[r];if(n-s>=u){var d=parseInt(i);a.push({instrument:r,type:"COMPLETE",startTime:s,endTime:s+u,volume:l/80,pitch:d}),delete o[r][d]}}))})),a.sort((function(e,t){return e.startTime-t.startTime})),a.forEach((function(e){if(i<e.endTime){var n=(e.endTime-i)/t,o=Math.round(n);i+=o*t,c.push(Nf({type:"wait",delay:o}))}r[e.instrument].push(e)}));var s=(n-i)/t,u=Math.round(s);i=n,c.push(Nf({type:"wait",delay:u}))}()}}catch(e){s.e(e)}finally{s.f()}return Object.entries(o).forEach((function(e){var t=Zn(e,2),n=t[0],a=t[1];return Object.entries(a).forEach((function(e){var t=Zn(e,2),a=t[0],c=t[1],s=c.startTime,l=c.volume,u=parseInt(a);o[n][u].startTime-=i,r[n].push({type:"INCOMPLETE",pitch:u,startTime:s,volume:l/80})}))})),Object.values(r).forEach((function(e){return e.sort((function(e,t){return e.startTime-t.startTime}))})),{encoding:c,notes:r,activeNotesAtEnd:o,duration:i}}yn({target:"Object",stat:!0},{entries:function(e){return Bf(e)}});var Lf=[["piano",0],["piano",24],["piano",32],["piano",40],["piano",48],["piano",56],["piano",64],["piano",72],["piano",80],["piano",88],["piano",96],["piano",104],["piano",112],["piano",120],["violin",80],["violin",0],["cello",80],["cello",0],["bass",80],["bass",0],["guitar",80],["guitar",0],["flute",80],["flute",0],["clarinet",80],["clarinet",0],["trumpet",80],["trumpet",0],["harp",80],["harp",0],["drums",80]];function _f(e){if(e>=0&&e<3968){var t=Zn(Lf[e>>7],2);return{type:"note",original:e,pitch:e%128,instrument:t[0],volume:t[1]}}return e<4096?{type:"wait",delay:e%128+1}:4097===e?{type:"wait",delay:100}:null}function Nf(e){return"wait"===e.type?3967+e.delay:(Lf.findIndex((function(t){var n=Zn(t,2),r=n[0],o=n[1];return r===e.instrument&&o===e.volume}))<<7)+e.pitch}function Uf(e,t,n){return Df.apply(this,arguments)}function Df(){return(Df=Ln(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("root"!==n.type){e.next=4;break}return e.next=3,Ff(t,n,[],{piano:{},violin:{},cello:{},bass:{},guitar:{},flute:{},clarinet:{},trumpet:{},harp:{},drums:{}},0);case 3:return e.abrupt("return",e.sent);case 4:if("branch"!==n.type||"branch"!==r.type){e.next=8;break}return e.next=7,Ff(t,n,r.encoding,r.section.activeNotesAtEnd,r.section.endsAt);case 7:return e.abrupt("return",e.sent);case 8:throw new Error("Unrecognised combination of store and state types "+n.type+"/"+r.type);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t,n,r,o){return qf.apply(this,arguments)}function qf(){return(qf=Ln(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.slice(-t.requestLength),c=qn(qn({},t),{},{encoding:di(a),audioFormat:"mp3"}),n.updatePendingLoad((function(e){return e+4})),s=null;case 4:if(null!==s){e.next=10;break}return e.next=7,dl({method:"POST",url:"https://musenet.openai.com/sample",data:c}).then((function(e){return e.data.completions})).catch((function(){return null}));case 7:s=e.sent,e.next=4;break;case 10:return l=s.map((function(e){return Vf(e,a,o,i)})),e.abrupt("return",Promise.all(l).then((function(e){return e.map((function(e){return pi(e)}))})).then((function(e){return e.map((function(e){return n.addChild(e)}))})).finally((function(){return n.updatePendingLoad((function(e){return e-4}))})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e,t,n,r){return zf.apply(this,arguments)}function zf(){return(zf=Ln(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,c,s,l,u,d,f,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fi(t.encoding),a=i.slice(n.length),e.next=4,jf(a,r);case 4:return c=e.sent,s=c.encoding,l=c.notes,u=c.duration,d=c.activeNotesAtEnd,p=(f=o)+u,e.next=13,bf(l,p-f);case 13:return h=e.sent,e.abrupt("return",{encoding:s,startsAt:f,endsAt:p,notes:l,activeNotesAtEnd:d,audio:h});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gf=tr([]),Wf=Gf.subscribe,Hf=Gf.set,Yf=Gf.update,Zf={subscribe:Wf,onDelete:function(e,t){Yf((function(n){return[].concat(Xn(n),[{parentStore:e,childIdx:t}])}))},undo:function(){return Yf((function(e){if(0===e.length)return e;var t=e[e.length-1],n=t.parentStore,r=t.childIdx;return n.showChild(r),e.slice(0,-1)}))},clear:function(){return Hf([])}};function Xf(e){return ai(nr(e,(function(e){var t=e.children,n=Object.values(t);if(0===n.length)return tr([]);var r=n.map((function(e){return nr([e,e.numberOfLeavesStore],(function(e){var t=Zn(e,2),n=t[0],r=t[1];return[n.path[n.path.length-1],r]}))}));return nr(r,(function(e){var t=0,n=[];return e.forEach((function(e){var r=Zn(e,2),o=r[0],i=r[1];n.push([o,t+i/2]),t+=i})),n}))})),[],Jf)}function Jf(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){if(e[n][0]!==t[n][0])return!1;if(e[n][1]!==t[n][1])return!1}return!0}var Kf=tr({pendingLoad:0});var Qf,ep=pc(Kf,(Qf=Kf,function(e){return{addChild:function(){var t=Ln(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=tr({pendingLoad:0}),t.next=3,e.addChild(tp(e,n,r),np(r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteChildWithUndo:(r=Ln(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.hideChild(n);case 2:if(null!==(r=t.sent)){t.next=5;break}return t.abrupt("return",null);case 5:return Zf.onDelete(e,n),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),updatePendingLoad:function(e){Qf.update((function(t){return qn(qn({},t),{},{pendingLoad:e(t.pendingLoad)})}))},serialisedStore:(t=e,n=JSON.stringify({children:[]}),ai(nr(t,(function(e){var t=e.children,r=Object.values(t).map((function(e){return e.serialisedStore}));return ci(0===r.length?tr([]):nr(r,(function(e){return e})),(function(e){return'{"children":['.concat(e.join(","),"]}")}),n)})),n)),selectedSectionsStore:hi(e),placementStore:Xf(e)};var t,n,r}));function tp(e,t,n){return nr([t,function(e,t){return null===e?li():"root"===e.type?ui(li(),t):ui(e,t)}(e,t),n],(function(e){var t=Zn(e,3),n=t[0],r=t[1],o=t[2];return qn(qn(qn({},n),r),o)}))}function np(e){return function(t){return{addChild:function(){var e=Ln(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tr({pendingLoad:0}),e.next=3,t.addChild(tp(t,n,r),np(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteChildWithUndo:(o=Ln(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.hideChild(n);case 2:if(null!==(r=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return Zf.onDelete(t,n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),updatePendingLoad:function(t){e.update((function(e){return qn(qn({},e),{},{pendingLoad:t(e.pendingLoad)})}))},serialisedStore:(n=t,r=JSON.stringify({encoding:"",children:[]}),ai(nr(n,(function(e){var t=e.children,n=Object.values(t).map((function(e){return e.serialisedStore})),o=0===n.length?tr([]):nr(n,(function(e){return e})),i=di(e.section.encoding);return ci(o,(function(e){return'{"encoding":"'.concat(i,'","children":[').concat(e.join(","),"]}")}),r)})),r)),selectedSectionsStore:mi(t),placementStore:Xf(t)};var n,r,o}}var rp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t},n=null,r=tr(null),o=function(){};return e.subscribe((function(e){o(),null!==e?o=e.subscribe((function(e){(null===n&&null!==e||null!==n&&null===e||null!==n&&null!==e&&!t(n,e))&&(n=e,r.set(e))})):(o=function(){},n=null,r.set(null))})),r}(ep.selectedStore_2,(function(e,t){return si(e.path,t.path)})),op=ci(rp,(function(e){return null===e?null:e.encoding}),null,(function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return null===e&&null===t||null!==e&&null!==t&&si(e,t,n)}(e,t)})),ip=null;mr.subscribe((function(e){ip=e}));var ap=null;xr.subscribe((function(e){ap=e})),nr([ep.selectedStore_2,rp],(function(e){var t=Zn(e,2),n=t[0],r=t[1];return null===r?null:[n,r]})).subscribe(function(){var e=Ln(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&ip){e.next=2;break}return e.abrupt("return");case 2:if(n=Zn(t,2),r=n[0],o=n[1],!Object.keys(o.children).length&&!o.pendingLoad){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Uf(ap,r,o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ep.serialisedStore.subscribe((function(e){'{"children":[]}'!==e&&localStorage.setItem("autosave",e)}));function cp(e){return sp.apply(this,arguments)}function sp(){return(sp=Ln(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.max.apply(Math,Xn(t.map((function(e){return e.end}))))+2,r=new OfflineAudioContext(1,44100*n,44100),t.forEach((function(e){var t=e.buffer,n=e.start,o=r.createBufferSource();o.buffer=t,o.connect(r.destination),o.start(n)})),e.next=5,r.startRendering();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lp(e){return up.apply(this,arguments)}function up(){return(up=Ln(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return{start:e.startsAt,end:e.endsAt,buffer:e.audio}})),e.next=3,cp(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dp=tr({type:"off"}),fp=dp,pp={type:"off"};fp.subscribe((function(e){pp=e}));var hp=new AudioContext({sampleRate:44100}),mp=!1,gp=0;vr.subscribe((function(e){return mp=e})),wr.subscribe((function(e){return gp=e}));var yp=null;function vp(){return(vp=Ln(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xp(),null!==t&&0!==t.length){e.next=3;break}return e.abrupt("return");case 3:return fp.set({type:"loading"}),e.next=6,lp(t);case 6:if(n=e.sent,r=t[t.length-1].endsAt,yp={buffer:n,duration:r},!mp){e.next=14;break}return o=t[t.length-1].startsAt-gp,i=Math.max(o,0),e.next=14,bp(i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ep.selectedSectionsStore.subscribe((function(e){return vp.apply(this,arguments)}));var wp=null;function bp(e){return $p.apply(this,arguments)}function $p(){return($p=Ln(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==yp){e.next=2;break}return e.abrupt("return");case 2:"on"===pp.type&&xp(),dp.set({type:"starting"}),(wp=hp.createBufferSource()).buffer=yp.buffer,wp.connect(hp.destination),wp.onended=xp,wp.start(void 0,t),dp.set({type:"on",started:hp.currentTime,offset:t,duration:yp.duration});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(){wp&&(wp.onended=function(){},wp.stop(),wp=null,dp.set({type:"off"}))}function kp(){"off"===pp.type?bp(0):"on"===pp.type&&xp()}var Sp=Object.freeze({__proto__:null,audioStatusStore:fp,play:bp,stop:xp,togglePlayback:kp}),Ep={bass:"#f07178",drums:"#c3e88d",guitar:"#89ddff",harp:"#f78c6c",piano:"#ffcb6b",strings:"#c792ea",violin:"#c792ea",cello:"#c792ea",flute:"#c3cee3",trumpet:"#c3cee3",clarinet:"#c3cee3",winds:"#c3cee3",bgLight:"#263238",bgDark:"#1f292e",text:"#c3cee3",textDark:"#82b6cc",textEmphasis:"#314549",border:"#37474f",buttonBg:"#314147",buttonBgDisabled:"#273339",nodePlaying:"#c3e88d",nodeActive:"#f07178",nodeWarm:"#f78c6c",nodeInactive:"#c3cee3",edgePlaying:"#c3e88d",edgeActive:"#f07178",edgeWarm:"#f78c6c",edgeInactive:"#c3cee3",pendingLoadText:"#c3e88d",loadingBarBG:"#c3cee3",loadingBarFG:"#c3e88d",loadingBarText:"#1f292e"},Tp={styleWindow:{background:Ep.bgDark,border:"1px solid "+Ep.border,color:Ep.textDark}};const Cp=e=>({loaded:2&e}),Op=e=>({loaded:e[1]});function Ap(e){let t,n;const o=e[7].default,i=p(o,e,e[6],Op),a={c:function(){t=S("div"),i&&i.c(),Be(t,"class","guard svelte-1q36v97"),r(t,"src/track/VisibilityGuard.svelte",43,0,1247)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,o){Ie(r,t,o),i&&i.m(t,null),e[8](t),n=!0},p:function(e,[t]){i&&i.p&&66&t&&i.p(h(o,e,e[6],Op),m(o,e[6],t,Cp))},i:function(e){n||(he(i,e),n=!0)},o:function(e){me(i,e),n=!1},d:function(n){n&&Pe(t),i&&i.d(n),e[8](null)}};return Ae("SvelteRegisterBlock",{block:a,id:Ap.name,type:"component",source:"",ctx:e}),a}function Mp(e,t,n){let{root:r=null}=t,o=null,i=null,a=!1,c=!1;function s(){i.unobserve(o),c=!1}z(()=>{i=new IntersectionObserver(([e])=>{n(1,a=a||e.isIntersecting),a&&stop()},{rootMargin:"100px 0px 100px 0px",root:r}),i.observe(o),c=!0}),W(()=>{c&&s()});const l=["root"];Object.keys(t).forEach(e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<VisibilityGuard> was created with unknown prop '${e}'`)});let{$$slots:u={},$$scope:d}=t;return Ne("VisibilityGuard",u,["default"]),e.$set=e=>{"root"in e&&n(2,r=e.root),"$$scope"in e&&n(6,d=e.$$scope)},e.$capture_state=()=>({onDestroy:W,onMount:z,root:r,element:o,observer:i,loaded:a,observing:c,stopObserving:s}),e.$inject_state=e=>{"root"in e&&n(2,r=e.root),"element"in e&&n(0,o=e.element),"observer"in e&&(i=e.observer),"loaded"in e&&n(1,a=e.loaded),"observing"in e&&(c=e.observing)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[o,a,r,i,c,s,d,u,function(e){J[e?"unshift":"push"](()=>{n(0,o=e)})}]}class Ip extends Ue{constructor(e){super(e),Oe(this,e,Mp,Ap,s,{root:2}),Ae("SvelteRegisterComponent",{component:this,tagName:"VisibilityGuard",options:e,id:Ap.name})}get root(){throw new Error("<VisibilityGuard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set root(e){throw new Error("<VisibilityGuard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Object:Pp}=be,Rp="src/track/SectionCanvas.svelte";function Bp(e,t,n){const r=e.slice();return r[18]=t[n],r}function jp(e,t,n){const r=e.slice();return r[14]=t[n][0],r[15]=t[n][1],r[17]=n,r}function Lp(e){let t,n,o;const i=new Ip({props:{root:e[0],$$slots:{default:[Dp,({loaded:e})=>({13:e}),({loaded:e})=>e?8192:0]},$$scope:{ctx:e}},$$inline:!0}),a={c:function(){t=S("div"),Se(i.$$.fragment),Be(t,"class","sectionContainer svelte-1wv6asq"),Be(t,"style",n=`border-right: 1px solid ${Ep.border}; border-bottom: 1px solid ${Ep.border}; height: ${e[5]}px; top: ${e[6]}px`),r(t,Rp,63,4,2573)},m:function(e,n){Ie(e,t,n),Ee(i,t,null),o=!0},p:function(e,r){const a={};1&r&&(a.root=e[0]),2105534&r&&(a.$$scope={dirty:r,ctx:e}),i.$set(a),(!o||96&r&&n!==(n=`border-right: 1px solid ${Ep.border}; border-bottom: 1px solid ${Ep.border}; height: ${e[5]}px; top: ${e[6]}px`))&&Be(t,"style",n)},i:function(e){o||(he(i.$$.fragment,e),o=!0)},o:function(e){me(i.$$.fragment,e),o=!1},d:function(e){e&&Pe(t),Te(i)}};return Ae("SvelteRegisterBlock",{block:a,id:Lp.name,type:"if",source:"(63:0) {#if notes}",ctx:e}),a}function _p(e){let t,n,o,i,a,c,s,l,u,d,f=e[1]+1+"",p=Object.entries(e[7]);_e(p);let h=[];for(let t=0;t<p.length;t+=1)h[t]=Up(jp(e,p,t));const m={c:function(){t=S("span"),n=T("Section "),o=T(f),a=C(),c=E("svg");for(let e=0;e<h.length;e+=1)h[e].c();Be(t,"class","label svelte-1wv6asq"),Be(t,"style",i="color: "+Ep.text),r(t,Rp,67,16,2847),Be(c,"viewBox",s=`${e[2]} 0 ${e[3]+2} ${e[4]}`),Be(c,"width","100%"),Be(c,"height",l=Math.floor(e[5]-1)),Be(c,"style",u="background-color: "+Ep.bgLight),Be(c,"class","sectionCanvas svelte-1wv6asq"),Be(c,"preserveAspectRatio","none"),r(c,Rp,68,16,2947)},m:function(r,i,s){Ie(r,t,i),Me(t,n),Me(t,o),Ie(r,a,i),Ie(r,c,i);for(let e=0;e<h.length;e+=1)h[e].m(c,null);s&&d(),d=Re(c,"click",e[8],!1,!1,!1)},p:function(e,t){if(2&t&&f!==(f=e[1]+1+"")&&Le(o,f),128&t){let n;for(p=Object.entries(e[7]),_e(p),n=0;n<p.length;n+=1){const r=jp(e,p,n);h[n]?h[n].p(r,t):(h[n]=Up(r),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=p.length}28&t&&s!==(s=`${e[2]} 0 ${e[3]+2} ${e[4]}`)&&Be(c,"viewBox",s),32&t&&l!==(l=Math.floor(e[5]-1))&&Be(c,"height",l)},d:function(e){e&&Pe(t),e&&Pe(a),e&&Pe(c),k(h,e),d()}};return Ae("SvelteRegisterBlock",{block:m,id:_p.name,type:"if",source:"(67:12) {#if loaded}",ctx:e}),m}function Np(e){let t,n,o,i,a,c;const s={c:function(){t=E("rect"),Be(t,"x",n=e[18].pitch+e[17]/rr.length),Be(t,"width","1"),Be(t,"y",o=e[18].startTime),Be(t,"height",i=("COMPLETE"===e[18].type?e[18].endTime:1e6)-e[18].startTime),Be(t,"fill",a=Ep[e[14]]),Be(t,"stroke",c=Ep.border),Be(t,"stroke-width","1px"),Be(t,"vector-effect","non-scaling-stroke"),r(t,Rp,73,28,3389)},m:function(e,n){Ie(e,t,n)},p:function(e,r){128&r&&n!==(n=e[18].pitch+e[17]/rr.length)&&Be(t,"x",n),128&r&&o!==(o=e[18].startTime)&&Be(t,"y",o),128&r&&i!==(i=("COMPLETE"===e[18].type?e[18].endTime:1e6)-e[18].startTime)&&Be(t,"height",i),128&r&&a!==(a=Ep[e[14]])&&Be(t,"fill",a)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:s,id:Np.name,type:"each",source:"(73:24) {#each instrumentNotes as note}",ctx:e}),s}function Up(e){let t,n=e[15];_e(n);let r=[];for(let t=0;t<n.length;t+=1)r[t]=Np(Bp(e,n,t));const o={c:function(){for(let e=0;e<r.length;e+=1)r[e].c();t=O()},m:function(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);Ie(e,t,n)},p:function(e,o){if(128&o){let i;for(n=e[15],_e(n),i=0;i<n.length;i+=1){const a=Bp(e,n,i);r[i]?r[i].p(a,o):(r[i]=Np(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d:function(e){k(r,e),e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:o,id:Up.name,type:"each",source:"(72:20) {#each Object.entries(notes) as [instrument, instrumentNotes], idx}",ctx:e}),o}function Dp(e){let t,n=e[13]&&_p(e);const r={c:function(){n&&n.c(),t=O()},m:function(e,r){n&&n.m(e,r),Ie(e,t,r)},p:function(e,r){e[13]?n?n.p(e,r):(n=_p(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d:function(e){n&&n.d(e),e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:r,id:Dp.name,type:"slot",source:"(66:8) <VisibilityGuard root={viewport} let:loaded>",ctx:e}),r}function Fp(e){let t,n,r=e[7]&&Lp(e);const o={c:function(){r&&r.c(),t=O()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){r&&r.m(e,o),Ie(e,t,o),n=!0},p:function(e,[n]){e[7]?r?(r.p(e,n),128&n&&he(r,1)):(r=Lp(e),r.c(),he(r,1),r.m(t.parentNode,t)):r&&(fe(),me(r,1,1,()=>{r=null}),pe())},i:function(e){n||(he(r),n=!0)},o:function(e){me(r),n=!1},d:function(e){r&&r.d(e),e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:o,id:Fp.name,type:"component",source:"",ctx:e}),o}function qp(e,t,n){let r;l(br,"yScaleStore"),f(e,br,e=>n(12,r=e));let{viewport:o}=t,{section:i}=t,{index:a}=t,{pitchMin:c}=t,{pitchMax:s}=t;function u(e){const t=e.target.getBoundingClientRect(),n=e.clientY-t.top,r=m*(n/g);bp(i.startsAt+r)}const d=["viewport","section","index","pitchMin","pitchMax"];Pp.keys(t).forEach(e=>{~d.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<SectionCanvas> was created with unknown prop '${e}'`)});let p,h,m,g,y,v,{$$slots:w={},$$scope:b}=t;return Ne("SectionCanvas",w,[]),e.$set=e=>{"viewport"in e&&n(0,o=e.viewport),"section"in e&&n(9,i=e.section),"index"in e&&n(1,a=e.index),"pitchMin"in e&&n(2,c=e.pitchMin),"pitchMax"in e&&n(10,s=e.pitchMax)},e.$capture_state=()=>({yScaleStore:br,instruments:rr,afterUpdate:G,root:ep,Audio:Sp,colorLookup:Ep,VisibilityGuard:Ip,viewport:o,section:i,index:a,pitchMin:c,pitchMax:s,play:u,pitchRange:p,startsAt:h,sectionDuration:m,height:g,$yScaleStore:r,top:y,notes:v}),e.$inject_state=e=>{"viewport"in e&&n(0,o=e.viewport),"section"in e&&n(9,i=e.section),"index"in e&&n(1,a=e.index),"pitchMin"in e&&n(2,c=e.pitchMin),"pitchMax"in e&&n(10,s=e.pitchMax),"pitchRange"in e&&n(3,p=e.pitchRange),"startsAt"in e&&n(11,h=e.startsAt),"sectionDuration"in e&&n(4,m=e.sectionDuration),"height"in e&&n(5,g=e.height),"top"in e&&n(6,y=e.top),"notes"in e&&n(7,v=e.notes)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1028&e.$$.dirty&&n(3,p=s-c),512&e.$$.dirty&&n(11,h=i?i.startsAt:null),2560&e.$$.dirty&&n(4,m=i?i.endsAt-h:0),4112&e.$$.dirty&&n(5,g=m*r),4608&e.$$.dirty&&n(6,y=i.startsAt*r),512&e.$$.dirty&&n(7,v=i?i.notes:null)},[o,a,c,p,m,g,y,v,u,i,s]}class Vp extends Ue{constructor(e){super(e),Oe(this,e,qp,Fp,s,{viewport:0,section:9,index:1,pitchMin:2,pitchMax:10}),Ae("SvelteRegisterComponent",{component:this,tagName:"SectionCanvas",options:e,id:Fp.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"viewport"in n||console.warn("<SectionCanvas> was created without expected prop 'viewport'"),void 0!==t[9]||"section"in n||console.warn("<SectionCanvas> was created without expected prop 'section'"),void 0!==t[1]||"index"in n||console.warn("<SectionCanvas> was created without expected prop 'index'"),void 0!==t[2]||"pitchMin"in n||console.warn("<SectionCanvas> was created without expected prop 'pitchMin'"),void 0!==t[10]||"pitchMax"in n||console.warn("<SectionCanvas> was created without expected prop 'pitchMax'")}get viewport(){throw new Error("<SectionCanvas>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set viewport(e){throw new Error("<SectionCanvas>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get section(){throw new Error("<SectionCanvas>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set section(e){throw new Error("<SectionCanvas>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get index(){throw new Error("<SectionCanvas>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set index(e){throw new Error("<SectionCanvas>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pitchMin(){throw new Error("<SectionCanvas>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pitchMin(e){throw new Error("<SectionCanvas>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pitchMax(){throw new Error("<SectionCanvas>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pitchMax(e){throw new Error("<SectionCanvas>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const zp="src/track/Timeline.svelte";function Gp(t){let n,o,i;const a={c:function(){n=S("div"),o=S("div"),Be(o,"class","line svelte-kzguc6"),o.hidden=t[1],r(o,zp,70,2,2400),Be(n,"class","anchor svelte-kzguc6"),r(n,zp,66,0,2292)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r,a){Ie(e,n,r),Me(n,o),t[7](n),a&&i(),i=Re(n,"introend",t[8],!1,!1,!1)},p:function(e,[t]){2&t&&je(o,"hidden",e[1])},i:e,o:e,d:function(e){e&&Pe(n),t[7](null),i()}};return Ae("SvelteRegisterBlock",{block:a,id:Gp.name,type:"component",source:"",ctx:t}),a}function Wp(e,t,n){let r,o,i,a,c;function s(e,{offset:t,duration:n}){return{duration:1e3*(n-t),tick:i=>{const a=t*r,c=a+i*(n*r-a);e.style=`top:${c}px;`,o&&e.scrollIntoView({block:"center",behaviour:"smooth"})}}}l(br,"yScaleStore"),f(e,br,e=>n(3,r=e)),l(yr,"isScrollingStore"),f(e,yr,e=>n(4,o=e)),l(gr,"autoScrollStore"),f(e,gr,e=>n(5,i=e));let u=!0;fp.subscribe(e=>{c&&c.end(),n(1,u="on"!==e.type),u||(yr.set(i),c=ye(a,s,e),c.start())});const d=[];Object.keys(t).forEach(e=>{~d.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Timeline> was created with unknown prop '${e}'`)});let{$$slots:p={},$$scope:h}=t;Ne("Timeline",p,[]);return e.$capture_state=()=>({audioStatusStore:fp,yScaleStore:br,autoScrollStore:gr,isScrollingStore:yr,create_in_transition:ye,traverse:s,element:a,transition:c,hidden:u,$yScaleStore:r,$isScrollingStore:o,$autoScrollStore:i}),e.$inject_state=e=>{"element"in e&&n(0,a=e.element),"transition"in e&&(c=e.transition),"hidden"in e&&n(1,u=e.hidden)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[a,u,c,r,o,i,s,function(e){J[e?"unshift":"push"](()=>{n(0,a=e)})},()=>{n(1,u=!0)}]}class Hp extends Ue{constructor(e){super(e),Oe(this,e,Wp,Gp,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"Timeline",options:e,id:Gp.name})}}var Yp=function(e,t,n,r,o,i,a,c){for(var s,l=o,u=0,d=!!a&&Xr(a,c,3);u<r;){if(u in n){if(s=d?d(n[u],u,t):n[u],i>0&&Tr(s))l=Yp(e,t,s,Yt(s.length),l,i-1)-1;else{if(l>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[l]=s}l++}u++}return l},Zp=Yp;function Xp(e){var t=e.flatMap((function(e){return Object.values(e.notes).flat()})).map((function(e){return e.pitch}));if(t.length){var n=Math.min.apply(Math,Xn(t)),r=Math.max.apply(Math,Xn(t)),o=r-n,i=(Math.max(o,20)-o)/2;return{minPitch:n-i,maxPitch:r+i}}return{minPitch:1,maxPitch:2}}yn({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=wn(this),n=Yt(t.length),r=jr(t,0);return r.length=Zp(r,t,t,n,0,void 0===e?1:Wt(e)),r}}),yn({target:"Array",proto:!0},{flatMap:function(e){var t,n=wn(this),r=Yt(n.length);return vn(e),(t=jr(n,0)).length=Zp(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}}),Ec("flat"),Ec("flatMap");const Jp="src/track/Track.svelte";function Kp(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function Qp(e){let t;const n={c:function(){t=S("p"),t.textContent="Use the controls below to begin",Be(t,"class","placeholder svelte-1rxy6e2"),r(t,Jp,47,8,2148)},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Qp.name,type:"else",source:"(47:4) {:else}",ctx:e}),n}function eh(e){let t;const n=new Vp({props:{viewport:e[0],section:e[7],index:e[9],pitchMin:e[3].minPitch,pitchMax:e[3].maxPitch},$$inline:!0}),r={c:function(){Se(n.$$.fragment)},m:function(e,r){Ee(n,e,r),t=!0},p:function(e,t){const r={};1&t&&(r.viewport=e[0]),4&t&&(r.section=e[7]),8&t&&(r.pitchMin=e[3].minPitch),8&t&&(r.pitchMax=e[3].maxPitch),n.$set(r)},i:function(e){t||(he(n.$$.fragment,e),t=!0)},o:function(e){me(n.$$.fragment,e),t=!1},d:function(e){Te(n,e)}};return Ae("SvelteRegisterBlock",{block:r,id:eh.name,type:"each",source:"(45:4) {#each selectedSections as section, idx}",ctx:e}),r}function th(e){let t,n,o,i,a;const c=new Hp({$$inline:!0});let s=e[2];_e(s);let l=[];for(let t=0;t<s.length;t+=1)l[t]=eh(Kp(e,s,t));const u=e=>me(l[e],1,1,()=>{l[e]=null});let d=null;s.length||(d=Qp(e));const f={c:function(){t=S("div"),Se(c.$$.fragment),n=C();for(let e=0;e<l.length;e+=1)l[e].c();d&&d.c(),Be(t,"class","container svelte-1rxy6e2"),Be(t,"style",o="background-color: "+Ep.bgDark),r(t,Jp,42,0,1790)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,o,s){Ie(r,t,o),Ee(c,t,null),Me(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);d&&d.m(t,null),e[5](t),i=!0,s&&a(),a=Re(t,"wheel",e[6],{passive:!0},!1,!1)},p:function(e,[n]){if(13&n){let r;for(s=e[2],_e(s),r=0;r<s.length;r+=1){const o=Kp(e,s,r);l[r]?(l[r].p(o,n),he(l[r],1)):(l[r]=eh(o),l[r].c(),he(l[r],1),l[r].m(t,null))}for(fe(),r=s.length;r<l.length;r+=1)u(r);pe(),s.length?d&&(d.d(1),d=null):d||(d=Qp(e),d.c(),d.m(t,null))}},i:function(e){if(!i){he(c.$$.fragment,e);for(let e=0;e<s.length;e+=1)he(l[e]);i=!0}},o:function(e){me(c.$$.fragment,e),l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)me(l[e]);i=!1},d:function(n){n&&Pe(t),Te(c),k(l,n),d&&d.d(),e[5](null),a()}};return Ae("SvelteRegisterBlock",{block:f,id:th.name,type:"component",source:"",ctx:e}),f}function nh(t,n,r){let o,i,a=e,c=()=>(a(),a=u(f,e=>r(4,o=e)),f);t.$$.on_destroy.push(()=>a());const s=[];Object.keys(n).forEach(e=>{~s.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Track> was created with unknown prop '${e}'`)});let{$$slots:l={},$$scope:d}=n;Ne("Track",l,[]);let f,p,h;return t.$capture_state=()=>({SectionCanvas:Vp,isScrollingStore:yr,root:ep,Timeline:Hp,colorLookup:Ep,getPitchRange:Xp,viewport:i,selectedSectionsStore:f,selectedSections:p,$selectedSectionsStore:o,pitchRange:h}),t.$inject_state=e=>{"viewport"in e&&r(0,i=e.viewport),"selectedSectionsStore"in e&&c(r(1,f=e.selectedSectionsStore)),"selectedSections"in e&&r(2,p=e.selectedSections),"pitchRange"in e&&r(3,h=e.pitchRange)},n&&"$$inject"in n&&t.$inject_state(n.$$inject),t.$$.update=()=>{16&t.$$.dirty&&r(2,p=o),4&t.$$.dirty&&r(3,h=Xp(p))},c(r(1,f=ep.selectedSectionsStore)),[i,f,p,h,o,function(e){J[e?"unshift":"push"](()=>{r(0,i=e)})},()=>yr.set(!1)]}class rh extends Ue{constructor(e){super(e),Oe(this,e,nh,th,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"Track",options:e,id:th.name})}}const oh="src/generationOptions/InstrumentCheckbox.svelte";function ih(t){let n,o,i,a,c,s,l;const u={c:function(){n=S("div"),o=S("input"),i=C(),a=S("label"),c=T(t[0]),Be(o,"id",t[2]),Be(o,"type","checkbox"),Be(o,"class","svelte-ex0ulq"),r(o,oh,33,2,1317),Be(a,"for",t[2]),Be(a,"style",s="color: "+Ep[t[0]]),Be(a,"class","svelte-ex0ulq"),r(a,oh,34,2,1379),Be(n,"class","row svelte-ex0ulq"),r(n,oh,32,0,1297)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r,s){Ie(e,n,r),Me(n,o),o.checked=t[3],Me(n,i),Me(n,a),Me(a,c),s&&l(),l=Re(o,"change",t[4])},p:function(e,[t]){4&t&&Be(o,"id",e[2]),8&t&&(o.checked=e[3]),1&t&&Le(c,e[0]),4&t&&Be(a,"for",e[2]),1&t&&s!==(s="color: "+Ep[e[0]])&&Be(a,"style",s)},i:e,o:e,d:function(e){e&&Pe(n),l()}};return Ae("SvelteRegisterBlock",{block:u,id:ih.name,type:"component",source:"",ctx:t}),u}function ah(t,n,r){let o,i=e,a=()=>(i(),i=u(l,e=>r(3,o=e)),l);t.$$.on_destroy.push(()=>i());let{instrument:c}=n;const s=["instrument"];Object.keys(n).forEach(e=>{~s.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<InstrumentCheckbox> was created with unknown prop '${e}'`)});let l,d,{$$slots:f={},$$scope:p}=n;return Ne("InstrumentCheckbox",f,[]),t.$set=e=>{"instrument"in e&&r(0,c=e.instrument)},t.$capture_state=()=>({instrumentStores:cr,colorLookup:Ep,instrument:c,enabledStore:l,id:d,$enabledStore:o}),t.$inject_state=e=>{"instrument"in e&&r(0,c=e.instrument),"enabledStore"in e&&a(r(1,l=e.enabledStore)),"id"in e&&r(2,d=e.id)},n&&"$$inject"in n&&t.$inject_state(n.$$inject),t.$$.update=()=>{1&t.$$.dirty&&a(r(1,l=cr[c])),1&t.$$.dirty&&r(2,d="instrument-"+c)},[c,l,d,o,function(){o=this.checked,l.set(o)}]}class ch extends Ue{constructor(e){super(e),Oe(this,e,ah,ih,s,{instrument:0}),Ae("SvelteRegisterComponent",{component:this,tagName:"InstrumentCheckbox",options:e,id:ih.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"instrument"in n||console.warn("<InstrumentCheckbox> was created without expected prop 'instrument'")}get instrument(){throw new Error("<InstrumentCheckbox>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set instrument(e){throw new Error("<InstrumentCheckbox>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const sh="src/buttons/Button.svelte";function lh(e){let t,n,o,i;const c=e[7].default,s=p(c,e,e[6],null),l={c:function(){t=S("div"),s&&s.c(),Be(t,"class","button enabled svelte-1mycpbq"),Be(t,"style",n=e[1]+"; color: "+e[2]+"; background-color: "+e[3]),r(t,sh,47,4,2070)},m:function(n,r,c){Ie(n,t,r),s&&s.m(t,null),o=!0,c&&a(i),i=[Re(t,"click",e[8],!1,!1,!1),Re(t,"contextMenu",e[9],!1,!1,!1)]},p:function(e,r){s&&s.p&&64&r&&s.p(h(c,e,e[6],null),m(c,e[6],r,null)),(!o||14&r&&n!==(n=e[1]+"; color: "+e[2]+"; background-color: "+e[3]))&&Be(t,"style",n)},i:function(e){o||(he(s,e),o=!0)},o:function(e){me(s,e),o=!1},d:function(e){e&&Pe(t),s&&s.d(e),a(i)}};return Ae("SvelteRegisterBlock",{block:l,id:lh.name,type:"else",source:"(47:0) {:else}",ctx:e}),l}function uh(e){let t,n,o;const i=e[7].default,a=p(i,e,e[6],null),c={c:function(){t=S("div"),a&&a.c(),Be(t,"class","button disabled svelte-1mycpbq"),Be(t,"style",n=e[1]+"; color: "+e[2]+"; background-color: "+e[3]),r(t,sh,43,4,1926)},m:function(e,n){Ie(e,t,n),a&&a.m(t,null),o=!0},p:function(e,r){a&&a.p&&64&r&&a.p(h(i,e,e[6],null),m(i,e[6],r,null)),(!o||14&r&&n!==(n=e[1]+"; color: "+e[2]+"; background-color: "+e[3]))&&Be(t,"style",n)},i:function(e){o||(he(a,e),o=!0)},o:function(e){me(a,e),o=!1},d:function(e){e&&Pe(t),a&&a.d(e)}};return Ae("SvelteRegisterBlock",{block:c,id:uh.name,type:"if",source:"(43:0) {#if disabled}",ctx:e}),c}function dh(e){let t,n,r,o;const i=[uh,lh],a=[];function c(e,t){return e[0]?0:1}t=c(e),n=a[t]=i[t](e);const s={c:function(){n.c(),r=O()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){a[t].m(e,n),Ie(e,r,n),o=!0},p:function(e,[o]){let s=t;t=c(e),t===s?a[t].p(e,o):(fe(),me(a[s],1,1,()=>{a[s]=null}),pe(),n=a[t],n||(n=a[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i:function(e){o||(he(n),o=!0)},o:function(e){me(n),o=!1},d:function(e){a[t].d(e),e&&Pe(r)}};return Ae("SvelteRegisterBlock",{block:s,id:dh.name,type:"component",source:"",ctx:e}),s}function fh(e,t,n){let{disabled:r=!1}=t,{emphasise:o=!1}=t,{style:i=""}=t;const a=["disabled","emphasise","style"];Object.keys(t).forEach(e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Button> was created with unknown prop '${e}'`)});let c,s,l,{$$slots:u={},$$scope:d}=t;return Ne("Button",u,["default"]),e.$set=e=>{"disabled"in e&&n(0,r=e.disabled),"emphasise"in e&&n(4,o=e.emphasise),"style"in e&&n(1,i=e.style),"$$scope"in e&&n(6,d=e.$$scope)},e.$capture_state=()=>({colorLookup:Ep,disabled:r,emphasise:o,style:i,textColor:c,bgColor:s,emphClazz:l}),e.$inject_state=e=>{"disabled"in e&&n(0,r=e.disabled),"emphasise"in e&&n(4,o=e.emphasise),"style"in e&&n(1,i=e.style),"textColor"in e&&n(2,c=e.textColor),"bgColor"in e&&n(3,s=e.bgColor),"emphClazz"in e&&(l=e.emphClazz)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{17&e.$$.dirty&&n(2,c=r?Ep.buttonBg:o?Ep.textEmphasis:Ep.textDark),17&e.$$.dirty&&n(3,s=r?Ep.buttonBgDisabled:o?Ep.text:Ep.buttonBg),16&e.$$.dirty&&(l=o?"emphasise":"")},[r,i,c,s,o,l,d,u,function(t){Z(e,t)},function(t){Z(e,t)}]}class ph extends Ue{constructor(e){super(e),Oe(this,e,fh,dh,s,{disabled:0,emphasise:4,style:1}),Ae("SvelteRegisterComponent",{component:this,tagName:"Button",options:e,id:dh.name})}get disabled(){throw new Error("<Button>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set disabled(e){throw new Error("<Button>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get emphasise(){throw new Error("<Button>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set emphasise(e){throw new Error("<Button>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<Button>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(e){throw new Error("<Button>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function hh(e){let t;const n={c:function(){t=T(e[0])},m:function(e,n){Ie(e,t,n)},p:function(e,n){1&n&&Le(t,e[0])},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:hh.name,type:"slot",source:"(19:0) <Button emphasise={emphasise} on:click={clicked}>",ctx:e}),n}function mh(e){let t;const n=new ph({props:{emphasise:e[1],$$slots:{default:[hh]},$$scope:{ctx:e}},$$inline:!0});n.$on("click",e[2]);const r={c:function(){Se(n.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ee(n,e,r),t=!0},p:function(e,[t]){const r={};65&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i:function(e){t||(he(n.$$.fragment,e),t=!0)},o:function(e){me(n.$$.fragment,e),t=!1},d:function(e){Te(n,e)}};return Ae("SvelteRegisterBlock",{block:r,id:mh.name,type:"component",source:"",ctx:e}),r}function gh(e,t,n){let r;l(fr,"genreStore"),f(e,fr,e=>n(4,r=e));let{text:o}=t,{genre:i}=t;const a=r[1]===i,{close:c}=Y("simple-modal");function s(){fr.set([o,i]),c()}const u=["text","genre"];Object.keys(t).forEach(e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<GenreOption> was created with unknown prop '${e}'`)});let{$$slots:d={},$$scope:p}=t;return Ne("GenreOption",d,[]),e.$set=e=>{"text"in e&&n(0,o=e.text),"genre"in e&&n(3,i=e.genre)},e.$capture_state=()=>({genreStore:fr,getContext:Y,Button:ph,text:o,genre:i,emphasise:a,close:c,clicked:s,$genreStore:r}),e.$inject_state=e=>{"text"in e&&n(0,o=e.text),"genre"in e&&n(3,i=e.genre)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[o,a,s,i]}class yh extends Ue{constructor(e){super(e),Oe(this,e,gh,mh,s,{text:0,genre:3}),Ae("SvelteRegisterComponent",{component:this,tagName:"GenreOption",options:e,id:mh.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"text"in n||console.warn("<GenreOption> was created without expected prop 'text'"),void 0!==t[3]||"genre"in n||console.warn("<GenreOption> was created without expected prop 'genre'")}get text(){throw new Error("<GenreOption>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set text(e){throw new Error("<GenreOption>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get genre(){throw new Error("<GenreOption>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set genre(e){throw new Error("<GenreOption>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const vh="src/generationOptions/GenresModal.svelte";function wh(e,t,n){const r=e.slice();return r[6]=t[n],r}function bh(e,t,n){const r=e.slice();return r[9]=t[n][0],r[6]=t[n][1],r}function $h(e,t,n){const r=e.slice();return r[9]=t[n][0],r[6]=t[n][1],r}function xh(t){let n;const r=new yh({props:{text:t[9],genre:t[6]},$$inline:!0}),o={c:function(){Se(r.$$.fragment)},m:function(e,t){Ee(r,e,t),n=!0},p:e,i:function(e){n||(he(r.$$.fragment,e),n=!0)},o:function(e){me(r.$$.fragment,e),n=!1},d:function(e){Te(r,e)}};return Ae("SvelteRegisterBlock",{block:o,id:xh.name,type:"each",source:"(83:8) {#each simpleGenres as [text, genre]}",ctx:t}),o}function kh(t){let n;const r=new yh({props:{text:t[9],genre:t[6]},$$inline:!0}),o={c:function(){Se(r.$$.fragment)},m:function(e,t){Ee(r,e,t),n=!0},p:e,i:function(e){n||(he(r.$$.fragment,e),n=!0)},o:function(e){me(r.$$.fragment,e),n=!1},d:function(e){Te(r,e)}};return Ae("SvelteRegisterBlock",{block:o,id:kh.name,type:"each",source:"(98:8) {#each advancedGenres as [text, genre]}",ctx:t}),o}function Sh(t){let n;const r=new yh({props:{text:t[6],genre:t[6]},$$inline:!0}),o={c:function(){Se(r.$$.fragment)},m:function(e,t){Ee(r,e,t),n=!0},p:e,i:function(e){n||(he(r.$$.fragment,e),n=!0)},o:function(e){me(r.$$.fragment,e),n=!1},d:function(e){Te(r,e)}};return Ae("SvelteRegisterBlock",{block:o,id:Sh.name,type:"each",source:"(113:8) {#each experimentalGenres as genre}",ctx:t}),o}function Eh(e){let t,n,o,i,a,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,E,O,A,M,I,P,R,B,j,L,_,N,U,D,F,q,V,z,G=e[0];_e(G);let W=[];for(let t=0;t<G.length;t+=1)W[t]=xh($h(e,G,t));const H=e=>me(W[e],1,1,()=>{W[e]=null});let Y=e[1];_e(Y);let Z=[];for(let t=0;t<Y.length;t+=1)Z[t]=kh(bh(e,Y,t));const X=e=>me(Z[e],1,1,()=>{Z[e]=null});let J=e[2];_e(J);let K=[];for(let t=0;t<J.length;t+=1)K[t]=Sh(wh(e,J,t));const Q=e=>me(K[e],1,1,()=>{K[e]=null}),ee={c:function(){t=S("div"),n=S("h1"),o=T("Genres"),a=C(),c=S("h2"),s=T("Simple\n        "),l=S("span"),u=T("These genres are the most reliable"),d=S("br"),f=T("\n            They are available in the official MuseNet tool"),h=C(),m=S("div");for(let e=0;e<W.length;e+=1)W[e].c();g=C(),y=S("h2"),v=T("Advanced\n        "),w=S("span"),b=T("These genres are reliable"),$=S("br"),x=T("\n            They are available in the official MuseNet tool"),E=S("br"),O=T("\n            after clicking 'show advanced settings'"),M=C(),I=S("div");for(let e=0;e<Z.length;e+=1)Z[e].c();P=C(),R=S("h2"),B=T("Experimental\n        "),j=S("span"),L=T("These genres are not reliable"),_=S("br"),N=T("\n            They are not supported by MuseNet, but usually work"),U=S("br"),D=T("\n            Don't be surprised if they sound very strange!"),q=C(),V=S("div");for(let e=0;e<K.length;e+=1)K[e].c();Be(n,"style",i="color: "+Ep.text),Be(n,"class","svelte-6d91hv"),r(n,vh,71,4,2674),r(d,vh,76,46,2907),Be(l,"class","TT_text svelte-6d91hv"),Be(l,"style",e[3]),r(l,vh,75,8,2816),Be(c,"class","TT_trigger svelte-6d91hv"),Be(c,"style",p="color: "+Ep.text),r(c,vh,73,4,2732),Be(m,"class","genreContainer svelte-6d91hv"),r(m,vh,81,4,3004),r($,vh,90,37,3332),r(E,vh,91,59,3397),Be(w,"class","TT_text svelte-6d91hv"),Be(w,"style",e[3]),r(w,vh,89,8,3250),Be(y,"class","TT_trigger svelte-6d91hv"),Be(y,"style",A="color: "+Ep.text),r(y,vh,87,4,3164),Be(I,"class","genreContainer svelte-6d91hv"),r(I,vh,96,4,3486),r(_,vh,105,41,3824),r(U,vh,106,63,3893),Be(j,"class","TT_text svelte-6d91hv"),Be(j,"style",e[3]),r(j,vh,104,8,3738),Be(R,"class","TT_trigger svelte-6d91hv"),Be(R,"style",F="color: "+Ep.text),r(R,vh,102,4,3648),Be(V,"class","genreContainer svelte-6d91hv"),r(V,vh,111,4,3993),r(t,vh,70,0,2664)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ie(e,t,r),Me(t,n),Me(n,o),Me(t,a),Me(t,c),Me(c,s),Me(c,l),Me(l,u),Me(l,d),Me(l,f),Me(t,h),Me(t,m);for(let e=0;e<W.length;e+=1)W[e].m(m,null);Me(t,g),Me(t,y),Me(y,v),Me(y,w),Me(w,b),Me(w,$),Me(w,x),Me(w,E),Me(w,O),Me(t,M),Me(t,I);for(let e=0;e<Z.length;e+=1)Z[e].m(I,null);Me(t,P),Me(t,R),Me(R,B),Me(R,j),Me(j,L),Me(j,_),Me(j,N),Me(j,U),Me(j,D),Me(t,q),Me(t,V);for(let e=0;e<K.length;e+=1)K[e].m(V,null);z=!0},p:function(e,[t]){if(1&t){let n;for(G=e[0],_e(G),n=0;n<G.length;n+=1){const r=$h(e,G,n);W[n]?(W[n].p(r,t),he(W[n],1)):(W[n]=xh(r),W[n].c(),he(W[n],1),W[n].m(m,null))}for(fe(),n=G.length;n<W.length;n+=1)H(n);pe()}if(2&t){let n;for(Y=e[1],_e(Y),n=0;n<Y.length;n+=1){const r=bh(e,Y,n);Z[n]?(Z[n].p(r,t),he(Z[n],1)):(Z[n]=kh(r),Z[n].c(),he(Z[n],1),Z[n].m(I,null))}for(fe(),n=Y.length;n<Z.length;n+=1)X(n);pe()}if(4&t){let n;for(J=e[2],_e(J),n=0;n<J.length;n+=1){const r=wh(e,J,n);K[n]?(K[n].p(r,t),he(K[n],1)):(K[n]=Sh(r),K[n].c(),he(K[n],1),K[n].m(V,null))}for(fe(),n=J.length;n<K.length;n+=1)Q(n);pe()}},i:function(e){if(!z){for(let e=0;e<G.length;e+=1)he(W[e]);for(let e=0;e<Y.length;e+=1)he(Z[e]);for(let e=0;e<J.length;e+=1)he(K[e]);z=!0}},o:function(e){W=W.filter(Boolean);for(let e=0;e<W.length;e+=1)me(W[e]);Z=Z.filter(Boolean);for(let e=0;e<Z.length;e+=1)me(Z[e]);K=K.filter(Boolean);for(let e=0;e<K.length;e+=1)me(K[e]);z=!1},d:function(e){e&&Pe(t),k(W,e),k(Z,e),k(K,e)}};return Ae("SvelteRegisterBlock",{block:ee,id:Eh.name,type:"component",source:"",ctx:e}),ee}function Th(e,t,n){const{close:r}=Y("simple-modal"),o=[["Chopin","chopin"],["Mozart","mozart"],["Rachmaninoff","rachmaninoff"],["Lady Gaga","ladygaga"],["Country","country"],["Disney","disney"]],i=[["Jazz","jazz"],["Bach","bach"],["Beethoven","beethoven"],["Journey","journey"],["The Beatles","thebeatles"],["Video Games","video"],["Broadway","broadway"],["Frank Sinatra","franksinatra"],["Bluegrass","bluegrass"],["Tchaikovsky","tchaikovsky"]],a=[...o.map(e=>e[1]),...i.map(e=>e[1])],c=ar.filter(e=>!a.includes(e)),s="border: 1px solid "+Ep.border+"; background-color: "+Ep.bgLight+"; color: "+Ep.textDark,l=[];Object.keys(t).forEach(e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<GenresModal> was created with unknown prop '${e}'`)});let{$$slots:u={},$$scope:d}=t;return Ne("GenresModal",u,[]),e.$capture_state=()=>({getContext:Y,GenreOption:yh,genres:ar,colorLookup:Ep,close:r,simpleGenres:o,advancedGenres:i,experimentalExclude:a,experimentalGenres:c,tt_text_style:s}),[o,i,c,s]}class Ch extends Ue{constructor(e){super(e),Oe(this,e,Th,Eh,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"GenresModal",options:e,id:Eh.name})}}const Oh="src/generationOptions/GenerationOptions.svelte";function Ah(e,t,n){const r=e.slice();return r[12]=t[n],r}function Mh(e){let t;const n={c:function(){t=T("⚙")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Mh.name,type:"slot",source:'(113:8) <Button on:click={showGenreModal} style=\\"font-size: 24px; padding: 0 4px 0 4px; margin: 0 0 0 8px;\\">',ctx:e}),n}function Ih(t){let n;const r=new ch({props:{instrument:t[12]},$$inline:!0}),o={c:function(){Se(r.$$.fragment)},m:function(e,t){Ee(r,e,t),n=!0},p:e,i:function(e){n||(he(r.$$.fragment,e),n=!0)},o:function(e){me(r.$$.fragment,e),n=!1},d:function(e){Te(r,e)}};return Ae("SvelteRegisterBlock",{block:o,id:Ih.name,type:"each",source:"(187:4) {#each instrumentCategories as instrument}",ctx:t}),o}function Ph(e){let t,n,o,i,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,E,O,A,M,I,B,j,L,_,N,U,D,F,q,V,z,G,W,H,Y,Z,X,J,K,Q,ee,te,ne,re,oe,ie,ae,ce,se,le,ue,de,ge,ye,ve,we,be,$e,xe,ke,Ce,Oe=e[0][0]+"";const je=new ph({props:{style:"font-size: 24px; padding: 0 4px 0 4px; margin: 0 0 0 8px;",$$slots:{default:[Mh]},$$scope:{ctx:e}},$$inline:!0});je.$on("click",e[5]);let Ne=ir;_e(Ne);let Ue=[];for(let t=0;t<Ne.length;t+=1)Ue[t]=Ih(Ah(e,Ne,t));const De=e=>me(Ue[e],1,1,()=>{Ue[e]=null}),Fe={c:function(){t=S("div"),n=S("h1"),o=T("Generator"),c=C(),s=S("div"),l=S("label"),u=T("Genre:\n            "),d=S("span"),f=T("The style of music to generate"),p=C(),h=S("span"),m=T(Oe),y=C(),Se(je.$$.fragment),v=C(),w=S("div"),b=S("label"),$=T("Generation Length:\n            "),x=S("span"),E=T("How many tokens to generate.\n                One note is usually two tokens"),O=C(),A=S("input"),M=C(),I=S("span"),B=T(e[1]),j=C(),L=S("div"),_=S("label"),N=T("Max Length:\n            "),U=S("span"),D=T("If the response would have more tokens than this,\n                we reduce the number of tokens that we send to MuseNet.\n                Higher values produce songs with more long-term structure\n                but increase the failure rates of MuseNet.\n                Values below 3000 are known to work."),F=C(),q=S("input"),V=C(),z=S("span"),G=T(e[2]),W=C(),H=S("div"),Y=S("label"),Z=T("Temperature:\n            "),X=S("span"),J=T("How adventurous the AI is allowed to be.\n                Try increasing temperature if you are stuck in a repeating pattern or if MuseNet starts generating a real song."),K=C(),Q=S("input"),ee=C(),te=S("span"),ne=T(e[3]),re=C(),oe=S("div"),ie=S("label"),ae=T("Instruments:\n            "),ce=S("span"),se=T("Selecting an instrument gives a strong suggestion to the AI.\n                It might just ignore you, but will try and respect the settings where possible.\n                Results are better if you select instruments that make sense for the selected genre."),le=C();for(let e=0;e<Ue.length;e+=1)Ue[e].c();ue=C(),de=S("div"),ge=S("label"),ye=T("Auto Request\n            "),ve=S("span"),we=T("Immediately request more as soon as you select a node for the first time"),be=C(),$e=S("input"),Be(n,"style",i="color: "+Ep.text),Be(n,"class","svelte-s7bhi0"),r(n,Oh,102,4,3978),Be(d,"class","TT_text svelte-s7bhi0"),Be(d,"style",e[6]),r(d,Oh,107,12,4145),Be(l,"for","genre"),Be(l,"class","TT_trigger svelte-s7bhi0"),r(l,Oh,105,8,4075),Be(h,"id","genre"),Be(h,"style",g="color: "+Ep.text),Be(h,"class","svelte-s7bhi0"),r(h,Oh,111,8,4282),Be(s,"class","optionElement svelte-s7bhi0"),r(s,Oh,104,4,4039),Be(x,"class","TT_text svelte-s7bhi0"),Be(x,"style",e[6]),r(x,Oh,119,12,4625),Be(b,"for","generationlength"),Be(b,"class","TT_trigger svelte-s7bhi0"),r(b,Oh,117,8,4532),Be(A,"class","slider svelte-s7bhi0"),Be(A,"id","generationLength"),Be(A,"type","range"),Be(A,"min","20"),Be(A,"max","1000"),Be(A,"step","10"),r(A,Oh,124,8,4807),Be(I,"class","svelte-s7bhi0"),r(I,Oh,132,8,5052),Be(w,"class","optionElement svelte-s7bhi0"),r(w,Oh,116,4,4496),Be(U,"class","TT_text svelte-s7bhi0"),Be(U,"style",e[6]),r(U,Oh,138,12,5226),Be(_,"for","responselength"),Be(_,"class","TT_trigger svelte-s7bhi0"),r(_,Oh,136,8,5142),Be(q,"class","slider svelte-s7bhi0"),Be(q,"id","responselength"),Be(q,"type","range"),Be(q,"min","500"),Be(q,"max","5000"),Be(q,"step","100"),r(q,Oh,146,8,5640),Be(z,"class","svelte-s7bhi0"),r(z,Oh,154,8,5886),Be(L,"class","optionElement svelte-s7bhi0"),r(L,Oh,135,4,5106),Be(X,"class","TT_text svelte-s7bhi0"),Be(X,"style",e[6]),r(X,Oh,160,12,6059),Be(Y,"for","temperature"),Be(Y,"class","TT_trigger svelte-s7bhi0"),r(Y,Oh,158,8,5977),Be(Q,"class","slider svelte-s7bhi0"),Be(Q,"id","temperature"),Be(Q,"type","range"),Be(Q,"min","0.8"),Be(Q,"max","1.2"),Be(Q,"step","0.01"),r(Q,Oh,165,8,6334),Be(te,"class","svelte-s7bhi0"),r(te,Oh,173,8,6571),Be(H,"class","optionElement svelte-s7bhi0"),r(H,Oh,157,4,5941),Be(ce,"class","TT_text svelte-s7bhi0"),Be(ce,"style",e[6]),r(ce,Oh,179,12,6729),Be(ie,"class","TT_trigger svelte-s7bhi0"),r(ie,Oh,177,8,6665),R(oe,"align-self","flex-start"),r(oe,Oh,176,4,6620),Be(ve,"class","TT_text svelte-s7bhi0"),Be(ve,"style",e[6]),r(ve,Oh,193,12,7321),Be(ge,"for","autoRequest"),Be(ge,"class","TT_trigger svelte-s7bhi0"),r(ge,Oh,191,8,7239),Be($e,"id","autoRequest"),Be($e,"type","checkbox"),Be($e,"class","svelte-s7bhi0"),r($e,Oh,197,8,7500),Be(de,"class","optionElement svelte-s7bhi0"),r(de,Oh,190,4,7203),Be(t,"class","options svelte-s7bhi0"),Be(t,"style",xe="color: "+Ep.textDark),r(t,Oh,101,0,3911)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,i,g){Ie(r,t,i),Me(t,n),Me(n,o),Me(t,c),Me(t,s),Me(s,l),Me(l,u),Me(l,d),Me(d,f),Me(s,p),Me(s,h),Me(h,m),Me(s,y),Ee(je,s,null),Me(t,v),Me(t,w),Me(w,b),Me(b,$),Me(b,x),Me(x,E),Me(w,O),Me(w,A),P(A,e[1]),Me(w,M),Me(w,I),Me(I,B),Me(t,j),Me(t,L),Me(L,_),Me(_,N),Me(_,U),Me(U,D),Me(L,F),Me(L,q),P(q,e[2]),Me(L,V),Me(L,z),Me(z,G),Me(t,W),Me(t,H),Me(H,Y),Me(Y,Z),Me(Y,X),Me(X,J),Me(H,K),Me(H,Q),P(Q,e[3]),Me(H,ee),Me(H,te),Me(te,ne),Me(t,re),Me(t,oe),Me(oe,ie),Me(ie,ae),Me(ie,ce),Me(ce,se),Me(t,le);for(let e=0;e<Ue.length;e+=1)Ue[e].m(t,null);Me(t,ue),Me(t,de),Me(de,ge),Me(ge,ye),Me(ge,ve),Me(ve,we),Me(de,be),Me(de,$e),$e.checked=e[4],ke=!0,g&&a(Ce),Ce=[Re(A,"change",e[8]),Re(A,"input",e[8]),Re(q,"change",e[9]),Re(q,"input",e[9]),Re(Q,"change",e[10]),Re(Q,"input",e[10]),Re($e,"change",e[11])]},p:function(e,[n]){(!ke||1&n)&&Oe!==(Oe=e[0][0]+"")&&Le(m,Oe);const r={};if(32768&n&&(r.$$scope={dirty:n,ctx:e}),je.$set(r),2&n&&P(A,e[1]),(!ke||2&n)&&Le(B,e[1]),4&n&&P(q,e[2]),(!ke||4&n)&&Le(G,e[2]),8&n&&P(Q,e[3]),(!ke||8&n)&&Le(ne,e[3]),0&n){let r;for(Ne=ir,_e(Ne),r=0;r<Ne.length;r+=1){const o=Ah(e,Ne,r);Ue[r]?(Ue[r].p(o,n),he(Ue[r],1)):(Ue[r]=Ih(o),Ue[r].c(),he(Ue[r],1),Ue[r].m(t,ue))}for(fe(),r=Ne.length;r<Ue.length;r+=1)De(r);pe()}16&n&&($e.checked=e[4])},i:function(e){if(!ke){he(je.$$.fragment,e);for(let e=0;e<Ne.length;e+=1)he(Ue[e]);ke=!0}},o:function(e){me(je.$$.fragment,e),Ue=Ue.filter(Boolean);for(let e=0;e<Ue.length;e+=1)me(Ue[e]);ke=!1},d:function(e){e&&Pe(t),Te(je),k(Ue,e),a(Ce)}};return Ae("SvelteRegisterBlock",{block:Fe,id:Ph.name,type:"component",source:"",ctx:e}),Fe}function Rh(e,t,n){let r,o,i,a,c;l(fr,"genreStore"),f(e,fr,e=>n(0,r=e)),l(lr,"generationLengthStore"),f(e,lr,e=>n(1,o=e)),l(ur,"maxResponseLengthStore"),f(e,ur,e=>n(2,i=e)),l(pr,"temperatureStore"),f(e,pr,e=>n(3,a=e)),l(mr,"autoRequestStore"),f(e,mr,e=>n(4,c=e));const{open:s}=Y("simple-modal");function u(){s(Ch,{},Tp)}const d="border: 1px solid "+Ep.border+"; background-color: "+Ep.bgLight,p=[];Object.keys(t).forEach(e=>{~p.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<GenerationOptions> was created with unknown prop '${e}'`)});let{$$slots:h={},$$scope:m}=t;return Ne("GenerationOptions",h,[]),e.$capture_state=()=>({genreStore:fr,generationLengthStore:lr,maxResponseLengthStore:ur,instrumentStores:cr,truncationStore:hr,temperatureStore:pr,autoRequestStore:mr,autoScrollStore:gr,yScaleStore:br,InstrumentCheckbox:ch,genres:ar,instrumentCategories:ir,getContext:Y,GenresModal:Ch,Button:ph,colorLookup:Ep,modalOptions:Tp,open:s,showGenreModal:u,tt_text_style:d,$genreStore:r,$generationLengthStore:o,$maxResponseLengthStore:i,$temperatureStore:a,$autoRequestStore:c}),[r,o,i,a,c,u,d,s,function(){o=I(this.value),lr.set(o)},function(){i=I(this.value),ur.set(i)},function(){a=I(this.value),pr.set(a)},function(){c=this.checked,mr.set(c)}]}class Bh extends Ue{constructor(e){super(e),Oe(this,e,Rh,Ph,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"GenerationOptions",options:e,id:Ph.name})}}var jh=[{version:[2,16,5],date:new Date(2020,5,3),commitHash:"55d44f1e18ff281fe7d6a2a14133951022f80c7d",changes:["Fix midi import"]},{version:[2,16,4],date:new Date(2020,5,3),commitHash:"67df9b020be286bcd184fb7535acb7de1aab81a3",changes:["Added validation to import modal"]},{version:[2,16,3],date:new Date(2020,5,3),commitHash:"6f23613e8f9764cebf678b112c053dcf07f71f4e",changes:["Cancelling load actually cancels it instead of just hiding it"]},{version:[2,16,2],date:new Date(2020,5,2),commitHash:"5bf2fa2e513d46d450f22f508335ae709c42a69e",changes:["Animate edge colour change with color wipe to show progress"]},{version:[2,16,1],date:new Date(2020,5,2),commitHash:"bec44310d5198ebbc8453dd16119f12285bc8273",changes:["Improve green node logic","Edges also highlight green when playign"]},{version:[2,16,0],date:new Date(2020,5,2),commitHash:"e6834a41cd6ce8c64fbc9f716a43a400bbec1937",changes:["Nodes in tree vis highlight green when playing"]},{version:[2,15,4],date:new Date(2020,5,2),commitHash:"b58309bfff89b980a0e4a2f0dbfa12342dd4c014",changes:["Changed from ending all notes at end of section to truncating notes after a specified max length"]},{version:[2,15,3],date:new Date(2020,5,2),commitHash:"3b6c833e785f4ade85a0f5b4927c449b16cc1a6c",changes:["Increase max length to 5000"]},{version:[2,15,2],date:new Date(2020,5,1),commitHash:"82af479c07f0ea431f72b9c391c2654a50ca6117",changes:["Lazy-load the section SVGs","Improve async loading performance of tall narrow trees","Improve SVG render performance"]},{version:[2,15,1],date:new Date(2020,5,1),commitHash:"1759ff6afaab49577f2f626361888f8b09f20b0a",changes:["Dynamic X-Range on Track View"]},{version:[2,15,0],date:new Date(2020,5,1),commitHash:"d10f2c0c84273c4f941598ea4a3db8267be9a376",changes:["Swap to using SVG for track view"]},{version:[2,14,2],date:new Date(2020,4,29),commitHash:"d8d46682664a1fe5f6285b2a20944f9a00aaccc1",changes:["Improve tree performance","Drastically improved node selection performance","Fixed type issues","Made loading bar start centered and grow outwards"]},{version:[2,14,1],date:new Date(2020,4,29),commitHash:"38a9dfda2416a400a974cd4735b4b64e25ce701b",changes:["Removed logging that was accidentally left in","Improved autorequest performance slightly","Removed all bad uses of get_store_value because it's slow"]},{version:[2,14,0],date:new Date(2020,4,28),commitHash:"5f43060b6743f2c3cec0bab172b869f028e6c76c",changes:["Added first-time help"]},{version:[2,13,2],date:new Date(2020,4,28),commitHash:"db889e7098ea0ee298a65d23960b83ed7936df4c",changes:["Removed accidental logging of undo buffer","Fixed bug where you could not load the same file twice in a row"]},{version:[2,13,1],date:new Date(2020,4,28),commitHash:"ac7857241e1dd7eb11fffbd261cbcf1f46dea9cd",changes:["Clear the undo buffer when deleting from root","Add confirmation modal to deleting from root"]},{version:[2,13,0],date:new Date(2020,4,28),commitHash:"02b45deda57ae4868728615e6f99b6bf36cffffe",changes:["Add autosave functionality"]},{version:[2,12,1],date:new Date(2020,4,28),commitHash:"497968dabbf38d183c53a86c5f37cde70b41c919",changes:["Improved piano loading speed"]},{version:[2,12,0],date:new Date(2020,4,28),commitHash:"8e07d30c40e0f580d1529e704559e4e7e6f7d0d7",changes:["Added undo button","Added undo keyboard shortcut"]},{version:[2,11,2],date:new Date(2020,4,27),commitHash:"8c0291d2b7a92bd4e5c70e22543a29e5502cab4c",changes:["Fix error when loading but closing modal"]},{version:[2,11,1],date:new Date(2020,4,27),commitHash:"9fb73015044a2348a86e96a350390865eb06b998",changes:["Cancelling load is now *much* faster","Can now cancel Midi loading","Fixed orange colour sometimes appearing twice","Fixed node colours note updating after loading mst file"]},{version:[2,11,0],date:new Date(2020,4,27),commitHash:"6f5bb9bfa717b48961f718117d973d354b4f14bb",changes:["Loading spinner shows approx progress","Loading can be cancelled"]},{version:[2,10,2],date:new Date(2020,4,27),commitHash:"4b707931d33bd19ce0b75b4426ee2ed754b6e60d",changes:["Made space bar start/stop audio playback, the same as clicking the play button at the bottom"]},{version:[2,10,1],date:new Date(2020,4,27),commitHash:"7817d4281d38502482e3a83f8d6ce416c0c3e318",changes:["Added keyboard shortcuts to context menu","Added keyboard shortcuts when hovering a node","Remove fade from pending load in tree view","Remove right-click to deselect from section canvas","Buttons in about modal are spread rather than left-aligned","Made nodes in tree vis grow when hovered","Transitioned stroke colour in lines between nodes","Fixed orange node colour so it works in all cases"]},{version:[2,10,0],date:new Date(2020,4,26),commitHash:"fa911066380c45032e45e9d59fc41d528cab79de",changes:["Added right-click menu to the tree visualisation","Removed controls in track view","Updated import & export modals to work based on which node you right-clicked","Removed ctrl+left click shortcut to load more in tree view"]},{version:[2,9,0],date:new Date(2020,4,25),commitHash:"9efd1d6b3491b965df075ea71bf8c53a9ea806fe",changes:["Added labels to the import modal","Coloured text inputs to be light background colour instead of dark","Add export modal","Prevent error if you don't select anything in file input","Added encoding export option"]},{version:[2,8,0],date:new Date(2020,4,25),commitHash:"46ab3ceb9464a42efdc5ae108c5a612ffed92e0a",changes:["Made track controls full-width","Moved load + save buttons to track controls","Moved import + export buttons to section controls"]},{version:[2,7,1],date:new Date(2020,4,25),commitHash:"0dcb5d7dc4dffd57a973155acd78bd8e2e2c2890",changes:["Fix favicon on live site using relative path"]},{version:[2,7,0],date:new Date(2020,4,25),commitHash:"8f2e17a397d20a444b698746a2c6daf26227d146",changes:["Added 'About' modal to replace links.svelte","Fixed height of buttons in track controls"]},{version:[2,6,4],date:new Date(2020,4,25),commitHash:"18be619c88ad49064b7b196409a447a8a321ccfe",changes:["Allow dragging the midi into the encoding box in import modal","Improve scroll bar in import modal textarea","Prevent import modal textarea resizing","Prevent loading spinner having a scroll bar"]},{version:[2,6,3],date:new Date(2020,4,25),commitHash:"e1721671c2aa4ef072af60c99d1c1f99d21ad805",changes:["Fix the track controls having white bar at bottom in chrome","Changelog links now open in a new tab"]},{version:[2,6,2],date:new Date(2020,4,25),commitHash:"28c79f3bb3c8f0124c0cd5128fdfcdd59b9e9cba",changes:["Hide scrollbar in options when possible"]},{version:[2,6,1],date:new Date(2020,4,24),commitHash:"5118bda71d2830d9970eec205671605747b2cd78",changes:["Improve play/stop button","Change favicon","Improve import modal examples selection"]},{version:[2,6,0],date:new Date(2020,4,24),commitHash:"54437db7ef38530c0d842760259d5c13c653c164",changes:["Added examples to the import modal","Changed header colour in modals","Allow the options column to scroll on low-res screens"]},{version:[2,5,1],date:new Date(2020,4,24),commitHash:"ecf0e5aea21dd04af80e84690d4c17c189a10203",changes:["Adjusted column widths in save options","The button that opens this modal now displays the current version","Improve tree vis line shape"]},{version:[2,5,0],date:new Date(2020,4,24),commitHash:"ee86226aa80db94681b4fd4bb0c0a5111aea0cb1",changes:["Github issue #6, allow changing size of each view"]},{version:[2,4,1],date:new Date(2020,4,24),commitHash:"33835b36cc2c7ba94dd49242ebfcb60f13dd784b",changes:["Updated readme for real this time","Coloured the instruments in the options panel","Added tooltips to the options panel","Converted all links to buttons in 'About'","Changed colour & center aligned headers in options panel","Fixed pending load display on branch nodes"]},{version:[2,4,0],date:new Date(2020,4,24),commitHash:"321ecf89124925cc7beefb542925ea37bc155f58",changes:["Add temperature to generation options","Prevented the 'Load more' and 'Log' buttons going on separate lines","Fixed the gaps between sections in the track view","Added border between sections and scroll bar in track view","Prevented timeline from scrolling you off the page on low-resolution screens","Improve alignment of persistence options buttons","Remove margin around headers in options","Update readme"]},{version:[2,3,0],date:new Date(2020,4,23),commitHash:"4c299141bda04c07760cdfcb96eda27e9d9ab66c",changes:["Add support for custom MIDI tempos"]},{version:[2,2,1],date:new Date(2020,4,23),commitHash:"6370688f82de45d5de4b5238a36e617acfa09fc0",changes:["Improved visual look of lines connecting nodes in tree view"]},{version:[2,2,0],date:new Date(2020,4,23),commitHash:"13628ec1f3d72b6cc51012b6c284ca3e4057673e",changes:["Fixed 'pending load' text colour in tree visualisation","Fixed issue #39, Added lines between nodes in tree visualisation"]},{version:[2,1,7],date:new Date(2020,4,21),commitHash:"fb1bd9b720f31b3bdcded4faf25e8797c3e9f630",changes:["Fixed issue #2, improved colour scheme","Fixed import modal buttons, disabling them when encoding box is empty"]},{version:[2,1,6],date:new Date(2020,4,21),commitHash:"eaad8693e3c4f18cff8e11bbbfe21d459954ffc3",changes:["Added this changelog modal"]},{version:[2,1,5],date:new Date(2020,4,21),commitHash:"630c8c2a119353abb893e6efcaf489a9957a18f3",changes:["Fixed issue #40, rightmost column should be dark theme","All modals made dark theme"]},{version:[2,1,4],date:new Date(2020,4,21),commitHash:"bc5e79d479d4ae8e6fd723f3bab911277b0902a9",changes:["Fixed issue #41, drums missing/incorrect in MIDI export"]},{version:[2,1,3],date:new Date(2020,4,20),commitHash:"411924dde1796c0ab6975121cac10517990c5c60",changes:["Fixed issue #44, notes lasting forever"]},{version:[2,1,2],date:new Date(2020,4,20),commitHash:"de8f1cec607da56cb2c81c28eebf7aaa9af453c7",changes:["Fixed issue #42, tempo incorrect on imported midi"]},{version:[2,1,1],date:new Date(2020,4,18),commitHash:"312560c1f72448cda816d2cadaa132b2a0884bc5",changes:["Disabled 'under selected' option in import modal if nothing is selected"]},{version:[2,1,0],date:new Date(2020,4,18),commitHash:"93ef56a3c56924f674a8fbdde6dcac2ff17db9c9",changes:["Added midi import functionality"]},{version:[2,0,0],date:new Date(2020,4,17),commitHash:"739d69b3a54a05e1f5e5bd46c84f3e3dc062eef3",changes:["Version 2 released"]}];jh[0].date.toLocaleDateString();const Lh="src/about/ChangeLogModal.svelte";function _h(e,t,n){const r=e.slice();return r[3]=t[n],r}function Nh(e,t,n){const r=e.slice();return r[0]=t[n],r}function Uh(t){let n,o,i=t[3]+"";const a={c:function(){n=S("li"),o=T(i),r(n,Lh,21,16,795)},m:function(e,t){Ie(e,n,t),Me(n,o)},p:e,d:function(e){e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:a,id:Uh.name,type:"each",source:"(21:12) {#each entry.changes as change}",ctx:t}),a}function Dh(e){let t,n,o,i,a,c,s,l,u,d,f,p,h,m,g=e[0].version[0]+"",y=e[0].version[1]+"",v=e[0].version[2]+"",w=e[0].date.toLocaleDateString()+"",b=e[0].changes;_e(b);let $=[];for(let t=0;t<b.length;t+=1)$[t]=Uh(_h(e,b,t));const x={c:function(){t=S("a"),n=S("h2"),o=T("v"),i=T(g),a=T("."),c=T(y),s=T("."),l=T(v),u=T(" - "),d=T(w),p=C(),h=S("ul");for(let e=0;e<$.length;e+=1)$[e].c();m=C(),r(n,Lh,16,12,605),Be(t,"href",f="https://github.com/stevenwaterman/musetree/tree/"+e[0].commitHash),Be(t,"target","_blank"),r(t,Lh,15,8,496),r(h,Lh,19,8,730)},m:function(e,r){Ie(e,t,r),Me(t,n),Me(n,o),Me(n,i),Me(n,a),Me(n,c),Me(n,s),Me(n,l),Me(n,u),Me(n,d),Ie(e,p,r),Ie(e,h,r);for(let e=0;e<$.length;e+=1)$[e].m(h,null);Me(h,m)},p:function(e,t){if(0&t){let n;for(b=e[0].changes,_e(b),n=0;n<b.length;n+=1){const r=_h(e,b,n);$[n]?$[n].p(r,t):($[n]=Uh(r),$[n].c(),$[n].m(h,m))}for(;n<$.length;n+=1)$[n].d(1);$.length=b.length}},d:function(e){e&&Pe(t),e&&Pe(p),e&&Pe(h),k($,e)}};return Ae("SvelteRegisterBlock",{block:x,id:Dh.name,type:"each",source:"(15:4) {#each changelog as entry}",ctx:e}),x}function Fh(t){let n,o,i,a=jh;_e(a);let c=[];for(let e=0;e<a.length;e+=1)c[e]=Dh(Nh(t,a,e));const s={c:function(){n=S("div"),o=S("h1"),o.textContent="ChangeLog",i=C();for(let e=0;e<c.length;e+=1)c[e].c();Be(o,"class","svelte-1wmaw7t"),r(o,Lh,12,4,437),r(n,Lh,11,0,427)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,t){Ie(e,n,t),Me(n,o),Me(n,i);for(let e=0;e<c.length;e+=1)c[e].m(n,null)},p:function(e,[t]){if(0&t){let r;for(a=jh,_e(a),r=0;r<a.length;r+=1){const o=Nh(e,a,r);c[r]?c[r].p(o,t):(c[r]=Dh(o),c[r].c(),c[r].m(n,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=a.length}},i:e,o:e,d:function(e){e&&Pe(n),k(c,e)}};return Ae("SvelteRegisterBlock",{block:s,id:Fh.name,type:"component",source:"",ctx:t}),s}function qh(e,t,n){const r=[];Object.keys(t).forEach(e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ChangeLogModal> was created with unknown prop '${e}'`)});let{$$slots:o={},$$scope:i}=t;return Ne("ChangeLogModal",o,[]),e.$capture_state=()=>({changelog:jh}),[]}class Vh extends Ue{constructor(e){super(e),Oe(this,e,qh,Fh,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"ChangeLogModal",options:e,id:Fh.name})}}const zh="src/about/HelpModal.svelte";function Gh(t){let n,o,i,a,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,k,E,O,A,M,I,P,B,j,L,_,N,U,D,F,q,V,z,G,W,H,Y,Z,X,J,K,Q,ee,te,ne,re,oe,ie,ae,ce,se,le,ue,de,fe,pe,he,me,ge,ye,ve,we;const be={c:function(){n=S("h1"),o=T("MuseTree Help"),a=C(),c=S("p"),s=S("i"),l=T("You can open this window at any time by clicking "),u=S("b"),u.textContent="About",d=T(", then clicking "),f=S("b"),f.textContent="Help",p=C(),h=S("h2"),m=T("What is MuseTree?"),y=C(),v=S("p"),v.textContent="MuseTree lets you work with an AI to generate music in range of styles.\n    It is designed for non-musicians interested in creating music, and small content creators e.g. YouTubers.",w=C(),b=S("h2"),$=T("Getting Started"),k=C(),E=S("p"),O=T("In the "),A=S("b"),A.textContent="Tree View",M=T(", right-click the red "),I=S("b"),I.textContent="Root",P=T(" node and select "),B=S("b"),B.textContent="Request More",j=T(".\n    This asks the AI to generate some music.\n    It can take up to a minute, so be patient."),L=C(),_=S("p"),N=T("When you see the four children under the root node, try clicking one to select it.\n    The "),U=S("b"),U.textContent="Track View",D=T(" will display the notes and you will the audio begin to play.\n    Pick your favourite child, and ask the AI to generate a follow-up section, then delete the others."),F=C(),q=S("p"),V=T("You can control the AI using the "),z=S("b"),z.textContent="Generation Options",G=T(" on the right-hand side of the screen.\n    Each option has a tooltip explaining what that setting does."),W=C(),H=S("p"),Y=T("When you are happy with your track, right-click the bottom node and choose "),Z=S("b"),Z.textContent="Save Audio",X=T("."),J=C(),K=S("h2"),Q=T("Advanced Tips"),te=C(),ne=S("p"),re=T("After right-clicking a node, each option in the context menu has one letter underlined.\n    Rather than clicking the button, you can just press the underline key on your keyboard.\n    This works even if the menu is not open, as long as you are hovering over that node.\n    Other hotkeys are "),oe=S("b"),oe.textContent="space",ie=T(" for play/pause and "),ae=S("b"),ae.textContent="z",ce=T(" for undo."),se=C(),le=S("p"),ue=T("If all four children of a node are identical, be careful.\n    MuseNet may have started overfitting, and could be generating a real song.\n    Try increasing the "),de=S("b"),de.textContent="Temperature",fe=T(" before asking the AI to try again."),pe=C(),he=S("p"),me=T("There is a "),ge=S("b"),ge.textContent="Delete All",ye=T(" option if you right-click the root node."),ve=C(),we=S("p"),we.textContent="You can change the instruments or other settings mid-way through a track and MuseNet will try to seamlessly transition to the new settings.",Be(n,"style",i="color: "+Ep.text),Be(n,"class","svelte-sqpwwa"),r(n,zh,11,0,411),r(u,zh,13,99,572),r(f,zh,13,127,600),r(s,zh,13,47,520),R(c,"font-size","10pt"),R(c,"text-align","center"),r(c,zh,13,0,473),Be(h,"style",g="color: "+Ep.text),r(h,zh,15,0,621),r(v,zh,16,0,686),Be(b,"style",x="color: "+Ep.text),r(b,zh,21,0,882),r(A,zh,23,11,960),r(I,zh,23,49,998),r(B,zh,23,77,1026),r(E,zh,22,0,945),r(U,zh,29,8,1243),r(_,zh,27,0,1144),r(z,zh,33,37,1471),r(q,zh,32,0,1430),r(Z,zh,37,79,1688),r(H,zh,36,0,1605),Be(K,"style",ee="color: "+Ep.text),r(K,zh,40,0,1713),r(oe,zh,45,22,2073),r(ae,zh,45,54,2105),r(ne,zh,41,0,1774),r(de,zh,50,23,2297),r(le,zh,47,0,2129),r(ge,zh,53,15,2375),r(he,zh,52,0,2356),r(we,zh,55,0,2439)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,t){Ie(e,n,t),Me(n,o),Ie(e,a,t),Ie(e,c,t),Me(c,s),Me(s,l),Me(s,u),Me(s,d),Me(s,f),Ie(e,p,t),Ie(e,h,t),Me(h,m),Ie(e,y,t),Ie(e,v,t),Ie(e,w,t),Ie(e,b,t),Me(b,$),Ie(e,k,t),Ie(e,E,t),Me(E,O),Me(E,A),Me(E,M),Me(E,I),Me(E,P),Me(E,B),Me(E,j),Ie(e,L,t),Ie(e,_,t),Me(_,N),Me(_,U),Me(_,D),Ie(e,F,t),Ie(e,q,t),Me(q,V),Me(q,z),Me(q,G),Ie(e,W,t),Ie(e,H,t),Me(H,Y),Me(H,Z),Me(H,X),Ie(e,J,t),Ie(e,K,t),Me(K,Q),Ie(e,te,t),Ie(e,ne,t),Me(ne,re),Me(ne,oe),Me(ne,ie),Me(ne,ae),Me(ne,ce),Ie(e,se,t),Ie(e,le,t),Me(le,ue),Me(le,de),Me(le,fe),Ie(e,pe,t),Ie(e,he,t),Me(he,me),Me(he,ge),Me(he,ye),Ie(e,ve,t),Ie(e,we,t)},p:e,i:e,o:e,d:function(e){e&&Pe(n),e&&Pe(a),e&&Pe(c),e&&Pe(p),e&&Pe(h),e&&Pe(y),e&&Pe(v),e&&Pe(w),e&&Pe(b),e&&Pe(k),e&&Pe(E),e&&Pe(L),e&&Pe(_),e&&Pe(F),e&&Pe(q),e&&Pe(W),e&&Pe(H),e&&Pe(J),e&&Pe(K),e&&Pe(te),e&&Pe(ne),e&&Pe(se),e&&Pe(le),e&&Pe(pe),e&&Pe(he),e&&Pe(ve),e&&Pe(we)}};return Ae("SvelteRegisterBlock",{block:be,id:Gh.name,type:"component",source:"",ctx:t}),be}function Wh(e,t,n){const r=[];Object.keys(t).forEach(e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<HelpModal> was created with unknown prop '${e}'`)});let{$$slots:o={},$$scope:i}=t;return Ne("HelpModal",o,[]),e.$capture_state=()=>({colorLookup:Ep}),[]}class Hh extends Ue{constructor(e){super(e),Oe(this,e,Wh,Gh,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"HelpModal",options:e,id:Gh.name})}}const Yh="src/about/AboutModal.svelte";function Zh(e){let t;const n={c:function(){t=T("Source Code")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Zh.name,type:"slot",source:'(43:4) <Button on:click={() => window.open(\\"https://github.com/stevenwaterman/musetree\\")}>',ctx:e}),n}function Xh(e){let t;const n={c:function(){t=T("Steven Waterman")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Xh.name,type:"slot",source:'(44:4) <Button on:click={() => window.open(\\"http://www.stevenwaterman.uk\\")}>',ctx:e}),n}function Jh(t){let n,r,o=jh[0].version.join(".")+"";const i={c:function(){n=T("Changelog - v"),r=T(o)},m:function(e,t){Ie(e,n,t),Ie(e,r,t)},p:e,d:function(e){e&&Pe(n),e&&Pe(r)}};return Ae("SvelteRegisterBlock",{block:i,id:Jh.name,type:"slot",source:"(45:4) <Button on:click={openChangelog}>",ctx:t}),i}function Kh(e){let t;const n={c:function(){t=T("Help")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Kh.name,type:"slot",source:"(46:4) <Button on:click={openHelp}>",ctx:e}),n}function Qh(e){let t,n,o,i,a,c,s,l,u,d,f,p,h,m,g,y,v,w,b;const $=new ph({props:{$$slots:{default:[Zh]},$$scope:{ctx:e}},$$inline:!0});$.$on("click",e[3]);const x=new ph({props:{$$slots:{default:[Xh]},$$scope:{ctx:e}},$$inline:!0});x.$on("click",e[4]);const k=new ph({props:{$$slots:{default:[Jh]},$$scope:{ctx:e}},$$inline:!0});k.$on("click",e[0]);const E=new ph({props:{$$slots:{default:[Kh]},$$scope:{ctx:e}},$$inline:!0});E.$on("click",e[1]);const O={c:function(){t=S("h1"),n=T("About"),i=C(),a=S("p"),c=T("MuseTree is a custom front-end for "),s=S("a"),s.textContent="OpenAi's MuseNet",l=T(",\n    the AI music generator.\n    The official app is a toy designed to show off the research.\n    In contrast, MuseTree is designed for real music production, and has been built from the ground-up with that in\n    mind."),u=C(),d=S("p"),f=T("MuseTree is still in active development. I'm very happy to take suggestions, so please open a GitHub issue or\n    comment on an existing one with your ideas!\n    If you want to chat with me in real time, I "),p=S("a"),p.textContent="live-code on twitch.tv",h=T(" Mon-Fri 2-6pm BST.\n    At the minute, those streams are mostly my work on MuseTree, so come along and say hi!"),m=C(),g=S("div"),Se($.$$.fragment),y=C(),Se(x.$$.fragment),v=C(),Se(k.$$.fragment),w=C(),Se(E.$$.fragment),Be(t,"style",o="color: "+Ep.text),Be(t,"class","svelte-1ux87xk"),r(t,Yh,26,0,878),Be(s,"href","https://openai.com/blog/musenet/"),Be(s,"target","_blank"),r(s,Yh,28,39,973),r(a,Yh,27,0,930),Be(p,"href","https://twitch.tv/stevenwaterman"),Be(p,"target","_blank"),r(p,Yh,38,48,1493),r(d,Yh,35,0,1279),R(g,"display","flex"),R(g,"flex-direction","row"),R(g,"justify-content","space-around"),r(g,Yh,41,0,1694)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ie(e,t,r),Me(t,n),Ie(e,i,r),Ie(e,a,r),Me(a,c),Me(a,s),Me(a,l),Ie(e,u,r),Ie(e,d,r),Me(d,f),Me(d,p),Me(d,h),Ie(e,m,r),Ie(e,g,r),Ee($,g,null),Me(g,y),Ee(x,g,null),Me(g,v),Ee(k,g,null),Me(g,w),Ee(E,g,null),b=!0},p:function(e,[t]){const n={};32&t&&(n.$$scope={dirty:t,ctx:e}),$.$set(n);const r={};32&t&&(r.$$scope={dirty:t,ctx:e}),x.$set(r);const o={};32&t&&(o.$$scope={dirty:t,ctx:e}),k.$set(o);const i={};32&t&&(i.$$scope={dirty:t,ctx:e}),E.$set(i)},i:function(e){b||(he($.$$.fragment,e),he(x.$$.fragment,e),he(k.$$.fragment,e),he(E.$$.fragment,e),b=!0)},o:function(e){me($.$$.fragment,e),me(x.$$.fragment,e),me(k.$$.fragment,e),me(E.$$.fragment,e),b=!1},d:function(e){e&&Pe(t),e&&Pe(i),e&&Pe(a),e&&Pe(u),e&&Pe(d),e&&Pe(m),e&&Pe(g),Te($),Te(x),Te(k),Te(E)}};return Ae("SvelteRegisterBlock",{block:O,id:Qh.name,type:"component",source:"",ctx:e}),O}function em(e,t,n){const{open:r}=Y("simple-modal");function o(){r(Vh,{},Tp)}function i(){r(Hh,{},Tp)}const a=[];Object.keys(t).forEach(e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<AboutModal> was created with unknown prop '${e}'`)});let{$$slots:c={},$$scope:s}=t;Ne("AboutModal",c,[]);return e.$capture_state=()=>({Button:ph,getContext:Y,ChangeLogModal:Vh,Changelog:jh,colorLookup:Ep,modalOptions:Tp,HelpModal:Hh,open:r,openChangelog:o,openHelp:i}),[o,i,r,()=>window.open("https://github.com/stevenwaterman/musetree"),()=>window.open("http://www.stevenwaterman.uk")]}class tm extends Ue{constructor(e){super(e),Oe(this,e,em,Qh,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"AboutModal",options:e,id:Qh.name})}}function nm(e){let t;const n={c:function(){t=T("About")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:nm.name,type:"slot",source:"(18:0) <Button on:click={openAboutModal}>",ctx:e}),n}function rm(e){let t;const n=new ph({props:{$$slots:{default:[nm]},$$scope:{ctx:e}},$$inline:!0});n.$on("click",e[0]);const r={c:function(){Se(n.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ee(n,e,r),t=!0},p:function(e,[t]){const r={};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i:function(e){t||(he(n.$$.fragment,e),t=!0)},o:function(e){me(n.$$.fragment,e),t=!1},d:function(e){Te(n,e)}};return Ae("SvelteRegisterBlock",{block:r,id:rm.name,type:"component",source:"",ctx:e}),r}function om(e,t,n){const{open:r}=Y("simple-modal");function o(){r(tm,{},Tp)}const i=[];Object.keys(t).forEach(e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<AboutModalButton> was created with unknown prop '${e}'`)});let{$$slots:a={},$$scope:c}=t;return Ne("AboutModalButton",a,[]),e.$capture_state=()=>({Button:ph,getContext:Y,AboutModal:tm,modalOptions:Tp,open:r,openAboutModal:o}),[o]}class im extends Ue{constructor(e){super(e),Oe(this,e,om,rm,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"AboutModalButton",options:e,id:rm.name})}}const am="src/buttons/FileInput.svelte";function cm(e){let t,n,o,i,c,s,l,u;const d=e[10].default,f=p(d,e,e[9],null),g={c:function(){t=S("div"),n=S("label"),f&&f.c(),o=C(),i=S("input"),Be(i,"id","upload"),Be(i,"class","hidden svelte-1l9ynqa"),Be(i,"type","file"),Be(i,"accept",e[2]),i.multiple=c=!1,r(i,am,66,12,2748),Be(n,"for","upload"),Be(n,"class","button enabled svelte-1l9ynqa"),Be(n,"style",s=e[1]+"; color: "+e[4]+"; background-color: "+e[5]),r(n,am,64,8,2597),r(t,am,63,4,2445)},m:function(r,c,s){Ie(r,t,c),Me(t,n),f&&f.m(n,null),Me(n,o),Me(n,i),l=!0,s&&a(u),u=[Re(i,"input",M(A(e[6])),!1,!0,!0),Re(t,"dragover",M(A(e[11])),!1,!0,!0),Re(t,"drop",M(A(e[12])),!1,!0,!0)]},p:function(e,t){f&&f.p&&512&t&&f.p(h(d,e,e[9],null),m(d,e[9],t,null)),(!l||4&t)&&Be(i,"accept",e[2]),(!l||50&t&&s!==(s=e[1]+"; color: "+e[4]+"; background-color: "+e[5]))&&Be(n,"style",s)},i:function(e){l||(he(f,e),l=!0)},o:function(e){me(f,e),l=!1},d:function(e){e&&Pe(t),f&&f.d(e),a(u)}};return Ae("SvelteRegisterBlock",{block:g,id:cm.name,type:"else",source:"(63:0) {:else}",ctx:e}),g}function sm(e){let t,n;const o=e[10].default,i=p(o,e,e[9],null),a={c:function(){t=S("label"),i&&i.c(),Be(t,"for","upload"),Be(t,"class","button disabled svelte-1l9ynqa"),r(t,am,59,4,2359)},m:function(e,r){Ie(e,t,r),i&&i.m(t,null),n=!0},p:function(e,t){i&&i.p&&512&t&&i.p(h(o,e,e[9],null),m(o,e[9],t,null))},i:function(e){n||(he(i,e),n=!0)},o:function(e){me(i,e),n=!1},d:function(e){e&&Pe(t),i&&i.d(e)}};return Ae("SvelteRegisterBlock",{block:a,id:sm.name,type:"if",source:"(59:0) {#if disabled}",ctx:e}),a}function lm(e){let t,n,r,o;const i=[sm,cm],a=[];function c(e,t){return e[0]?0:1}t=c(e),n=a[t]=i[t](e);const s={c:function(){n.c(),r=O()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){a[t].m(e,n),Ie(e,r,n),o=!0},p:function(e,[o]){let s=t;t=c(e),t===s?a[t].p(e,o):(fe(),me(a[s],1,1,()=>{a[s]=null}),pe(),n=a[t],n||(n=a[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i:function(e){o||(he(n),o=!0)},o:function(e){me(n),o=!1},d:function(e){a[t].d(e),e&&Pe(r)}};return Ae("SvelteRegisterBlock",{block:s,id:lm.name,type:"component",source:"",ctx:e}),s}function um(e,t,n){let{disabled:r=!1}=t,{emphasise:o=!1}=t,{style:i=""}=t,{fileTypes:a=""}=t,{handleFile:c=(()=>{})}=t;function s(e){if(e){const t=e.target.files;t&&t.length&&c(t[0]),e.target.value=null}}const l=["disabled","emphasise","style","fileTypes","handleFile"];Object.keys(t).forEach(e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<FileInput> was created with unknown prop '${e}'`)});let{$$slots:u={},$$scope:d}=t;Ne("FileInput",u,["default"]);let f,p,h;return e.$set=e=>{"disabled"in e&&n(0,r=e.disabled),"emphasise"in e&&n(7,o=e.emphasise),"style"in e&&n(1,i=e.style),"fileTypes"in e&&n(2,a=e.fileTypes),"handleFile"in e&&n(3,c=e.handleFile),"$$scope"in e&&n(9,d=e.$$scope)},e.$capture_state=()=>({colorLookup:Ep,disabled:r,emphasise:o,style:i,fileTypes:a,handleFile:c,fileEvent:s,textColor:f,bgColor:p,emphClazz:h}),e.$inject_state=e=>{"disabled"in e&&n(0,r=e.disabled),"emphasise"in e&&n(7,o=e.emphasise),"style"in e&&n(1,i=e.style),"fileTypes"in e&&n(2,a=e.fileTypes),"handleFile"in e&&n(3,c=e.handleFile),"textColor"in e&&n(4,f=e.textColor),"bgColor"in e&&n(5,p=e.bgColor),"emphClazz"in e&&(h=e.emphClazz)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{129&e.$$.dirty&&n(4,f=r?Ep.buttonBg:o?Ep.textEmphasis:Ep.textDark),129&e.$$.dirty&&n(5,p=r?Ep.buttonBgDisabled:o?Ep.text:Ep.buttonBg),128&e.$$.dirty&&(h=o?"emphasise":"")},[r,i,a,c,f,p,s,o,h,d,u,function(t){Z(e,t)},e=>c(e.dataTransfer.files.item(0))]}class dm extends Ue{constructor(e){super(e),Oe(this,e,um,lm,s,{disabled:0,emphasise:7,style:1,fileTypes:2,handleFile:3}),Ae("SvelteRegisterComponent",{component:this,tagName:"FileInput",options:e,id:lm.name})}get disabled(){throw new Error("<FileInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set disabled(e){throw new Error("<FileInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get emphasise(){throw new Error("<FileInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set emphasise(e){throw new Error("<FileInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<FileInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(e){throw new Error("<FileInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get fileTypes(){throw new Error("<FileInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fileTypes(e){throw new Error("<FileInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get handleFile(){throw new Error("<FileInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set handleFile(e){throw new Error("<FileInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var fm=qe((function(e,t){e.exports=function e(t,n,r){var o,i,a=window,c="application/octet-stream",s=r||c,l=t,u=!n&&!r&&l,d=document.createElement("a"),f=function(e){return String(e)},p=a.Blob||a.MozBlob||a.WebKitBlob||f,h=n||"download";if(p=p.call?p.bind(a):Blob,"true"===String(this)&&(s=(l=[l,s])[0],l=l[1]),u&&u.length<2048&&(h=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var m=new XMLHttpRequest;return m.open("GET",u,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,h,c)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&p!==f))return navigator.msSaveBlob?navigator.msSaveBlob(w(l),h):b(l);s=(l=w(l)).type||c}else if(/([\x80-\xff])/.test(l)){for(var g=0,y=new Uint8Array(l.length),v=y.length;g<v;++g)y[g]=l.charCodeAt(g);l=new p([y],{type:s})}function w(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=r.length,i=0,a=new Uint8Array(o);i<o;++i)a[i]=r.charCodeAt(i);return new p([a],{type:n})}function b(e,t){if("download"in d)return d.href=e,d.setAttribute("download",h),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout((function(){a.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(o=l instanceof p?l:new p([l],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(o,h);if(a.URL)b(a.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===f)try{return b("data:"+s+";base64,"+a.btoa(o))}catch(e){return b("data:"+s+","+encodeURIComponent(o))}(i=new FileReader).onload=function(e){b(this.result)},i.readAsDataURL(o)}return!0}}));function pm(e){var t=function(){return console.log("ERROR: Cancel Function not assigned")},n=new Promise((function(n,r){t=function(){return r({cancelled:!0})},Promise.resolve(e).then(n).catch(r)}));return n.cancel=t,n}var hm=tr(null),mm=null,gm=null;function ym(){mm&&mm.cancel(),gm&&gm.cancel()}function vm(e){var t=d(e.serialisedStore);fm(t,"Save.mst")}function wm(e){return e.children.map(bm).reduce((function(e,t){return e+t}),0)}function bm(e){return fi(e.encoding).length+e.children.map(bm).reduce((function(e,t){return e+t}),0)}var $m=!1;function xm(e,t){return km.apply(this,arguments)}function km(){return(km=Ln(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $m=!1,r=JSON.parse(n),hm.set({done:0,total:wm(r)}),o=Om(r),mm=pm(o),e.next=7,mm.then(function(){var e=Ln(regeneratorRuntime.mark((function e(n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bm(t),r=Qn(n.children),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=10;break}return i=o.value,e.next=8,Pm(t,i);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){(null==e?void 0:e.cancelled)?$m=!0:console.log("promise rejected, reason: ".concat(e))}));case 7:hm.set(null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sm(e,t,n){return Em.apply(this,arguments)}function Em(){return(Em=Ln(regeneratorRuntime.mark((function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $m=!1,hm.set({done:0,total:t.length}),o=d(r),i="root"===o.type?{piano:{},violin:{},cello:{},bass:{},guitar:{},flute:{},clarinet:{},trumpet:{},harp:{},drums:{}}:o.section.activeNotesAtEnd,a=Tm(t,i,n),gm=pm(a),e.next=8,gm.then((function(e){r.addChild(e)})).catch((function(e){(null==e?void 0:e.cancelled)?$m=!0:console.log("promise rejected, reason: ".concat(e))}));case 8:hm.set(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tm(e,t,n){return Cm.apply(this,arguments)}function Cm(){return(Cm=Ln(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jm(t,n,r);case 2:return o=e.sent,e.abrupt("return",pi(o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Om(e){return Am.apply(this,arguments)}function Am(){return(Am=Ln(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.children.map((function(e){return Mm(0,{piano:{},violin:{},cello:{},bass:{},guitar:{},flute:{},clarinet:{},trumpet:{},harp:{},drums:{}},e)})));case 2:return n=e.sent,e.abrupt("return",{children:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mm(e,t,n){return Im.apply(this,arguments)}function Im(){return(Im=Ln(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,c,s,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.encoding,i=r.children,!$m){e.next=3;break}throw new Error("Cancelled");case 3:return a=fi(o),e.next=6,jm(a,n,t);case 6:if(c=e.sent,!$m){e.next=9;break}throw new Error("Cancelled");case 9:return s=Promise.all(i.map((function(e){return Mm(c.endsAt,c.activeNotesAtEnd,e)}))),l=pi(c),hm.update((function(e){return null===e?null:qn(qn({},e),{},{done:e.done+a.length})})),e.next=14,s;case 14:return u=e.sent,e.abrupt("return",{sectionStore:l,children:u});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pm(e,t){return Rm.apply(this,arguments)}function Rm(){return(Rm=Ln(regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addChild(n.sectionStore);case 2:r=e.sent,o=Qn(n.children),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=12;break}return a=i.value,e.next=10,Pm(r,a);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})))).apply(this,arguments)}function Bm(e){var t=d(e);Object.keys(t.children).forEach((function(t){return e.deleteChild(t)})),e.updatePendingLoad((function(){return 0})),e.resetNextChildIndex()}function jm(e,t,n){return Lm.apply(this,arguments)}function Lm(){return(Lm=Ln(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,c,s,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(t,n);case 2:return o=e.sent,i=o.encoding,a=o.notes,c=o.duration,s=o.activeNotesAtEnd,e.next=9,bf(a,c);case 9:return l=e.sent,u=r+c,e.abrupt("return",{encoding:i,notes:a,activeNotesAtEnd:s,startsAt:r,endsAt:u,audio:l});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const{Object:_m}=be,Nm="src/track/TrackControls.svelte";function Um(t){let n,o,i,a;const c={c:function(){n=S("div"),o=T("▶"),Be(n,"class","playStop svelte-gswfa9"),Be(n,"style",i="color: "+Ep.text),r(n,Nm,103,8,4546)},m:function(e,r,i){Ie(e,n,r),Me(n,o),i&&a(),a=Re(n,"click",t[12],!1,!1,!1)},p:e,d:function(e){e&&Pe(n),a()}};return Ae("SvelteRegisterBlock",{block:c,id:Um.name,type:"else",source:"(103:4) {:else}",ctx:t}),c}function Dm(t){let n,o,i;const a={c:function(){n=S("div"),o=T("▶"),Be(n,"class","playStop svelte-gswfa9"),Be(n,"style",i=`color: ${Ep.text}; cursor: default`),r(n,Nm,101,8,4442)},m:function(e,t){Ie(e,n,t),Me(n,o)},p:e,d:function(e){e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:a,id:Dm.name,type:"if",source:"(101:51) ",ctx:t}),a}function Fm(t){let n,o,i,a;const c={c:function(){n=S("div"),o=T("■"),Be(n,"class","playStop svelte-gswfa9"),Be(n,"style",i="color: "+Ep.text),r(n,Nm,99,8,4299)},m:function(e,t,r){Ie(e,n,t),Me(n,o),r&&a(),a=Re(n,"click",xp,!1,!1,!1)},p:e,d:function(e){e&&Pe(n),a()}};return Ae("SvelteRegisterBlock",{block:c,id:Fm.name,type:"if",source:'(99:4) {#if $audioStatusStore.type === \\"on\\"}',ctx:t}),c}function qm(e){let t;const n={c:function(){t=T("Undo (z)")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:qm.name,type:"slot",source:"(147:4) <Button disabled={$undoStore.length === 0} on:click={undoStore.undo}>",ctx:e}),n}function Vm(e){let t;const n={c:function(){t=T("Load")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Vm.name,type:"slot",source:'(149:4) <FileInput fileTypes=\\".mst\\" handleFile={loadClicked}>',ctx:e}),n}function zm(e){let t;const n={c:function(){t=T("Save")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:zm.name,type:"slot",source:"(150:4) <Button disabled={disallowSave} on:click={() => save(root)}>",ctx:e}),n}function Gm(e){let t,n,o,i,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,k,E,O,A,M,I,R,B,j,L,_,N,U,D,F,q,V,z,G,W,H,Y,Z,X,J,K,Q,ee,te,ne;function re(e,t){return"on"===e[1].type?Fm:"loading"===e[1].type?Dm:Um}let oe=re(e),ie=oe(e);const ae=new ph({props:{disabled:0===e[7].length,$$slots:{default:[qm]},$$scope:{ctx:e}},$$inline:!0});ae.$on("click",Zf.undo);const ce=new dm({props:{fileTypes:".mst",handleFile:e[8],$$slots:{default:[Vm]},$$scope:{ctx:e}},$$inline:!0}),se=new ph({props:{disabled:e[0],$$slots:{default:[zm]},$$scope:{ctx:e}},$$inline:!0});se.$on("click",e[18]);const le=new im({$$inline:!0}),ue={c:function(){t=S("div"),ie.c(),n=C(),o=S("div"),i=S("label"),c=T("Auto Scroll\n            "),s=S("span"),l=T("Scroll the track to show the part that is playing"),u=C(),d=S("input"),f=C(),p=S("div"),h=S("label"),m=T("Zoom: "),g=T(e[3]),y=T("%"),v=C(),w=S("input"),b=C(),$=S("div"),x=S("label"),k=T("Split: "),E=T(e[4]),O=T("%"),A=C(),M=S("input"),I=C(),R=S("div"),B=S("label"),j=T("Auto Play\n            "),L=S("span"),_=T("Start playing the audio when a new node is selected"),N=C(),U=S("input"),D=C(),F=S("div"),q=S("label"),V=T("Pre-Play: "),z=T(e[6]),G=T("s\n            "),W=S("span"),H=T("When a section auto-plays, how many seconds of the previous section should we play first?"),Y=C(),Z=S("input"),X=C(),Se(ae.$$.fragment),J=C(),Se(ce.$$.fragment),K=C(),Se(se.$$.fragment),Q=C(),Se(le.$$.fragment),Be(s,"class","TT_text svelte-gswfa9"),Be(s,"style",e[9]),r(s,Nm,109,12,4773),Be(i,"for","autoScroll"),Be(i,"class","TT_trigger svelte-gswfa9"),r(i,Nm,107,8,4693),Be(d,"id","autoScroll"),Be(d,"type","checkbox"),r(d,Nm,113,8,4929),Be(o,"class","col center margin svelte-gswfa9"),r(o,Nm,106,4,4653),Be(h,"for","yScale"),r(h,Nm,117,8,5051),Be(w,"class","slider svelte-gswfa9"),Be(w,"id","yScale"),Be(w,"type","range"),Be(w,"min","10"),Be(w,"max","500"),Be(w,"step","10"),r(w,Nm,118,8,5109),Be(p,"class","col margin svelte-gswfa9"),r(p,Nm,116,4,5018),Be(x,"for","split"),r(x,Nm,122,8,5262),Be(M,"class","slider svelte-gswfa9"),Be(M,"id","split"),Be(M,"type","range"),Be(M,"min","0"),Be(M,"max","100"),Be(M,"step","5"),r(M,Nm,123,8,5319),Be($,"class","col margin svelte-gswfa9"),r($,Nm,121,4,5229),Be(L,"class","TT_text svelte-gswfa9"),Be(L,"style",e[9]),r(L,Nm,129,12,5551),Be(B,"for","autoPlay"),Be(B,"class","TT_trigger svelte-gswfa9"),r(B,Nm,127,8,5475),Be(U,"id","autoPlay"),Be(U,"type","checkbox"),r(U,Nm,133,8,5709),Be(R,"class","col center margin svelte-gswfa9"),r(R,Nm,126,4,5435),Be(W,"class","TT_text svelte-gswfa9"),Be(W,"style",e[9]),r(W,Nm,139,12,5919),Be(q,"for","preplay"),Be(q,"class","TT_trigger svelte-gswfa9"),r(q,Nm,137,8,5827),Be(Z,"class","slider svelte-gswfa9"),Be(Z,"id","preplay"),Be(Z,"type","range"),Be(Z,"min","0"),Be(Z,"max","5"),Be(Z,"step","0.5"),r(Z,Nm,143,8,6115),Be(F,"class","col margin svelte-gswfa9"),r(F,Nm,136,4,5794),Be(t,"class","container center svelte-gswfa9"),Be(t,"style",ee="color: "+Ep.textDark+"; border-top: 1px solid "+Ep.border+"; background-color: "+Ep.bgDark),r(t,Nm,97,0,4081)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,S,T){Ie(r,t,S),ie.m(t,null),Me(t,n),Me(t,o),Me(o,i),Me(i,c),Me(i,s),Me(s,l),Me(o,u),Me(o,d),d.checked=e[2],Me(t,f),Me(t,p),Me(p,h),Me(h,m),Me(h,g),Me(h,y),Me(p,v),Me(p,w),P(w,e[3]),Me(t,b),Me(t,$),Me($,x),Me(x,k),Me(x,E),Me(x,O),Me($,A),Me($,M),P(M,e[4]),Me(t,I),Me(t,R),Me(R,B),Me(B,j),Me(B,L),Me(L,_),Me(R,N),Me(R,U),U.checked=e[5],Me(t,D),Me(t,F),Me(F,q),Me(q,V),Me(q,z),Me(q,G),Me(q,W),Me(W,H),Me(F,Y),Me(F,Z),P(Z,e[6]),Me(t,X),Ee(ae,t,null),Me(t,J),Ee(ce,t,null),Me(t,K),Ee(se,t,null),Me(t,Q),Ee(le,t,null),te=!0,T&&a(ne),ne=[Re(d,"change",e[13]),Re(w,"change",e[14]),Re(w,"input",e[14]),Re(M,"change",e[15]),Re(M,"input",e[15]),Re(U,"change",e[16]),Re(Z,"change",e[17]),Re(Z,"input",e[17])]},p:function(e,[r]){oe===(oe=re(e))&&ie?ie.p(e,r):(ie.d(1),ie=oe(e),ie&&(ie.c(),ie.m(t,n))),4&r&&(d.checked=e[2]),(!te||8&r)&&Le(g,e[3]),8&r&&P(w,e[3]),(!te||16&r)&&Le(E,e[4]),16&r&&P(M,e[4]),32&r&&(U.checked=e[5]),(!te||64&r)&&Le(z,e[6]),64&r&&P(Z,e[6]);const o={};128&r&&(o.disabled=0===e[7].length),524288&r&&(o.$$scope={dirty:r,ctx:e}),ae.$set(o);const i={};524288&r&&(i.$$scope={dirty:r,ctx:e}),ce.$set(i);const a={};1&r&&(a.disabled=e[0]),524288&r&&(a.$$scope={dirty:r,ctx:e}),se.$set(a)},i:function(e){te||(he(ae.$$.fragment,e),he(ce.$$.fragment,e),he(se.$$.fragment,e),he(le.$$.fragment,e),te=!0)},o:function(e){me(ae.$$.fragment,e),me(ce.$$.fragment,e),me(se.$$.fragment,e),me(le.$$.fragment,e),te=!1},d:function(e){e&&Pe(t),ie.d(),Te(ae),Te(ce),Te(se),Te(le),a(ne)}};return Ae("SvelteRegisterBlock",{block:ue,id:Gm.name,type:"component",source:"",ctx:e}),ue}function Wm(e,t,n){let r,o,i,a,c,s,u,d;l(ep,"root"),f(e,ep,e=>n(11,r=e)),l(fp,"audioStatusStore"),f(e,fp,e=>n(1,o=e)),l(gr,"autoScrollStore"),f(e,gr,e=>n(2,i=e)),l(br,"yScaleStore"),f(e,br,e=>n(3,a=e)),l($r,"splitStore"),f(e,$r,e=>n(4,c=e)),l(vr,"autoPlayStore"),f(e,vr,e=>n(5,s=e)),l(wr,"preplayStore"),f(e,wr,e=>n(6,u=e)),l(Zf,"undoStore"),f(e,Zf,e=>n(7,d=e));const p=new FileReader;function h(e){p.readAsText(e)}p.onload=async e=>{await xm(ep,e.target.result)};const m="border: 1px solid "+Ep.border+"; background-color: "+Ep.bgLight,g=[];_m.keys(t).forEach(e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<TrackControls> was created with unknown prop '${e}'`)});let{$$slots:y={},$$scope:v}=t;Ne("TrackControls",y,[]);let w;return e.$capture_state=()=>({preplayStore:wr,autoScrollStore:gr,splitStore:$r,yScaleStore:br,autoPlayStore:vr,play:bp,stop:xp,audioStatusStore:fp,Button:ph,colorLookup:Ep,AboutModalButton:im,FileInput:dm,root:ep,save:vm,load:xm,undoStore:Zf,reader:p,loadClicked:h,tt_text_style:m,disallowSave:w,$root:r,$audioStatusStore:o,$autoScrollStore:i,$yScaleStore:a,$splitStore:c,$autoPlayStore:s,$preplayStore:u,$undoStore:d}),e.$inject_state=e=>{"disallowSave"in e&&n(0,w=e.disallowSave)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{2048&e.$$.dirty&&n(0,w=0===Object.keys(r.children).length)},[w,o,i,a,c,s,u,d,h,m,p,r,()=>bp(0),function(){i=this.checked,gr.set(i)},function(){a=I(this.value),br.set(a)},function(){c=I(this.value),$r.set(c)},function(){s=this.checked,vr.set(s)},function(){u=I(this.value),wr.set(u)},()=>vm(ep)]}class Hm extends Ue{constructor(e){super(e),Oe(this,e,Wm,Gm,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"TrackControls",options:e,id:Gm.name})}}var Ym=Jm,Zm=Jm,Xm=function(e,t,n){e.removeEventListener("wheel",t,n)};function Jm(e,t,n){e.addEventListener("wheel",t,n)}Ym.addWheelListener=Zm,Ym.removeWheelListener=Xm;var Km="function"==typeof Float32Array;function Qm(e,t){return 1-3*t+3*e}function eg(e,t){return 3*t-6*e}function tg(e){return 3*e}function ng(e,t,n){return((Qm(t,n)*e+eg(t,n))*e+tg(t))*e}function rg(e,t,n){return 3*Qm(t,n)*e*e+2*eg(t,n)*e+tg(t)}function og(e){return e}var ig=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return og;for(var o=Km?new Float32Array(11):new Array(11),i=0;i<11;++i)o[i]=ng(.1*i,e,n);function a(t){for(var r=0,i=1;10!==i&&o[i]<=t;++i)r+=.1;--i;var a=r+.1*((t-o[i])/(o[i+1]-o[i])),c=rg(a,e,n);return c>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var i=rg(t,n,r);if(0===i)return t;t-=(ng(t,n,r)-e)/i}return t}(t,a,e,n):0===c?a:function(e,t,n,r,o){var i,a,c=0;do{(i=ng(a=t+(n-t)/2,r,o)-e)>0?n=a:t=a}while(Math.abs(i)>1e-7&&++c<10);return a}(t,r,r+.1,e,n)}return function(e){return 0===e?0:1===e?1:ng(a(e),t,r)}},ag={ease:ig(.25,.1,.25,1),easeIn:ig(.42,0,1,1),easeOut:ig(0,0,.58,1),easeInOut:ig(.42,0,.58,1),linear:ig(0,0,1,1)},cg=function(e,t,n){var r=Object.create(null),o=Object.create(null),i="function"==typeof(n=n||{}).easing?n.easing:ag[n.easing];i||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),i=ag.ease);var a="function"==typeof n.step?n.step:ug,c="function"==typeof n.done?n.done:ug,s=function(e){if(!e){return"undefined"!=typeof window&&window.requestAnimationFrame?{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}:{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}if("function"!=typeof e.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!=typeof e.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return e}(n.scheduler),l=Object.keys(t);l.forEach((function(n){r[n]=e[n],o[n]=t[n]-e[n]}));var u,d="number"==typeof n.duration?n.duration:400,f=Math.max(1,.06*d),p=0;return u=s.next(h),{cancel:function(){s.cancel(u),u=0}};function h(){var t=i(p/f);p+=1,function(t){l.forEach((function(n){e[n]=o[n]*t+r[n]}))}(t),p<=f?(u=s.next(h),a(e)):(u=0,setTimeout((function(){c(e)}),0))}},sg=dg,lg=dg();function ug(){}function dg(){var e=new Set,t=new Set,n=0;return{next:r,cancel:r,clearAll:function(){e.clear(),t.clear(),cancelAnimationFrame(n),n=0}};function r(e){t.add(e),n||(n=requestAnimationFrame(o))}function o(){n=0;var r=t;t=e,(e=r).forEach((function(e){e()})),e.clear()}}cg.makeAggregateRaf=sg,cg.sharedScheduler=lg;var fg=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,o){if("function"!=typeof r)throw new Error("callback is expected to be a function");var i=t[n];return i||(i=t[n]=[]),i.push({callback:r,ctx:o}),e},off:function(n,r){if(void 0===n)return t=Object.create(null),e;if(t[n])if("function"!=typeof r)delete t[n];else for(var o=t[n],i=0;i<o.length;++i)o[i].callback===r&&o.splice(i,1);return e},fire:function(n){var r,o=t[n];if(!o)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var i=0;i<o.length;++i){var a=o[i];a.callback.apply(a.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e};var pg=function(e,t,n){"object"!=typeof n&&(n={});var r,o,i,a,c,s,l,u,d,f,p="number"==typeof n.minVelocity?n.minVelocity:5,h="number"==typeof n.amplitude?n.amplitude:.25,m="function"==typeof n.cancelAnimationFrame?n.cancelAnimationFrame:"function"==typeof De.cancelAnimationFrame?De.cancelAnimationFrame:clearTimeout,g="function"==typeof n.requestAnimationFrame?n.requestAnimationFrame:"function"==typeof De.requestAnimationFrame?De.requestAnimationFrame:function(e){return setTimeout(e,16)};return{start:function(){r=e(),s=d=a=l=0,o=new Date,m(i),m(f),i=g(y)},stop:function(){m(i),m(f);var t=e();c=t.x,u=t.y,o=Date.now(),(a<-p||a>p)&&(c+=s=h*a);(l<-p||l>p)&&(u+=d=h*l);f=g(v)},cancel:function(){m(i),m(f)}};function y(){var t=Date.now(),n=t-o;o=t;var c=e(),s=c.x-r.x,u=c.y-r.y;r=c;var d=1e3/(1+n);a=.8*s*d+.2*a,l=.8*u*d+.2*l,i=g(y)}function v(){var e=Date.now()-o,n=!1,r=0,i=0;s&&((r=-s*Math.exp(-e/342))>.5||r<-.5?n=!0:r=s=0),d&&((i=-d*Math.exp(-e/342))>.5||i<-.5?n=!0:i=d=0),n&&(t(c+r,u+i),f=g(v))}};var hg=function(e){if(e)return{capture:gg,release:gg};var t,n,r,o=!1;return{capture:function(e){o=!0,n=window.document.onselectstart,r=window.document.ondragstart,window.document.onselectstart=mg,(t=e).ondragstart=mg},release:function(){if(!o)return;o=!1,window.document.onselectstart=n,t&&(t.ondragstart=r)}}};function mg(e){return e.stopPropagation(),!1}function gg(){}var yg=function(){this.x=0,this.y=0,this.scale=1};var vg=function(e,t){if(!bg(e))throw new Error("svg element is required for svg.panzoom to work");var n=e.ownerSVGElement;if(!n)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");t.disableKeyboardInteraction||n.setAttribute("tabindex",0);return{getBBox:function(){var t=e.getBBox();return{left:t.x,top:t.y,width:t.width,height:t.height}},getScreenCTM:function(){var e=n.getCTM();if(!e)return n.getScreenCTM();return e},getOwner:function(){return n},applyTransform:function(t){e.setAttribute("transform","matrix("+t.scale+" 0 0 "+t.scale+" "+t.x+" "+t.y+")")},initTransform:function(t){var r=e.getCTM();t.x=r.e,t.y=r.f,t.scale=r.a,n.removeAttributeNS(null,"viewBox")}}},wg=bg;function bg(e){return e&&e.ownerSVGElement&&e.getCTM}vg.canAttach=wg;var $g=function(e,t){if(!kg(e))throw new Error("panzoom requires DOM element to be attached to the DOM tree");var n=e.parentElement;e.scrollTop=0,t.disableKeyboardInteraction||n.setAttribute("tabindex",0);return{getBBox:function(){return{left:0,top:0,width:e.clientWidth,height:e.clientHeight}},getOwner:function(){return n},applyTransform:function(t){e.style.transformOrigin="0 0 0",e.style.transform="matrix("+t.scale+", 0, 0, "+t.scale+", "+t.x+", "+t.y+")"}}},xg=kg;function kg(e){return e&&e.parentElement&&e.style}$g.canAttach=xg;var Sg=hg(),Eg=hg(!0),Tg=Cg;function Cg(e,t){var n=(t=t||{}).controller;if(n||(vg.canAttach(e)?n=vg(e,t):$g.canAttach(e)&&(n=$g(e,t))),!n)throw new Error("Cannot create panzoom for the current type of dom element");var r=n.getOwner(),o={x:0,y:0},i=!1,a=new yg;n.initTransform&&n.initTransform(a);var c,s="function"==typeof t.filterKey?t.filterKey:Mg,l="number"==typeof t.pinchSpeed?t.pinchSpeed:1,u=t.bounds,d="number"==typeof t.maxZoom?t.maxZoom:Number.POSITIVE_INFINITY,f="number"==typeof t.minZoom?t.minZoom:0,p="number"==typeof t.boundsPadding?t.boundsPadding:.05,h="number"==typeof t.zoomDoubleClickSpeed?t.zoomDoubleClickSpeed:1.75,m=t.beforeWheel||Mg,g=t.beforeMouseDown||Mg,y="number"==typeof t.zoomSpeed?t.zoomSpeed:1,v=Og(t.transformOrigin),w=t.enableTextSelection?Eg:Sg;!function(e){var t=typeof e;if("undefined"===t||"boolean"===t)return;if(!(Ig(e.left)&&Ig(e.top)&&Ig(e.bottom)&&Ig(e.right)))throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}(u),t.autocenter&&function(){var e,t,o=0,i=0,c=_();if(c)o=c.left,i=c.top,e=c.right-c.left,t=c.bottom-c.top;else{var s=r.getBoundingClientRect();e=s.width,t=s.height}var l=n.getBBox();if(0===l.width||0===l.height)return;var u=t/l.height,d=e/l.width,f=Math.min(d,u);a.x=-(l.left+l.width/2)*f+e/2+o,a.y=-(l.top+l.height/2)*f+t/2+i,a.scale=f}();var b,$,x,k,S,E,T,C,O=0,A=!1,M=!1;S="smoothScroll"in t&&!t.smoothScroll?{start:Mg,stop:Mg,cancel:Mg}:pg((function(){return{x:a.x,y:a.y}}),(function(e,t){se(),B(e,t)}),t.smoothScroll);var I=!1;q();var P={dispose:function(){V()},moveBy:F,moveTo:B,centerOn:function(e){var t=e.ownerSVGElement;if(!t)throw new Error("ui element is required to be within the scene");var n=e.getBoundingClientRect(),r=n.left+n.width/2,o=n.top+n.height/2,i=t.getBoundingClientRect(),a=i.width/2-r,c=i.height/2-o;F(a,c,!0)},zoomTo:ce,zoomAbs:D,smoothZoom:ie,smoothZoomAbs:function(e,t,n){var r={scale:a.scale},o={scale:n};S.cancel(),se(),T=cg(r,o,{step:function(n){D(e,t,n.scale)}})},showRectangle:function(e){var t=r.getBoundingClientRect(),n=R(t.width,t.height),o=e.right-e.left,i=e.bottom-e.top;if(!Number.isFinite(o)||!Number.isFinite(i))throw new Error("Invalid rectangle");var c=n.x/o,s=n.y/i,l=Math.min(c,s);a.x=-(e.left+o/2)*l+n.x/2,a.y=-(e.top+i/2)*l+n.y/2,a.scale=l},pause:function(){V(),I=!0},resume:function(){I&&(q(),I=!1)},isPaused:function(){return I},getTransform:function(){return a},getMinZoom:function(){return f},setMinZoom:function(e){f=e},getMaxZoom:function(){return d},setMaxZoom:function(e){d=e},getTransformOrigin:function(){return v},setTransformOrigin:function(e){v=Og(e)},getZoomSpeed:function(){return y},setZoomSpeed:function(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");y=e}};return fg(P),P;function R(e,t){if(n.getScreenCTM){var r=n.getScreenCTM(),i=r.a,a=r.d,c=r.e,s=r.f;o.x=e*i-c,o.y=t*a-s}else o.x=e,o.y=t;return o}function B(e,t){a.x=e,a.y=t,L(),pe("pan"),N()}function j(e,t){B(a.x+e,a.y+t)}function L(){var e=_();if(e){var t,r,o,i,c=!1,s=(t=n.getBBox(),o=t.left,i=t.top,{left:(r={x:o*a.scale+a.x,y:i*a.scale+a.y}).x,top:r.y,right:t.width*a.scale+r.x,bottom:t.height*a.scale+r.y}),l=e.left-s.right;return l>0&&(a.x+=l,c=!0),(l=e.right-s.left)<0&&(a.x+=l,c=!0),(l=e.top-s.bottom)>0&&(a.y+=l,c=!0),(l=e.bottom-s.top)<0&&(a.y+=l,c=!0),c}}function _(){if(u){if("boolean"==typeof u){var e=r.getBoundingClientRect(),t=e.width,n=e.height;return{left:t*p,top:n*p,right:t*(1-p),bottom:n*(1-p)}}return u}}function N(){i=!0,c=window.requestAnimationFrame(z)}function U(e,t,n){if(Pg(e)||Pg(t)||Pg(n))throw new Error("zoom requires valid numbers");var r=a.scale*n;if(r<f){if(a.scale===f)return;n=f/a.scale}if(r>d){if(a.scale===d)return;n=d/a.scale}var o=R(e,t);(a.x=o.x-n*(o.x-a.x),a.y=o.y-n*(o.y-a.y),u&&1===p&&1===f)?(a.scale*=n,L()):L()||(a.scale*=n);pe("zoom"),N()}function D(e,t,n){U(e,t,n/a.scale)}function F(e,t,n){if(!n)return j(e,t);E&&E.cancel();var r=0,o=0;E=cg({x:0,y:0},{x:e,y:t},{step:function(e){j(e.x-r,e.y-o),r=e.x,o=e.y}})}function q(){r.addEventListener("mousedown",K,{passive:!1}),r.addEventListener("dblclick",J,{passive:!1}),r.addEventListener("touchstart",W,{passive:!1}),r.addEventListener("keydown",G,{passive:!1}),Ym.addWheelListener(r,re,{passive:!1}),N()}function V(){Ym.removeWheelListener(r,re),r.removeEventListener("mousedown",K),r.removeEventListener("keydown",G),r.removeEventListener("dblclick",J),r.removeEventListener("touchstart",W),c&&(window.cancelAnimationFrame(c),c=0),S.cancel(),te(),ne(),w.release(),de()}function z(){i&&(i=!1,n.applyTransform(a),pe("transform"),c=0)}function G(e){var t=0,n=0,o=0;if(38===e.keyCode?n=1:40===e.keyCode?n=-1:37===e.keyCode?t=1:39===e.keyCode?t=-1:189===e.keyCode||109===e.keyCode?o=1:187!==e.keyCode&&107!==e.keyCode||(o=-1),!s(e,t,n,o)){if(t||n){e.preventDefault(),e.stopPropagation();var i=r.getBoundingClientRect();F(.05*(a=Math.min(i.width,i.height))*t,.05*a*n)}if(o){var a,c=le(100*o);ce((a=v?ae():{x:(l=r.getBoundingClientRect()).width/2,y:l.height/2}).x,a.y,c)}var l}}function W(e){if(function(e){if(t.onTouch&&!t.onTouch(e))return;e.stopPropagation(),e.preventDefault()}(e),1===e.touches.length)return function(e){var t=oe(e.touches[0]);b=t;var n=R(t.x,t.y);$=n.x,x=n.y,S.cancel(),H()}(e,e.touches[0]);2===e.touches.length&&(k=X(e.touches[0],e.touches[1]),C=!0,H())}function H(){A||(A=!0,document.addEventListener("touchmove",Y),document.addEventListener("touchend",Z),document.addEventListener("touchcancel",Z))}function Y(e){if(1===e.touches.length){e.stopPropagation();var t=R((d=oe(e.touches[0])).x,d.y),n=t.x-$,r=t.y-x;0!==n&&0!==r&&ue(),$=t.x,x=t.y,F(n,r)}else if(2===e.touches.length){C=!0;var o=e.touches[0],i=e.touches[1],a=X(o,i),c=1+(a/k-1)*l,s=oe(o),u=oe(i);if($=(s.x+u.x)/2,x=(s.y+u.y)/2,v){var d=ae();$=d.x,x=d.y}ce($,x,c),k=a,e.stopPropagation(),e.preventDefault()}}function Z(e){if(e.touches.length>0){var t=R((n=oe(e.touches[0])).x,n.y);$=t.x,x=t.y}else{var n,r=new Date;if(r-O<300)if(v)ie((n=ae()).x,n.y,h);else ie(b.x,b.y,h);O=r,de(),ne()}}function X(e,t){var n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function J(e){!function(e){t.onDoubleClick&&!t.onDoubleClick(e)||(e.preventDefault(),e.stopPropagation())}(e);var n=oe(e);v&&(n=ae()),ie(n.x,n.y,h)}function K(e){if(!g(e)){if(A)return e.stopPropagation(),!1;if(1===e.button&&null!==window.event||0===e.button){S.cancel();var t=oe(e),n=R(t.x,t.y);return $=n.x,x=n.y,document.addEventListener("mousemove",Q),document.addEventListener("mouseup",ee),w.capture(e.target||e.srcElement),!1}}}function Q(e){if(!A){ue();var t=oe(e),n=R(t.x,t.y),r=n.x-$,o=n.y-x;$=n.x,x=n.y,F(r,o)}}function ee(){w.release(),de(),te()}function te(){document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",ee),M=!1}function ne(){document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",Z),document.removeEventListener("touchcancel",Z),M=!1,C=!1,A=!1}function re(e){if(!m(e)){S.cancel();var t=e.deltaY;e.deltaMode>0&&(t*=100);var n=le(t);if(1!==n){var r=v?ae():oe(e);ce(r.x,r.y,n),e.preventDefault()}}}function oe(e){var t=r.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function ie(e,t,n){var r=a.scale,o={scale:r},i={scale:n*r};S.cancel(),se(),T=cg(o,i,{step:function(n){D(e,t,n.scale)},done:fe})}function ae(){var e=r.getBoundingClientRect();return{x:e.width*v.x,y:e.height*v.y}}function ce(e,t,n){return S.cancel(),se(),U(e,t,n)}function se(){T&&(T.cancel(),T=null)}function le(e){return 1-Math.sign(e)*Math.min(.25,Math.abs(y*e/128))}function ue(){M||(pe("panstart"),M=!0,S.start())}function de(){M&&(C||S.stop(),pe("panend"))}function fe(){pe("zoomend")}function pe(e){P.fire(e,P)}}function Og(e){if(e)return"object"==typeof e?(Ig(e.x)&&Ig(e.y)||Ag(e),e):void Ag()}function Ag(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join("\n"))}function Mg(){}function Ig(e){return Number.isFinite(e)}function Pg(e){return Number.isNaN?Number.isNaN(e):e!=e}function Rg(e){for(var t,n=new Bg(e),r=[];!n.eof();){var o=i();r.push(o)}return r;function i(){var e={};e.deltaTime=n.readVarInt();var r=n.readUInt8();if(240==(240&r)){if(255!==r){if(240==r){e.type="sysEx";i=n.readVarInt();return e.data=n.readBytes(i),e}if(247==r){e.type="endSysEx";i=n.readVarInt();return e.data=n.readBytes(i),e}throw"Unrecognised MIDI event type byte: "+r}e.meta=!0;var o=n.readUInt8(),i=n.readVarInt();switch(o){case 0:if(e.type="sequenceNumber",2!==i)throw"Expected length for sequenceNumber event is 2, got "+i;return e.number=n.readUInt16(),e;case 1:return e.type="text",e.text=n.readString(i),e;case 2:return e.type="copyrightNotice",e.text=n.readString(i),e;case 3:return e.type="trackName",e.text=n.readString(i),e;case 4:return e.type="instrumentName",e.text=n.readString(i),e;case 5:return e.type="lyrics",e.text=n.readString(i),e;case 6:return e.type="marker",e.text=n.readString(i),e;case 7:return e.type="cuePoint",e.text=n.readString(i),e;case 32:if(e.type="channelPrefix",1!=i)throw"Expected length for channelPrefix event is 1, got "+i;return e.channel=n.readUInt8(),e;case 33:if(e.type="portPrefix",1!=i)throw"Expected length for portPrefix event is 1, got "+i;return e.port=n.readUInt8(),e;case 47:if(e.type="endOfTrack",0!=i)throw"Expected length for endOfTrack event is 0, got "+i;return e;case 81:if(e.type="setTempo",3!=i)throw"Expected length for setTempo event is 3, got "+i;return e.microsecondsPerBeat=n.readUInt24(),e;case 84:if(e.type="smpteOffset",5!=i)throw"Expected length for smpteOffset event is 5, got "+i;var a=n.readUInt8();return e.frameRate={0:24,32:25,64:29,96:30}[96&a],e.hour=31&a,e.min=n.readUInt8(),e.sec=n.readUInt8(),e.frame=n.readUInt8(),e.subFrame=n.readUInt8(),e;case 88:if(e.type="timeSignature",4!=i)throw"Expected length for timeSignature event is 4, got "+i;return e.numerator=n.readUInt8(),e.denominator=1<<n.readUInt8(),e.metronome=n.readUInt8(),e.thirtyseconds=n.readUInt8(),e;case 89:if(e.type="keySignature",2!=i)throw"Expected length for keySignature event is 2, got "+i;return e.key=n.readInt8(),e.scale=n.readUInt8(),e;case 127:return e.type="sequencerSpecific",e.data=n.readBytes(i),e;default:return e.type="unknownMeta",e.data=n.readBytes(i),e.metatypeByte=o,e}}else{var c;if(0==(128&r)){if(null===t)throw"Running status byte encountered before status byte";c=r,r=t,e.running=!0}else c=n.readUInt8(),t=r;var s=r>>4;switch(e.channel=15&r,s){case 8:return e.type="noteOff",e.noteNumber=c,e.velocity=n.readUInt8(),e;case 9:var l=n.readUInt8();return e.type=0===l?"noteOff":"noteOn",e.noteNumber=c,e.velocity=l,0===l&&(e.byte9=!0),e;case 10:return e.type="noteAftertouch",e.noteNumber=c,e.amount=n.readUInt8(),e;case 11:return e.type="controller",e.controllerType=c,e.value=n.readUInt8(),e;case 12:return e.type="programChange",e.programNumber=c,e;case 13:return e.type="channelAftertouch",e.amount=c,e;case 14:return e.type="pitchBend",e.value=c+(n.readUInt8()<<7)-8192,e;default:throw"Unrecognised MIDI event type: "+s}}}}function Bg(e){this.buffer=e,this.bufferLen=this.buffer.length,this.pos=0}!function(){if("undefined"!=typeof document){var e=document.getElementsByTagName("script");if(e){for(var t,n=0;n<e.length;++n){var r=e[n];if(r.src&&r.src.match(/\bpanzoom(\.min)?\.js/)){t=r;break}}if(t){var o=t.getAttribute("query");if(o){var i=t.getAttribute("name")||"pz",a=Date.now();!function e(){var n=document.querySelector(o);if(!n){return Date.now()-a<2e3?void setTimeout(e,100):void console.error("Cannot find the panzoom element",i)}var r=function(e){for(var t=e.attributes,n={},r=0;r<t.length;++r){var o=c(t[r]);o&&(n[o.name]=o.value)}return n}(t);console.log(r),window[i]=Cg(n,r)}()}}}}function c(e){if(e.name&&("p"===e.name[0]&&"z"===e.name[1]&&"-"===e.name[2]))return{name:e.name.substr(3),value:JSON.parse(e.value)}}}(),Bg.prototype.eof=function(){return this.pos>=this.bufferLen},Bg.prototype.readUInt8=function(){var e=this.buffer[this.pos];return this.pos+=1,e},Bg.prototype.readInt8=function(){var e=this.readUInt8();return 128&e?e-256:e},Bg.prototype.readUInt16=function(){return(this.readUInt8()<<8)+this.readUInt8()},Bg.prototype.readInt16=function(){var e=this.readUInt16();return 32768&e?e-65536:e},Bg.prototype.readUInt24=function(){return(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},Bg.prototype.readInt24=function(){var e=this.readUInt24();return 8388608&e?e-16777216:e},Bg.prototype.readUInt32=function(){return(this.readUInt8()<<24)+(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},Bg.prototype.readBytes=function(e){var t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=e,t},Bg.prototype.readString=function(e){var t=this.readBytes(e);return String.fromCharCode.apply(null,t)},Bg.prototype.readVarInt=function(){for(var e=0;!this.eof();){var t=this.readUInt8();if(!(128&t))return e+t;e+=127&t,e<<=7}return e},Bg.prototype.readChunk=function(){var e=this.readString(4),t=this.readUInt32();return{id:e,length:t,data:this.readBytes(t)}};var jg=function(e){var t=new Bg(e),n=t.readChunk();if("MThd"!=n.id)throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var r=function(e){var t=new Bg(e),n=t.readUInt16(),r=t.readUInt16(),o={format:n,numTracks:r},i=t.readUInt16();32768&i?(o.framesPerSecond=256-(i>>8),o.ticksPerFrame=255&i):o.ticksPerBeat=i;return o}(n.data),o=[],i=0;!t.eof()&&i<r.numTracks;i++){var a=t.readChunk();if("MTrk"!=a.id)throw"Bad MIDI file.  Expected 'MTrk', got: '"+a.id+"'";var c=Rg(a.data);o.push(c)}return{header:r,tracks:o}};function Lg(e,t,n){var r,o=new Ng,i=t.length,a=null;for(r=0;r<i;r++)!1!==n.running&&(n.running||t[r].running)||(a=null),a=_g(o,t[r],a,n.useByte9ForNoteOff);e.writeChunk("MTrk",o.buffer)}function _g(e,t,n,r){var o=t.type,i=t.deltaTime,a=t.text||"",c=t.data||[],s=null;switch(e.writeVarInt(i),o){case"sequenceNumber":e.writeUInt8(255),e.writeUInt8(0),e.writeVarInt(2),e.writeUInt16(t.number);break;case"text":e.writeUInt8(255),e.writeUInt8(1),e.writeVarInt(a.length),e.writeString(a);break;case"copyrightNotice":e.writeUInt8(255),e.writeUInt8(2),e.writeVarInt(a.length),e.writeString(a);break;case"trackName":e.writeUInt8(255),e.writeUInt8(3),e.writeVarInt(a.length),e.writeString(a);break;case"instrumentName":e.writeUInt8(255),e.writeUInt8(4),e.writeVarInt(a.length),e.writeString(a);break;case"lyrics":e.writeUInt8(255),e.writeUInt8(5),e.writeVarInt(a.length),e.writeString(a);break;case"marker":e.writeUInt8(255),e.writeUInt8(6),e.writeVarInt(a.length),e.writeString(a);break;case"cuePoint":e.writeUInt8(255),e.writeUInt8(7),e.writeVarInt(a.length),e.writeString(a);break;case"channelPrefix":e.writeUInt8(255),e.writeUInt8(32),e.writeVarInt(1),e.writeUInt8(t.channel);break;case"portPrefix":e.writeUInt8(255),e.writeUInt8(33),e.writeVarInt(1),e.writeUInt8(t.port);break;case"endOfTrack":e.writeUInt8(255),e.writeUInt8(47),e.writeVarInt(0);break;case"setTempo":e.writeUInt8(255),e.writeUInt8(81),e.writeVarInt(3),e.writeUInt24(t.microsecondsPerBeat);break;case"smpteOffset":e.writeUInt8(255),e.writeUInt8(84),e.writeVarInt(5);var l=31&t.hour|{24:0,25:32,29:64,30:96}[t.frameRate];e.writeUInt8(l),e.writeUInt8(t.min),e.writeUInt8(t.sec),e.writeUInt8(t.frame),e.writeUInt8(t.subFrame);break;case"timeSignature":e.writeUInt8(255),e.writeUInt8(88),e.writeVarInt(4),e.writeUInt8(t.numerator);var u=255&Math.floor(Math.log(t.denominator)/Math.LN2);e.writeUInt8(u),e.writeUInt8(t.metronome),e.writeUInt8(t.thirtyseconds||8);break;case"keySignature":e.writeUInt8(255),e.writeUInt8(89),e.writeVarInt(2),e.writeInt8(t.key),e.writeUInt8(t.scale);break;case"sequencerSpecific":e.writeUInt8(255),e.writeUInt8(127),e.writeVarInt(c.length),e.writeBytes(c);break;case"unknownMeta":null!=t.metatypeByte&&(e.writeUInt8(255),e.writeUInt8(t.metatypeByte),e.writeVarInt(c.length),e.writeBytes(c));break;case"sysEx":e.writeUInt8(240),e.writeVarInt(c.length),e.writeBytes(c);break;case"endSysEx":e.writeUInt8(247),e.writeVarInt(c.length),e.writeBytes(c);break;case"noteOff":(s=(!1!==r&&t.byte9||r&&0==t.velocity?144:128)|t.channel)!==n&&e.writeUInt8(s),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteOn":(s=144|t.channel)!==n&&e.writeUInt8(s),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteAftertouch":(s=160|t.channel)!==n&&e.writeUInt8(s),e.writeUInt8(t.noteNumber),e.writeUInt8(t.amount);break;case"controller":(s=176|t.channel)!==n&&e.writeUInt8(s),e.writeUInt8(t.controllerType),e.writeUInt8(t.value);break;case"programChange":(s=192|t.channel)!==n&&e.writeUInt8(s),e.writeUInt8(t.programNumber);break;case"channelAftertouch":(s=208|t.channel)!==n&&e.writeUInt8(s),e.writeUInt8(t.amount);break;case"pitchBend":(s=224|t.channel)!==n&&e.writeUInt8(s);var d=8192+t.value,f=127&d,p=d>>7&127;e.writeUInt8(f),e.writeUInt8(p);break;default:throw"Unrecognized event type: "+o}return s}function Ng(){this.buffer=[]}Ng.prototype.writeUInt8=function(e){this.buffer.push(255&e)},Ng.prototype.writeInt8=Ng.prototype.writeUInt8,Ng.prototype.writeUInt16=function(e){var t=e>>8&255,n=255&e;this.writeUInt8(t),this.writeUInt8(n)},Ng.prototype.writeInt16=Ng.prototype.writeUInt16,Ng.prototype.writeUInt24=function(e){var t=e>>16&255,n=e>>8&255,r=255&e;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(r)},Ng.prototype.writeInt24=Ng.prototype.writeUInt24,Ng.prototype.writeUInt32=function(e){var t=e>>24&255,n=e>>16&255,r=e>>8&255,o=255&e;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(r),this.writeUInt8(o)},Ng.prototype.writeInt32=Ng.prototype.writeUInt32,Ng.prototype.writeBytes=function(e){this.buffer=this.buffer.concat(Array.prototype.slice.call(e,0))},Ng.prototype.writeString=function(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r.push(e.codePointAt(t));this.writeBytes(r)},Ng.prototype.writeVarInt=function(e){if(e<0)throw"Cannot write negative variable-length integer";if(e<=127)this.writeUInt8(e);else{var t=e,n=[];for(n.push(127&t),t>>=7;t;){var r=127&t|128;n.push(r),t>>=7}this.writeBytes(n.reverse())}},Ng.prototype.writeChunk=function(e,t){this.writeString(e),this.writeUInt32(t.length),this.writeBytes(t)};var Ug={parseMidi:jg,writeMidi:function(e,t){if("object"!=typeof e)throw"Invalid MIDI data";t=t||{};var n,r=e.header||{},o=e.tracks||[],i=o.length,a=new Ng;for(function(e,t,n){var r=null==t.format?1:t.format,o=128;t.timeDivision?o=t.timeDivision:t.ticksPerFrame&&t.framesPerSecond?o=-(255&t.framesPerSecond)<<8|255&t.ticksPerFrame:t.ticksPerBeat&&(o=32767&t.ticksPerBeat);var i=new Ng;i.writeUInt16(r),i.writeUInt16(n),i.writeUInt16(o),e.writeChunk("MThd",i.buffer)}(a,r,i),n=0;n<i;n++)Lg(a,o[n],t);return a.buffer}},Dg=qe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.instrumentChannels={piano:0,violin:1,cello:2,bass:3,guitar:4,flute:5,clarinet:6,trumpet:7,harp:8,drum:9};const n=[{voices:[40,41,44,45,48,49,50,51],on:14,off:15},{voices:[42,43],on:16,off:17},{voices:[32,33,34,35,36,37,38,39],on:18,off:19},{voices:[24,25,26,27,28,29,30,31],on:20,off:21},{voices:[72,73,74,75,76,77,78,79],on:22,off:23},{voices:[64,65,66,67,68,69,70,71],on:24,off:25},{voices:[56,57,58,59,60,61,62,63],on:26,off:27},{voices:[46],on:28,off:29}];t.getInstrumentInfo=function(e,r){if(r===t.instrumentChannels.drum)return{on:30,off:null};const o=n.find(t=>t.voices.indexOf(e)>-1);return o||{on:8,off:0}}}));Fe(Dg);Dg.instrumentChannels,Dg.getInstrumentInfo;var Fg=qe((function(e,t){var n=De&&De.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))};function r(e){const t=[],n="timeDivision"in(r=e.header)?r.timeDivision:"ticksPerBeat"in r?48/r.ticksPerBeat:"ticksPerFrame"in r?1e6/(r.ticksPerFrame*r.framesPerSecond):48;var r;return e.tracks.map(e=>function(e,t){const n=[];let r=0;for(let o of e)r+=o.deltaTime*t,n.push(Object.assign(Object.assign({},o),{startTime:r}));return n}(e,n)).forEach(e=>t.push(...e)),t.sort((e,t)=>e.startTime-t.startTime),t}function o(e){const t=[],n=Math.floor(e/128);for(let e=0;e<n;e++)t.push(4095);const r=e%128;return r&&t.push(3967+r),t}Object.defineProperty(t,"__esModule",{value:!0}),t.fromMidiToMusenet=function(e){return n(this,void 0,void 0,(function*(){return function(e){const t=[];let n=0;const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(let i of e){const e=i.startTime-n;if(t.push(...o(e)),n=i.startTime,"programChange"!=i.type)if("noteOn"!=i.type){if("noteOff"==i.type){const e=r[i.channel],{off:n}=Dg.getInstrumentInfo(e,i.channel);if(null!==n){t.push(i.noteNumber+128*n);continue}}}else{const e=r[i.channel],{on:n}=Dg.getInstrumentInfo(e,i.channel);t.push(i.noteNumber+128*n)}else r[i.channel]=i.programNumber}return t}(r(yield function(e){return n(this,void 0,void 0,(function*(){return new Promise(t=>{const n=new FileReader;n.readAsArrayBuffer(e),n.onload=e=>{const n=e.target;if(null!==n){const e=n.result;if(null!==e){const n=Ug.parseMidi(new Uint8Array(e));t(n)}}}})}))}(e)))}))}}));Fe(Fg);Fg.fromMidiToMusenet;var qg=qe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromMusenetToMidi=function(e){const t={header:{format:1,numTracks:10,ticksPerBeat:48},tracks:[[{deltaTime:0,channel:0,type:"programChange",programNumber:0}],[{deltaTime:0,channel:1,type:"programChange",programNumber:40}],[{deltaTime:0,channel:2,type:"programChange",programNumber:42}],[{deltaTime:0,channel:3,type:"programChange",programNumber:32}],[{deltaTime:0,channel:4,type:"programChange",programNumber:24}],[{deltaTime:0,channel:5,type:"programChange",programNumber:73}],[{deltaTime:0,channel:6,type:"programChange",programNumber:71}],[{deltaTime:0,channel:7,type:"programChange",programNumber:56}],[{deltaTime:0,channel:8,type:"programChange",programNumber:46}],[{deltaTime:0,channel:9,type:"programChange",programNumber:0}]]},n=e.map(r).filter(e=>null!==e),o=[0,0,0,0,0,0,0,0,0,0];n.forEach(e=>{if("note"===e.type){const n=Dg.instrumentChannels[e.instrument];0===e.volume?t.tracks[n].push({deltaTime:o[n],channel:n,type:"noteOff",noteNumber:e.pitch,velocity:e.volume}):(t.tracks[n].push({deltaTime:o[n],channel:n,type:"noteOn",noteNumber:e.pitch,velocity:e.volume}),"drum"===e.instrument&&t.tracks[9].push({deltaTime:0,channel:9,type:"noteOff",noteNumber:e.pitch,velocity:0})),o[n]=0}else if("wait"===e.type)for(let t=0;t<10;t++)o[t]+=e.delay}),t.tracks.forEach((e,t)=>{e.push({deltaTime:o[t],meta:!0,type:"endOfTrack"}),o[t]=0}),t.tracks=t.tracks.filter(e=>e.length>2),t.header.numTracks=t.tracks.length;const i=new Uint8Array(Ug.writeMidi(t));return new Blob([i],{type:"audio/midi"})};const n=[["piano",0],["piano",24],["piano",32],["piano",40],["piano",48],["piano",56],["piano",64],["piano",72],["piano",80],["piano",88],["piano",96],["piano",104],["piano",112],["piano",120],["violin",80],["violin",0],["cello",80],["cello",0],["bass",80],["bass",0],["guitar",80],["guitar",0],["flute",80],["flute",0],["clarinet",80],["clarinet",0],["trumpet",80],["trumpet",0],["harp",80],["harp",0]];function r(e){if(e>=0&&e<3840){const[t,r]=n[e>>7];return{type:"note",pitch:e%128,instrument:t,volume:r}}return e<3968?{type:"note",pitch:e%128,instrument:"drum",volume:80}:e<4096?{type:"wait",delay:e%128+1}:4096==e?{type:"start"}:null}t.parseToken=r}));Fe(qg);qg.fromMusenetToMidi,qg.parseToken;var Vg=qe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromMidi=Fg.fromMidiToMusenet,t.toMidi=qg.fromMusenetToMidi}));Fe(Vg);var zg=Vg.fromMidi,Gg=Vg.toMidi,Wg={"Mozart's Rondo Alla Turca":"7 455 3972 71 3968 453 3975 69 3969 580 3974 68 3969 453 3979 69 584 3970 185 3981 72 3973 57 188 320 3973 64 3969 60 3978 842 3970 188 3968 320 3972 840 74 3969 60 3968 64 3974 72 3968 839 3968 444 3968 704 3970 71 3969 60 3968 840 3969 64 3977 844 3968 569 72 3976 57","Beethoven's Symphony No. 5":"7 3979 1439 1451 1463 1475 3980 1439 1451 1463 1475 3981 1439 1451 1463 1475 3979 31 43 55 67 3968 1435 1447 1459 1471 4095 3994 27 39 51 63 3986 1437 1449 1461 1473 3980 29 41 53 65 3968 1437 1449 1461 1473 3979 1437 1449 1461 1473 3980 29 41 53 65","Lady Gaga's Poker Face":"1336 3991 1336 3991 56 3968 1324 3990 44 3968 1324 3990 44 3968 1331 3990 51 3968 1331 3991 1324 51 3991 44 3968 1324 3990 44 3968 1336 3990 56 3968 1336 3991 1332 56 3991 1327 52 3991 47 3968 1334","Beethoven’s Für Elise":"7 4049 460 3988 331 76 3989 75 460 3987 459 76 3987 75 588 3988 455 76 3987 7 71 586 3988 7 456 74 3990 429 581 72 3988 308 3988 313 3988 316 3987 7 448 3986 7 453","Adele's Someone Like You":"7 3968 1453 1460 1465 3983 1213 3985 1344 3985 1341 3986 1337 3984 1341 3985 1344 3985 1341 3986 1209 3984 1213 3985 1216 3986 1213 3983 1337 3986 1213 3985 57 61 1216 3986 1213 3973 64 3979 1452 1460 1208 61 3984 1213 3986 1344","Justin Timberlake’s Cry Me A River":"812 824 3986 827 3987 59 831 3987 63 836 3987 68 839 4007 71 4007 807 44 819 56 3987 829 3988 61 832 3987 64 835 3987 67 838 4006 70","Luis Fonsi’s Despacito":"2890 4032 2889 3018 4031 3876 2339 2887 3017 3988 2467 3979 2882 3015 3983 3878 3984 3876 2342 2882 3982 2882 3972 2470 3978 3878 2346 2882 3984 2882 3971 2474 3979 3876 2339 2882 3983 3010 2887 3971 2467 3980 2887 3983 3878 2887","Frozen’s Let It Go":"437 719 3969 316 3988 848 3986 712 3993 847 4014 720 4049 689 53 568 60 72 975 80 3990 976 3969 79 3984 840 80 3992 848 4010 719 4015 710 3991 698 973 3968 49 691 56 72 79 80 3988 975 3969 70 3970 77 3982 966 3971 79 3988 845 4008 847 4012 710 3994 843","The Godfather Theme":"830 2622 833 2625 4002 1719 1731 1743 3980 3887 3978 3887 3980 3887 55 1724 67 1736 79 1748 4002 3885 48 56 60 62 1727 65 72 1739 84 1751 4003 2750 2753 3968 3876 3894 2340 1712 1719 2620 1726 63 1738 75 1750 87 4001 2748 3968 3894 1724 2623 1736 1748 3968 62 74 86 4002 60 2751 72 84 3968 3880 3894 1727 2627 1739 1751 4001 63 2755 75 87 3968 3894 1724 2623 1736 1748 4003 2468 48 55 60 2751 72 84 3968 3876 3894 2333 1712 1720 1726 2625 1738 1750 4002 62 2753 74 86 3968 3894 1724 2628 1736 1748 4002 2756 3968 3880 3894 2632","The Harry Potter Theme":"7 4095 3998 1479 3999 71 1484 4015 76 1487 3983 1486 79 3999 1484 78 4031 76 1491 3999 1489 83 4063 1486 81 4063 1484 78 4016 76 1487 3983 1486 79 3999 1482 78 4031 74 1485","The Pink Panther Theme":"7 4095 3977 1573 2341 1452 1457 1464 3983 37 2469 3968 37 1574 2342 44 1453 49 1458 56 1465 3984 38 2470 3968 38 45 50 57 3984 3876 1575 2343 1454 1459 1466 3983 39 2471 3968 3876 3886 39 1576 2344 46 1455 51 1460 58 1467 4019 3877 3882 4002 3886","Silent Night":"7 560 444 448 451 4056 64 577 67 581 3998 572 576 65 579 69 4026 560 567 572 576 67 4058 55 569"};const{Object:Hg}=be,Yg="src/persistence/ImportModal.svelte";function Zg(e,t,n){const r=e.slice();return r[13]=t[n][0],r[14]=t[n][1],r}function Xg(e){let t;const n={c:function(){t=T("Upload Midi")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Xg.name,type:"slot",source:'(88:12) <FileInput fileTypes=\\".mid\\" handleFile={midiSelected}>',ctx:e}),n}function Jg(t){let n,o,i,a=t[13]+"";const c={c:function(){n=S("option"),o=T(a),n.__value=i=t[14],n.value=n.__value,r(n,Yg,94,20,4053)},m:function(e,t){Ie(e,n,t),Me(n,o)},p:e,d:function(e){e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:c,id:Jg.name,type:"each",source:"(94:16) {#each Object.entries(examples) as [name, exampleEncoding]}",ctx:t}),c}function Kg(e){let t;const n={c:function(){t=T("Import")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Kg.name,type:"slot",source:"(105:4) <Button disabled={encodingInvalid} on:click={importEncoding}>",ctx:e}),n}function Qg(e){let t,n,o,i,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,E,O,M;const I=new dm({props:{fileTypes:".mid",handleFile:e[3],$$slots:{default:[Xg]},$$scope:{ctx:e}},$$inline:!0});let j=Object.entries(Wg);_e(j);let L=[];for(let t=0;t<j.length;t+=1)L[t]=Jg(Zg(e,j,t));const _=new ph({props:{disabled:e[2],$$slots:{default:[Kg]},$$scope:{ctx:e}},$$inline:!0});_.$on("click",e[4]);const N={c:function(){t=S("h1"),n=T("Import"),i=C(),c=S("div"),s=S("span"),s.textContent="What to import:",l=C(),u=S("div"),Se(I.$$.fragment),d=C(),f=S("div"),p=S("label"),p.textContent="Examples:",h=C(),m=S("select"),g=S("option");for(let e=0;e<L.length;e+=1)L[e].c();v=C(),w=S("label"),w.textContent="Encoding",b=C(),$=S("textarea"),E=C(),Se(_.$$.fragment),Be(t,"style",o="color: "+Ep.text),Be(t,"class","svelte-4spuws"),r(t,Yg,82,4,3343),Be(s,"class","spread svelte-4spuws"),r(s,Yg,85,8,3427),Be(u,"class","spread svelte-4spuws"),r(u,Yg,86,8,3479),Be(p,"for","example"),R(p,"margin-right","12px"),r(p,Yg,90,12,3650),g.selected=!0,g.__value="",g.value=g.__value,r(g,Yg,92,16,3930),Be(m,"id","example"),Be(m,"style",y=`margin: 0; width: 200px; background-color: ${Ep.bgLight}; border-color: ${Ep.border}; color: ${Ep.text}`),void 0===e[1]&&ne(()=>e[10].call(m)),r(m,Yg,91,12,3729),Be(f,"class","spread row svelte-4spuws"),r(f,Yg,89,8,3613),Be(c,"class","row svelte-4spuws"),r(c,Yg,84,4,3401),Be(w,"for","encoding"),R(w,"display","none"),r(w,Yg,101,4,4179),Be($,"id","encoding"),Be($,"class","encoding svelte-4spuws"),Be($,"placeholder","MuseNet Encoding"),Be($,"style",x="border: 1px dotted "+Ep.border+"; background-color: "+Ep.bgLight+"; color: "+Ep.text),r($,Yg,102,4,4244)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,o,y){Ie(r,t,o),Me(t,n),Ie(r,i,o),Ie(r,c,o),Me(c,s),Me(c,l),Me(c,u),Ee(I,u,null),Me(c,d),Me(c,f),Me(f,p),Me(f,h),Me(f,m),Me(m,g);for(let e=0;e<L.length;e+=1)L[e].m(m,null);B(m,e[1]),Ie(r,v,o),Ie(r,w,o),Ie(r,b,o),Ie(r,$,o),P($,e[1]),Ie(r,E,o),Ee(_,r,o),O=!0,y&&a(M),M=[Re(m,"change",e[10]),Re($,"input",e[11]),Re($,"drop",A(e[12]),!1,!0,!1)]},p:function(e,[t]){const n={};if(131072&t&&(n.$$scope={dirty:t,ctx:e}),I.$set(n),0&t){let n;for(j=Object.entries(Wg),_e(j),n=0;n<j.length;n+=1){const r=Zg(e,j,n);L[n]?L[n].p(r,t):(L[n]=Jg(r),L[n].c(),L[n].m(m,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=j.length}2&t&&B(m,e[1]),2&t&&P($,e[1]);const r={};4&t&&(r.disabled=e[2]),131072&t&&(r.$$scope={dirty:t,ctx:e}),_.$set(r)},i:function(e){O||(he(I.$$.fragment,e),he(_.$$.fragment,e),O=!0)},o:function(e){me(I.$$.fragment,e),me(_.$$.fragment,e),O=!1},d:function(e){e&&Pe(t),e&&Pe(i),e&&Pe(c),Te(I),k(L,e),e&&Pe(v),e&&Pe(w),e&&Pe(b),e&&Pe($),e&&Pe(E),Te(_,e),a(M)}};return Ae("SvelteRegisterBlock",{block:N,id:Qg.name,type:"component",source:"",ctx:e}),N}function ey(t,n,r){let o,i=e,a=()=>(i(),i=u(s,e=>r(6,o=e)),s);t.$$.on_destroy.push(()=>i());const{close:c}=Y("simple-modal");let{importUnderStore:s}=n;l(s,"importUnderStore"),a();let d="";async function f(e){const t=await zg(e);r(1,d=di(t))}async function p(){c(),await Sm(w,v,s)}const h=["importUnderStore"];Hg.keys(n).forEach(e=>{~h.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ImportModal> was created with unknown prop '${e}'`)});let{$$slots:m={},$$scope:g}=n;Ne("ImportModal",m,[]);let y,v,w,b;return t.$set=e=>{"importUnderStore"in e&&a(r(0,s=e.importUnderStore))},t.$capture_state=()=>({getContext:Y,Button:ph,FileInput:dm,fromMidi:zg,encodingToArray:fi,encodingToString:di,root:ep,loadMidi:Sm,colorLookup:Ep,examples:Wg,close:c,importUnderStore:s,encoding:d,midiSelected:f,importEncoding:p,importUnderState:y,$importUnderStore:o,sectionEndsAt:v,encodingArray:w,encodingInvalid:b}),t.$inject_state=e=>{"importUnderStore"in e&&a(r(0,s=e.importUnderStore)),"encoding"in e&&r(1,d=e.encoding),"importUnderState"in e&&r(5,y=e.importUnderState),"sectionEndsAt"in e&&(v=e.sectionEndsAt),"encodingArray"in e&&r(8,w=e.encodingArray),"encodingInvalid"in e&&r(2,b=e.encodingInvalid)},n&&"$$inject"in n&&t.$inject_state(n.$$inject),t.$$.update=()=>{64&t.$$.dirty&&r(5,y=o),33&t.$$.dirty&&(v="root"===s.type?0:y.section.endsAt),2&t.$$.dirty&&r(8,w=fi(d.trim())),256&t.$$.dirty&&r(2,b=w.some(isNaN))},[s,d,b,f,p,y,o,v,w,c,function(){d=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),r(1,d)},function(){d=this.value,r(1,d)},e=>f(e.dataTransfer.files[0])]}class ty extends Ue{constructor(e){super(e),Oe(this,e,ey,Qg,s,{importUnderStore:0}),Ae("SvelteRegisterComponent",{component:this,tagName:"ImportModal",options:e,id:Qg.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"importUnderStore"in n||console.warn("<ImportModal> was created without expected prop 'importUnderStore'")}get importUnderStore(){throw new Error("<ImportModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set importUnderStore(e){throw new Error("<ImportModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}Su("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var ny=function(e,t){t=t||{};var n,r=e.numberOfChannels,o=e.sampleRate,i=t.float32?3:1,a=3===i?32:16;n=2===r?function(e,t){var n=e.length+t.length,r=new Float32Array(n),o=0,i=0;for(;o<n;)r[o++]=e[i],r[o++]=t[i],i++;return r}(e.getChannelData(0),e.getChannelData(1)):e.getChannelData(0);return function(e,t,n,r,o){var i=o/8,a=r*i,c=new ArrayBuffer(44+e.length*i),s=new DataView(c);ry(s,0,"RIFF"),s.setUint32(4,36+e.length*i,!0),ry(s,8,"WAVE"),ry(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,t,!0),s.setUint16(22,r,!0),s.setUint32(24,n,!0),s.setUint32(28,n*a,!0),s.setUint16(32,a,!0),s.setUint16(34,o,!0),ry(s,36,"data"),s.setUint32(40,e.length*i,!0),1===t?function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var o=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,o<0?32768*o:32767*o,!0)}}(s,44,e):function(e,t,n){for(var r=0;r<n.length;r++,t+=4)e.setFloat32(t,n[r],!0)}(s,44,e);return c}(n,i,o,r,a)};function ry(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}function oy(e,t,n){return iy.apply(this,arguments)}function iy(){return(iy=Ln(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=!1;case 1:if(o){e.next=6;break}return e.next=4,fetch("https://musenet.openai.com/audio",{method:"POST",body:JSON.stringify({audioFormat:n,encoding:di(t)}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.blob()})).then((function(e){return fm(e,"".concat(r,".").concat(n))})).then((function(){o=!0})).catch((function(){o=!1}));case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ay(e,t){return cy.apply(this,arguments)}function cy(){return(cy=Ln(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lp(t);case 2:r=e.sent,o=ny(r),i=new Uint8Array(o),fm(i,"".concat(n,".wav"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sy(e,t){return ly.apply(this,arguments)}function ly(){return(ly=Ln(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Gg(t),fm(r,"".concat(n,".mid"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const{console:uy}=be,dy="src/persistence/ExportModal.svelte";function fy(e){let t;const n={c:function(){t=T("Track")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:fy.name,type:"slot",source:'(118:4) <Button on:click=\\"{() => {fullTrack = true}}\\" emphasise={fullTrack}>',ctx:e}),n}function py(e){let t;const n={c:function(){t=T("Section")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:py.name,type:"slot",source:'(119:4) <Button on:click=\\"{() => {fullTrack = false}}\\" emphasise={!fullTrack}>',ctx:e}),n}function hy(e){let t;const n={c:function(){t=T("MuseTree (.wav)")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:hy.name,type:"slot",source:"(135:4) <Button on:click={() => downloadMuseTreeAudio($selectedSectionsStore, name)}>",ctx:e}),n}function my(e){let t;const n={c:function(){t=T("MuseNet (.wav)")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:my.name,type:"slot",source:'(140:8) <Button on:click={() => downloadMuseNetAudio($selectedEncodingStore, \\"wav\\", name)}>',ctx:e}),n}function gy(e){let t;const n={c:function(){t=T("MuseNet (.mp3)")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:gy.name,type:"slot",source:'(141:8) <Button on:click={() => downloadMuseNetAudio($selectedEncodingStore, \\"mp3\\", name)}>',ctx:e}),n}function yy(e){let t;const n={c:function(){t=T("MuseNet (.ogg)")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:yy.name,type:"slot",source:'(142:8) <Button on:click={() => downloadMuseNetAudio($selectedEncodingStore, \\"mp3\\", name)}>',ctx:e}),n}function vy(e){let t;const n={c:function(){t=T("Midi")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:vy.name,type:"slot",source:"(146:4) <Button on:click={() => downloadMidiAudio($selectedEncodingStore, name)}>",ctx:e}),n}function wy(e){let t;const n={c:function(){t=T("Encoding")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:wy.name,type:"slot",source:'(149:4) <Button on:click={() => download($selectedEncodingStore, name + \\".txt\\")}>',ctx:e}),n}function by(e){let t;const n={c:function(){t=T("Log")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:by.name,type:"slot",source:"(152:4) <Button on:click={() => console.log(JSON.stringify($selectedBranchStore.section.notes))}>",ctx:e}),n}function $y(e){let t,n,o,i,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,k,E,O,A,M,I,B,j,L,_,N,U,D,F,q,V,z,G,W,H,Y,Z,X,J,K,Q,ee,te,ne,re,oe,ie,ae,ce,se;const le=new ph({props:{emphasise:e[1],$$slots:{default:[fy]},$$scope:{ctx:e}},$$inline:!0});le.$on("click",e[18]);const ue=new ph({props:{emphasise:!e[1],$$slots:{default:[py]},$$scope:{ctx:e}},$$inline:!0});ue.$on("click",e[19]);const de=new ph({props:{$$slots:{default:[hy]},$$scope:{ctx:e}},$$inline:!0});de.$on("click",e[21]);const fe=new ph({props:{$$slots:{default:[my]},$$scope:{ctx:e}},$$inline:!0});fe.$on("click",e[22]);const pe=new ph({props:{$$slots:{default:[gy]},$$scope:{ctx:e}},$$inline:!0});pe.$on("click",e[23]);const ge=new ph({props:{$$slots:{default:[yy]},$$scope:{ctx:e}},$$inline:!0});ge.$on("click",e[24]);const ye=new ph({props:{$$slots:{default:[vy]},$$scope:{ctx:e}},$$inline:!0});ye.$on("click",e[25]);const ve=new ph({props:{$$slots:{default:[wy]},$$scope:{ctx:e}},$$inline:!0});ve.$on("click",e[26]);const we=new ph({props:{$$slots:{default:[by]},$$scope:{ctx:e}},$$inline:!0});we.$on("click",e[27]);const be={c:function(){t=S("h1"),n=T("Export"),i=C(),c=S("div"),s=S("label"),s.textContent="File name:",l=C(),u=S("input"),f=C(),p=S("label"),h=T("Encoding:\n        "),m=S("span"),g=T("Export the whole track up until that point, or just the one section you clicked?"),y=C(),Se(le.$$.fragment),v=C(),Se(ue.$$.fragment),w=C(),b=S("label"),b.textContent="Encoding",$=C(),x=S("div"),k=S("textarea"),O=C(),A=S("div"),M=T("Click to copy"),B=C(),j=S("h2"),L=T("Export as:"),N=C(),U=S("div"),D=S("span"),F=S("b"),q=T("Recommended:"),z=T(" Audio as it sounds elsewhere in the app"),G=C(),Se(de.$$.fragment),W=C(),H=S("span"),H.textContent="Request the audio from MuseNet - as it would sound in the official MuseNet tool. Less synth-y than the MuseTree export, but it can take a minute to respond",Y=C(),Z=S("div"),Se(fe.$$.fragment),X=C(),Se(pe.$$.fragment),J=C(),Se(ge.$$.fragment),K=C(),Q=S("span"),Q.textContent="Midi file for editing in other software:",ee=C(),Se(ye.$$.fragment),te=C(),ne=S("span"),ne.textContent="Text file containing the encoding as seen in the box above:",re=C(),Se(ve.$$.fragment),oe=C(),ie=S("span"),ie.textContent="Log info about the current track to the browser console for debugging",ae=C(),Se(we.$$.fragment),Be(t,"style",o="color: "+Ep.text),Be(t,"class","svelte-15pz69g"),r(t,dy,104,0,4444),Be(s,"for","exportName"),r(s,dy,107,4,4594),Be(u,"id","exportName"),Be(u,"type","text"),Be(u,"style",d="margin-left: 12px; margin-bottom: 0; border: 1px dotted "+Ep.border+"; background-color: "+Ep.bgLight+"; color: "+Ep.text),r(u,dy,108,4,4641),Be(m,"class","TT_text svelte-15pz69g"),Be(m,"style",e[10]),r(m,dy,113,8,4959),Be(p,"class","TT_trigger svelte-15pz69g"),R(p,"margin-left","12px"),r(p,dy,111,4,4880),R(c,"display","flex"),R(c,"flex-direction","row"),R(c,"align-items","center"),R(c,"margin-bottom","12px"),r(c,dy,106,0,4499),Be(b,"for","encoding"),R(b,"display","none"),r(b,dy,121,0,5312),Be(k,"id","encoding"),Be(k,"class","encoding svelte-15pz69g"),k.readOnly=!0,Be(k,"style",E="border: 1px dotted "+Ep.border+"; background-color: "+Ep.bgLight+"; color: "+Ep.text),k.value=e[5],r(k,dy,123,4,5404),Be(A,"class","copy svelte-15pz69g"),Be(A,"style",I="color: "+Ep.text+"; background-color: "+Ep.bgDark+"99"),r(A,dy,125,4,5650),Be(x,"class","copy_trigger svelte-15pz69g"),r(x,dy,122,0,5373),Be(j,"style",_="color: "+Ep.text),Be(j,"class","svelte-15pz69g"),r(j,dy,130,0,5816),Be(F,"style",V="color: "+Ep.text),r(F,dy,133,10,5903),r(D,dy,133,4,5897),r(H,dy,137,4,6123),R(Z,"display","flex"),R(Z,"flex-direction","column"),r(Z,dy,138,4,6296),r(Q,dy,144,4,6709),r(ne,dy,147,4,6859),r(ie,dy,150,4,7032),Be(U,"class","grid svelte-15pz69g"),r(U,dy,132,0,5874)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,o,d){Ie(r,t,o),Me(t,n),Ie(r,i,o),Ie(r,c,o),Me(c,s),Me(c,l),Me(c,u),P(u,e[2]),Me(c,f),Me(c,p),Me(p,h),Me(p,m),Me(m,g),Me(c,y),Ee(le,c,null),Me(c,v),Ee(ue,c,null),Ie(r,w,o),Ie(r,b,o),Ie(r,$,o),Ie(r,x,o),Me(x,k),e[20](k),Me(x,O),Me(x,A),Me(A,M),Ie(r,B,o),Ie(r,j,o),Me(j,L),Ie(r,N,o),Ie(r,U,o),Me(U,D),Me(D,F),Me(F,q),Me(D,z),Me(U,G),Ee(de,U,null),Me(U,W),Me(U,H),Me(U,Y),Me(U,Z),Ee(fe,Z,null),Me(Z,X),Ee(pe,Z,null),Me(Z,J),Ee(ge,Z,null),Me(U,K),Me(U,Q),Me(U,ee),Ee(ye,U,null),Me(U,te),Me(U,ne),Me(U,re),Ee(ve,U,null),Me(U,oe),Me(U,ie),Me(U,ae),Ee(we,U,null),ce=!0,d&&a(se),se=[Re(u,"input",e[17]),Re(A,"click",e[9],!1,!1,!1)]},p:function(e,[t]){4&t&&u.value!==e[2]&&P(u,e[2]);const n={};2&t&&(n.emphasise=e[1]),268435456&t&&(n.$$scope={dirty:t,ctx:e}),le.$set(n);const r={};2&t&&(r.emphasise=!e[1]),268435456&t&&(r.$$scope={dirty:t,ctx:e}),ue.$set(r),(!ce||32&t)&&je(k,"value",e[5]);const o={};268435456&t&&(o.$$scope={dirty:t,ctx:e}),de.$set(o);const i={};268435456&t&&(i.$$scope={dirty:t,ctx:e}),fe.$set(i);const a={};268435456&t&&(a.$$scope={dirty:t,ctx:e}),pe.$set(a);const c={};268435456&t&&(c.$$scope={dirty:t,ctx:e}),ge.$set(c);const s={};268435456&t&&(s.$$scope={dirty:t,ctx:e}),ye.$set(s);const l={};268435456&t&&(l.$$scope={dirty:t,ctx:e}),ve.$set(l);const d={};268435456&t&&(d.$$scope={dirty:t,ctx:e}),we.$set(d)},i:function(e){ce||(he(le.$$.fragment,e),he(ue.$$.fragment,e),he(de.$$.fragment,e),he(fe.$$.fragment,e),he(pe.$$.fragment,e),he(ge.$$.fragment,e),he(ye.$$.fragment,e),he(ve.$$.fragment,e),he(we.$$.fragment,e),ce=!0)},o:function(e){me(le.$$.fragment,e),me(ue.$$.fragment,e),me(de.$$.fragment,e),me(fe.$$.fragment,e),me(pe.$$.fragment,e),me(ge.$$.fragment,e),me(ye.$$.fragment,e),me(ve.$$.fragment,e),me(we.$$.fragment,e),ce=!1},d:function(n){n&&Pe(t),n&&Pe(i),n&&Pe(c),Te(le),Te(ue),n&&Pe(w),n&&Pe(b),n&&Pe($),n&&Pe(x),e[20](null),n&&Pe(B),n&&Pe(j),n&&Pe(N),n&&Pe(U),Te(de),Te(fe),Te(pe),Te(ge),Te(ye),Te(ve),Te(we),a(se)}};return Ae("SvelteRegisterBlock",{block:be,id:$y.name,type:"component",source:"",ctx:e}),be}function xy(t,n,r){let o,i,a,c,s=e,d=()=>(s(),s=u(m,e=>r(12,o=e)),m),p=e,h=()=>(p(),p=u(C,e=>r(6,i=e)),C);l(op,"selectedEncodingStore"),f(t,op,e=>r(7,a=e)),l(rp,"selectedBranchStore"),f(t,rp,e=>r(8,c=e)),t.$$.on_destroy.push(()=>s()),t.$$.on_destroy.push(()=>p());let{store:m}=n;l(m,"store"),d();let g,y=!0,v="MuseTreeExport";function w(){g.select(),document.execCommand("copy"),g.setSelectionRange(0,0)}const b="border: 1px solid "+Ep.border+"; background-color: "+Ep.bgLight+"; color: "+Ep.textDark,$=["store"];Object.keys(n).forEach(e=>{~$.indexOf(e)||"$$"===e.slice(0,2)||uy.warn(`<ExportModal> was created with unknown prop '${e}'`)});let{$$slots:x={},$$scope:k}=n;Ne("ExportModal",x,[]);let S,E,T,C,O,A,M;return t.$set=e=>{"store"in e&&d(r(0,m=e.store))},t.$capture_state=()=>({selectedEncodingStore:op,selectedBranchStore:rp,downloadMuseTreeAudio:ay,downloadMuseNetAudio:oy,downloadMidiAudio:sy,colorLookup:Ep,download:fm,Button:ph,encodingToString:di,root:ep,store:m,fullTrack:y,name:v,encodingArea:g,copy:w,tt_text_style:b,state:S,$store:o,trackEncoding:E,sectionEncoding:T,selectedSectionsStore:C,trackEncodingString:O,sectionEncodingString:A,encoding:M,$selectedSectionsStore:i,$selectedEncodingStore:a,$selectedBranchStore:c}),t.$inject_state=e=>{"store"in e&&d(r(0,m=e.store)),"fullTrack"in e&&r(1,y=e.fullTrack),"name"in e&&r(2,v=e.name),"encodingArea"in e&&r(3,g=e.encodingArea),"state"in e&&r(11,S=e.state),"trackEncoding"in e&&r(13,E=e.trackEncoding),"sectionEncoding"in e&&r(14,T=e.sectionEncoding),"selectedSectionsStore"in e&&h(r(4,C=e.selectedSectionsStore)),"trackEncodingString"in e&&r(15,O=e.trackEncodingString),"sectionEncodingString"in e&&r(16,A=e.sectionEncodingString),"encoding"in e&&r(5,M=e.encoding)},n&&"$$inject"in n&&t.$inject_state(n.$$inject),t.$$.update=()=>{4096&t.$$.dirty&&r(11,S=o),2048&t.$$.dirty&&r(13,E=S.encoding),2048&t.$$.dirty&&r(14,T=S.section.encoding),8192&t.$$.dirty&&r(15,O=di(E)),16384&t.$$.dirty&&r(16,A=di(T)),98306&t.$$.dirty&&r(5,M=y?O:A)},h(r(4,C=ep.selectedSectionsStore)),[m,y,v,g,C,M,i,a,c,w,b,S,o,E,T,O,A,function(){v=this.value,r(2,v)},()=>{r(1,y=!0)},()=>{r(1,y=!1)},function(e){J[e?"unshift":"push"](()=>{r(3,g=e)})},()=>ay(i,v),()=>oy(a,"wav",v),()=>oy(a,"mp3",v),()=>oy(a,"mp3",v),()=>sy(a,v),()=>fm(a,v+".txt"),()=>console.log(JSON.stringify(c.section.notes))]}class ky extends Ue{constructor(e){super(e),Oe(this,e,xy,$y,s,{store:0}),Ae("SvelteRegisterComponent",{component:this,tagName:"ExportModal",options:e,id:$y.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"store"in n||uy.warn("<ExportModal> was created without expected prop 'store'")}get store(){throw new Error("<ExportModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set store(e){throw new Error("<ExportModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Sy=tr(null);const{Object:Ey}=be,Ty="src/treeVis/TreeVisBranch.svelte";function Cy(e,t,n){const r=e.slice();return r[59]=t[n][0],r[60]=t[n][1],r}function Oy(e){let t,n,o,i;const a={c:function(){t=S("p"),n=T("+"),o=T(e[9]),Be(t,"class","pendingLoad svelte-cc61ya"),Be(t,"style",i="color: "+Ep.textDark+"; background-color: "+Ep.bgDark+"; border: 2px solid "+Ep.border),r(t,Ty,246,8,9350)},m:function(e,r){Ie(e,t,r),Me(t,n),Me(t,o)},p:function(e,t){512&t[0]&&Le(o,e[9])},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:a,id:Oy.name,type:"if",source:"(246:4) {#if pendingLoad > 0}",ctx:e}),a}function Ay(e){let t,n,r=[],o=new Map,i=e[17];_e(i);const a=e=>e[59];ke(e,i,Cy,a);for(let t=0;t<i.length;t+=1){let n=Cy(e,i,t),c=a(n);o.set(c,r[t]=My(c,n))}const c={c:function(){for(let e=0;e<r.length;e+=1)r[e].c();t=O()},m:function(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);Ie(e,t,o),n=!0},p:function(e,n){if(164910&n[0]){const i=e[17];_e(i),fe(),ke(e,i,Cy,a),r=xe(r,n,a,1,e,i,o,t.parentNode,$e,My,t,Cy),pe()}},i:function(e){if(!n){for(let e=0;e<i.length;e+=1)he(r[e]);n=!0}},o:function(e){for(let e=0;e<r.length;e+=1)me(r[e]);n=!1},d:function(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:c,id:Ay.name,type:"if",source:"(252:0) {#if childPlacements.length > 0}",ctx:e}),c}function My(e,t){let n,r;const o=new Ry({props:{parentStore:t[1],branchStore:t[10][t[59]],depth:t[2]+1,offset:t[15]+t[60],parentOffset:t[3],treeContainer:t[5]},$$inline:!0}),i={key:e,first:null,c:function(){n=O(),Se(o.$$.fragment),this.first=n},m:function(e,t){Ie(e,n,t),Ee(o,e,t),r=!0},p:function(e,t){const n={};2&t[0]&&(n.parentStore=e[1]),132096&t[0]&&(n.branchStore=e[10][e[59]]),4&t[0]&&(n.depth=e[2]+1),163840&t[0]&&(n.offset=e[15]+e[60]),8&t[0]&&(n.parentOffset=e[3]),32&t[0]&&(n.treeContainer=e[5]),o.$set(n)},i:function(e){r||(he(o.$$.fragment,e),r=!0)},o:function(e){me(o.$$.fragment,e),r=!1},d:function(e){e&&Pe(n),Te(o,e)}};return Ae("SvelteRegisterBlock",{block:i,id:My.name,type:"each",source:"(253:4) {#each childPlacements as [idx, placement] (idx)}",ctx:t}),i}function Iy(e){let t,n,o,i,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,k,O,M,I,P,R,B,j=e[9]>0&&Oy(e),L=e[17].length>0&&Ay(e);const _={c:function(){t=S("div"),n=S("div"),o=S("span"),i=T(e[8]),l=C(),j&&j.c(),d=C(),L&&L.c(),f=C(),p=E("svg"),h=E("linearGradient"),m=E("stop"),y=E("stop"),b=E("stop"),k=E("path"),Be(o,"class","label svelte-cc61ya"),r(o,Ty,241,8,9243),Be(n,"class","node svelte-cc61ya"),Be(n,"style",c="background-color: "+e[11]),Be(n,"tabindex",s=0),r(n,Ty,230,4,8885),Be(t,"class","placement svelte-cc61ya"),Be(t,"style",u="top: "+150*e[2]+"px; left: "+(60*e[3]-25)+"px"),r(t,Ty,229,0,8787),Be(m,"offset","0%"),Be(m,"stop-color",g=Ep.edgePlaying),r(m,Ty,259,8,10188),Be(y,"offset",v=e[13]+"%"),Be(y,"stop-color",w=Ep.edgePlaying),r(y,Ty,260,8,10255),Be(b,"offset",$=e[13]+"%"),Be(b,"stop-color",e[12]),r(b,Ty,261,8,10338),Be(h,"id",x=`linear${e[2]},${e[3]}`),Be(h,"gradientUnits","userSpaceOnUse"),Be(h,"x1","0%"),Be(h,"y1","0%"),Be(h,"x2","100%"),Be(h,"y2","100%"),r(h,Ty,258,4,10039),Be(k,"d",O=`m 30 0 c 0 ${e[19]} ${2*e[18]} ${e[19]} ${2*e[18]} ${2*e[19]}`),Be(k,"stroke",M=`url(#linear${e[2]},${e[3]})`),Be(k,"stroke-width","2px"),Be(k,"fill","none"),Be(k,"class","svelte-cc61ya"),r(k,Ty,263,4,10423),Be(p,"class","line svelte-cc61ya"),Be(p,"width",e[20]),Be(p,"height",I=2*e[19]),Be(p,"style",P=`left: ${e[21]}px; top: ${(e[2]-1)*e[19]*2+25}px;${e[3]<e[4]?"transform: scaleX(-1)":""}`),r(p,Ty,256,0,9856)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,c,s){Ie(r,t,c),Me(t,n),Me(n,o),Me(o,i),e[57](n),Me(t,l),j&&j.m(t,null),Ie(r,d,c),L&&L.m(r,c),Ie(r,f,c),Ie(r,p,c),Me(p,h),Me(h,m),Me(h,y),Me(h,b),e[58](h),Me(p,k),R=!0,s&&a(B),B=[Re(n,"mousedown",e[22],!1,!1,!1),Re(n,"contextmenu",A(e[23]),!1,!0,!1),Re(n,"mouseenter",e[24],!1,!1,!1),Re(n,"mouseleave",e[25],!1,!1,!1),Re(n,"keypress",e[26],!1,!1,!1)]},p:function(e,r){(!R||256&r[0])&&Le(i,e[8]),(!R||2048&r[0]&&c!==(c="background-color: "+e[11]))&&Be(n,"style",c),e[9]>0?j?j.p(e,r):(j=Oy(e),j.c(),j.m(t,null)):j&&(j.d(1),j=null),(!R||12&r[0]&&u!==(u="top: "+150*e[2]+"px; left: "+(60*e[3]-25)+"px"))&&Be(t,"style",u),e[17].length>0?L?(L.p(e,r),131072&r[0]&&he(L,1)):(L=Ay(e),L.c(),he(L,1),L.m(f.parentNode,f)):L&&(fe(),me(L,1,1,()=>{L=null}),pe()),(!R||8192&r[0]&&v!==(v=e[13]+"%"))&&Be(y,"offset",v),(!R||8192&r[0]&&$!==($=e[13]+"%"))&&Be(b,"offset",$),(!R||4096&r[0])&&Be(b,"stop-color",e[12]),(!R||12&r[0]&&x!==(x=`linear${e[2]},${e[3]}`))&&Be(h,"id",x),(!R||786432&r[0]&&O!==(O=`m 30 0 c 0 ${e[19]} ${2*e[18]} ${e[19]} ${2*e[18]} ${2*e[19]}`))&&Be(k,"d",O),(!R||12&r[0]&&M!==(M=`url(#linear${e[2]},${e[3]})`))&&Be(k,"stroke",M),(!R||1048576&r[0])&&Be(p,"width",e[20]),(!R||524288&r[0]&&I!==(I=2*e[19]))&&Be(p,"height",I),(!R||2621468&r[0]&&P!==(P=`left: ${e[21]}px; top: ${(e[2]-1)*e[19]*2+25}px;${e[3]<e[4]?"transform: scaleX(-1)":""}`))&&Be(p,"style",P)},i:function(e){R||(he(L),R=!0)},o:function(e){me(L),R=!1},d:function(n){n&&Pe(t),e[57](null),j&&j.d(),n&&Pe(d),L&&L.d(n),n&&Pe(f),n&&Pe(p),e[58](null),a(B)}};return Ae("SvelteRegisterBlock",{block:_,id:Iy.name,type:"component",source:"",ctx:e}),_}function Py(t,n,r){let o,i,a,c,s,p,h=e,m=()=>(h(),h=u(k,e=>r(33,o=e)),k),g=e,y=()=>(g(),g=u(x,e=>r(43,i=e)),x),v=e,w=()=>(v(),v=u(pe,e=>r(45,a=e)),pe),b=e,$=()=>(b(),b=u(ge,e=>r(46,c=e)),ge);l(Sy,"contextModalStore"),f(t,Sy,e=>r(48,s=e)),l(xr,"configStore"),f(t,xr,e=>r(49,p=e)),t.$$.on_destroy.push(()=>h()),t.$$.on_destroy.push(()=>g()),t.$$.on_destroy.push(()=>v()),t.$$.on_destroy.push(()=>b());let{parentStore:x}=n;l(x,"parentStore"),y();let{branchStore:k}=n;l(k,"branchStore"),m();let{depth:S}=n,{offset:E}=n,{parentOffset:T}=n,{treeContainer:C}=n;function O(e){0===e.button&&ep.select(K)}function A({clientX:e,clientY:t}){Sy.set({coordinates:[e,t],stores:{type:"branch",parentStore:x,nodeStore:k}})}let M,I=!1,P=!1,R=0;function B(){M&&M.focus()}function j(){null===s&&C.focus()}const{open:L}=Y("simple-modal");function _(){Uf(p,k,X)}function N(){x.deleteChildWithUndo(K[K.length-1])}function U(){L(ty,{importUnderStore:k},Tp)}function D(){L(ky,{store:k},Tp)}function F(e){return"r"===e.key?_():"a"===e.key?U():"s"===e.key?D():"d"===e.key?N():void 0}function q(e,{offset:t}){return{delay:Math.max(0,1e3*(ne-t)),duration:0,tick:e=>{r(28,P=0!==e)}}}function V(e,{offset:t}){const n=d(x),o=n.section.startsAt,i=n.section.endsAt,a=Math.max(0,1e3*(o-t)),c=1e3*(i-Math.max(o,t)),s=Math.max(0,t-o),l=1-s;return{delay:a,duration:c,tick:e=>{r(29,R=100*(s+l*e))}}}let G,W,H;z(()=>{fp.subscribe(e=>{W&&W.end(),H&&H.end(),r(27,I=!1),r(28,P=!1),ce&&"on"===e.type&&(r(27,I=!0),r(29,R=0),W=ye(M,q,e),W.start(),"branch"===x.type&&(H=ye(G,V,e),H.start()))})});const Z=["parentStore","branchStore","depth","offset","parentOffset","treeContainer"];Ey.keys(n).forEach(e=>{~Z.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<TreeVisBranch> was created with unknown prop '${e}'`)});let X,K,Q,ee,te,ne,re,oe,ie,ae,ce,se,le,ue,de,fe,pe,he,me,ge,we,be,$e,xe,ke,Se,{$$slots:Ee={},$$scope:Te}=n;return Ne("TreeVisBranch",Ee,[]),t.$set=e=>{"parentStore"in e&&y(r(0,x=e.parentStore)),"branchStore"in e&&m(r(1,k=e.branchStore)),"depth"in e&&r(2,S=e.depth),"offset"in e&&r(3,E=e.offset),"parentOffset"in e&&r(4,T=e.parentOffset),"treeContainer"in e&&r(5,C=e.treeContainer)},t.$capture_state=()=>({root:ep,configStore:xr,request:Uf,colorLookup:Ep,modalOptions:Tp,ImportModal:ty,ExportModal:ky,getContext:Y,onMount:z,Button:ph,contextModalStore:Sy,audioStatusStore:fp,create_in_transition:ye,create_out_transition:ve,get_store_value:d,parentStore:x,branchStore:k,depth:S,offset:E,parentOffset:T,treeContainer:C,leftClick:O,rightClick:A,trackPlaying:I,sectionPlaying:P,edgeProgress:R,node:M,focusNode:B,unfocusNode:j,open:L,loadMore:_,deleteBranch:N,openImportModal:U,openExportModal:D,keyPressed:F,createNodeTransition:q,createEdgeTransition:V,edgeGradient:G,nodeTransition:W,edgeTransition:H,branchState:X,$branchStore:o,path:K,childIndex:Q,pendingLoad:ee,section:te,startsAt:ne,endsAt:re,duration:oe,childStores:ie,children:ae,onSelectedPath:ce,selectedByParent:se,wasLastSelected:le,nodeColor:ue,$parentStore:i,edgeColor:de,edgePercentage:fe,numberOfLeavesStore:pe,numberOfLeaves:he,$numberOfLeavesStore:a,placementOffset:me,placementStore:ge,childPlacements:we,$placementStore:c,offsetWidth:be,cw:$e,ch:xe,lineWidth:ke,lineLeft:Se,$contextModalStore:s,$configStore:p}),t.$inject_state=e=>{"parentStore"in e&&y(r(0,x=e.parentStore)),"branchStore"in e&&m(r(1,k=e.branchStore)),"depth"in e&&r(2,S=e.depth),"offset"in e&&r(3,E=e.offset),"parentOffset"in e&&r(4,T=e.parentOffset),"treeContainer"in e&&r(5,C=e.treeContainer),"trackPlaying"in e&&r(27,I=e.trackPlaying),"sectionPlaying"in e&&r(28,P=e.sectionPlaying),"edgeProgress"in e&&r(29,R=e.edgeProgress),"node"in e&&r(6,M=e.node),"edgeGradient"in e&&r(7,G=e.edgeGradient),"nodeTransition"in e&&(W=e.nodeTransition),"edgeTransition"in e&&(H=e.edgeTransition),"branchState"in e&&r(32,X=e.branchState),"path"in e&&r(34,K=e.path),"childIndex"in e&&r(8,Q=e.childIndex),"pendingLoad"in e&&r(9,ee=e.pendingLoad),"section"in e&&r(35,te=e.section),"startsAt"in e&&r(36,ne=e.startsAt),"endsAt"in e&&r(37,re=e.endsAt),"duration"in e&&(oe=e.duration),"childStores"in e&&r(10,ie=e.childStores),"children"in e&&(ae=e.children),"onSelectedPath"in e&&r(40,ce=e.onSelectedPath),"selectedByParent"in e&&r(41,se=e.selectedByParent),"wasLastSelected"in e&&r(42,le=e.wasLastSelected),"nodeColor"in e&&r(11,ue=e.nodeColor),"edgeColor"in e&&r(12,de=e.edgeColor),"edgePercentage"in e&&r(13,fe=e.edgePercentage),"numberOfLeavesStore"in e&&w(r(14,pe=e.numberOfLeavesStore)),"numberOfLeaves"in e&&r(44,he=e.numberOfLeaves),"placementOffset"in e&&r(15,me=e.placementOffset),"placementStore"in e&&$(r(16,ge=e.placementStore)),"childPlacements"in e&&r(17,we=e.childPlacements),"offsetWidth"in e&&r(47,be=e.offsetWidth),"cw"in e&&r(18,$e=e.cw),"ch"in e&&r(19,xe=e.ch),"lineWidth"in e&&r(20,ke=e.lineWidth),"lineLeft"in e&&r(21,Se=e.lineLeft)},n&&"$$inject"in n&&t.$inject_state(n.$$inject),t.$$.update=()=>{4&t.$$.dirty[1]&&r(32,X=o),2&t.$$.dirty[1]&&r(34,K=X.path),8&t.$$.dirty[1]&&r(8,Q=K[K.length-1]),2&t.$$.dirty[1]&&r(9,ee=X.pendingLoad),2&t.$$.dirty[1]&&r(35,te=X.section),16&t.$$.dirty[1]&&r(36,ne=te.startsAt),16&t.$$.dirty[1]&&r(37,re=te.endsAt),96&t.$$.dirty[1]&&(oe=re-ne),2&t.$$.dirty[1]&&r(10,ie=X.children),1024&t.$$.dirty[0]&&(ae=Object.entries(ie)),2&t.$$.dirty[1]&&r(40,ce=X.onSelectedPath),2&t.$$.dirty[1]&&r(41,se=X.selectedByParent),2&t.$$.dirty[1]&&r(42,le=X.wasLastSelectedByParent),268435456&t.$$.dirty[0]|7680&t.$$.dirty[1]&&r(11,ue=ce?P?Ep.nodePlaying:Ep.nodeActive:se||le&&i.onSelectedPath?Ep.nodeWarm:Ep.nodeInactive),268435456&t.$$.dirty[0]|7680&t.$$.dirty[1]&&r(12,de=ce?P?Ep.edgePlaying:Ep.edgeActive:se||le&&i.onSelectedPath?Ep.edgeWarm:Ep.edgeInactive),939524096&t.$$.dirty[0]&&r(13,fe=P?100:I?R:0),2&t.$$.dirty[0]&&w(r(14,pe=k.numberOfLeavesStore)),16384&t.$$.dirty[1]&&r(44,he=a),8&t.$$.dirty[0]|8192&t.$$.dirty[1]&&r(15,me=E+-he/2),2&t.$$.dirty[0]&&$(r(16,ge=k.placementStore)),32768&t.$$.dirty[1]&&r(17,we=c),24&t.$$.dirty[0]&&r(47,be=Math.abs(T-E)),65536&t.$$.dirty[1]&&r(18,$e=30*be),65536&t.$$.dirty[1]&&r(20,ke=60*(be+1)),24&t.$$.dirty[0]&&r(21,Se=60*Math.min(E,T)-30)},r(19,xe=75),[x,k,S,E,T,C,M,G,Q,ee,ie,ue,de,fe,pe,me,ge,we,$e,xe,ke,Se,O,A,B,j,F,I,P,R,W,H,X,o,K,te,ne,re,oe,ae,ce,se,le,i,he,a,c,be,s,p,L,_,N,U,D,q,V,function(e){J[e?"unshift":"push"](()=>{r(6,M=e)})},function(e){J[e?"unshift":"push"](()=>{r(7,G=e)})}]}class Ry extends Ue{constructor(e){super(e),Oe(this,e,Py,Iy,s,{parentStore:0,branchStore:1,depth:2,offset:3,parentOffset:4,treeContainer:5},[-1,-1,-1]),Ae("SvelteRegisterComponent",{component:this,tagName:"TreeVisBranch",options:e,id:Iy.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"parentStore"in n||console.warn("<TreeVisBranch> was created without expected prop 'parentStore'"),void 0!==t[1]||"branchStore"in n||console.warn("<TreeVisBranch> was created without expected prop 'branchStore'"),void 0!==t[2]||"depth"in n||console.warn("<TreeVisBranch> was created without expected prop 'depth'"),void 0!==t[3]||"offset"in n||console.warn("<TreeVisBranch> was created without expected prop 'offset'"),void 0!==t[4]||"parentOffset"in n||console.warn("<TreeVisBranch> was created without expected prop 'parentOffset'"),void 0!==t[5]||"treeContainer"in n||console.warn("<TreeVisBranch> was created without expected prop 'treeContainer'")}get parentStore(){throw new Error("<TreeVisBranch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set parentStore(e){throw new Error("<TreeVisBranch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get branchStore(){throw new Error("<TreeVisBranch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set branchStore(e){throw new Error("<TreeVisBranch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get depth(){throw new Error("<TreeVisBranch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(e){throw new Error("<TreeVisBranch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get offset(){throw new Error("<TreeVisBranch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set offset(e){throw new Error("<TreeVisBranch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get parentOffset(){throw new Error("<TreeVisBranch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set parentOffset(e){throw new Error("<TreeVisBranch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get treeContainer(){throw new Error("<TreeVisBranch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set treeContainer(e){throw new Error("<TreeVisBranch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Object:By}=be,jy="src/treeVis/DeleteConfirmationModal.svelte";function Ly(e){let t;const n={c:function(){t=T("Cancel")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Ly.name,type:"slot",source:"(34:8) <Button on:click={close}>",ctx:e}),n}function _y(e){let t;const n={c:function(){t=T("I'm Sure!")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:_y.name,type:"slot",source:"(35:8) <Button on:click={deleteEverything}>",ctx:e}),n}function Ny(e){let t,n,o,i,a,c,s,l,u,d,f,p;const h=new ph({props:{$$slots:{default:[Ly]},$$scope:{ctx:e}},$$inline:!0});h.$on("click",e[1]);const m=new ph({props:{$$slots:{default:[_y]},$$scope:{ctx:e}},$$inline:!0});m.$on("click",e[0]);const g={c:function(){t=S("div"),n=S("h1"),o=T("Warning!"),a=C(),c=S("span"),c.textContent="You are about to delete everything. This cannot be undone!",s=C(),l=S("span"),l.textContent="Are you sure?",u=C(),d=S("div"),Se(h.$$.fragment),f=C(),Se(m.$$.fragment),Be(n,"style",i="color: "+Ep.text),Be(n,"class","svelte-7u2ww"),r(n,jy,28,4,1026),r(c,jy,29,4,1085),R(l,"margin","8px"),r(l,jy,30,4,1161),R(d,"display","flex"),R(d,"flex-direction","row"),R(d,"justify-content","space-around"),r(d,jy,32,4,1213),R(t,"display","flex"),R(t,"flex-direction","column"),R(t,"align-items","center"),r(t,jy,27,0,949)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ie(e,t,r),Me(t,n),Me(n,o),Me(t,a),Me(t,c),Me(t,s),Me(t,l),Me(t,u),Me(t,d),Ee(h,d,null),Me(d,f),Ee(m,d,null),p=!0},p:function(e,[t]){const n={};64&t&&(n.$$scope={dirty:t,ctx:e}),h.$set(n);const r={};64&t&&(r.$$scope={dirty:t,ctx:e}),m.$set(r)},i:function(e){p||(he(h.$$.fragment,e),he(m.$$.fragment,e),p=!0)},o:function(e){me(h.$$.fragment,e),me(m.$$.fragment,e),p=!1},d:function(e){e&&Pe(t),Te(h),Te(m)}};return Ae("SvelteRegisterBlock",{block:g,id:Ny.name,type:"component",source:"",ctx:e}),g}function Uy(e,t,n){let r;function o(){u.map(e=>e[0]).forEach(ep.deleteChild),Zf.clear(),i()}l(ep,"root"),f(e,ep,e=>n(3,r=e));const{close:i}=Y("simple-modal"),a=[];By.keys(t).forEach(e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<DeleteConfirmationModal> was created with unknown prop '${e}'`)});let c,s,u,{$$slots:d={},$$scope:p}=t;return Ne("DeleteConfirmationModal",d,[]),e.$capture_state=()=>({Button:ph,root:ep,undoStore:Zf,getContext:Y,colorLookup:Ep,deleteEverything:o,close:i,rootState:c,$root:r,childrenMap:s,children:u}),e.$inject_state=e=>{"rootState"in e&&n(2,c=e.rootState),"childrenMap"in e&&n(4,s=e.childrenMap),"children"in e&&(u=e.children)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{8&e.$$.dirty&&n(2,c=r),4&e.$$.dirty&&n(4,s=c.children),16&e.$$.dirty&&(u=Object.entries(s))},[o,i]}class Dy extends Ue{constructor(e){super(e),Oe(this,e,Uy,Ny,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"DeleteConfirmationModal",options:e,id:Ny.name})}}const Fy="src/treeVis/TreeVisRoot.svelte";function qy(e,t,n){const r=e.slice();return r[26]=t[n][0],r[27]=t[n][1],r}function Vy(e){let t,n,r=[],o=new Map,i=e[7];_e(i);const a=e=>e[26];ke(e,i,qy,a);for(let t=0;t<i.length;t+=1){let n=qy(e,i,t),c=a(n);o.set(c,r[t]=zy(c,n))}const c={c:function(){for(let e=0;e<r.length;e+=1)r[e].c();t=O()},m:function(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);Ie(e,t,o),n=!0},p:function(e,n){if(169&n){const i=e[7];_e(i),fe(),ke(e,i,qy,a),r=xe(r,n,a,1,e,i,o,t.parentNode,$e,zy,t,qy),pe()}},i:function(e){if(!n){for(let e=0;e<i.length;e+=1)he(r[e]);n=!0}},o:function(e){for(let e=0;e<r.length;e+=1)me(r[e]);n=!1},d:function(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:c,id:Vy.name,type:"if",source:"(124:0) {#if childPlacements.length > 0}",ctx:e}),c}function zy(e,t){let n,r;const o=new Ry({props:{parentStore:ep,branchStore:t[3][t[26]],depth:1,offset:t[5]+t[27],parentOffset:0,treeContainer:t[0]},$$inline:!0}),i={key:e,first:null,c:function(){n=O(),Se(o.$$.fragment),this.first=n},m:function(e,t){Ie(e,n,t),Ee(o,e,t),r=!0},p:function(e,t){const n={};136&t&&(n.branchStore=e[3][e[26]]),160&t&&(n.offset=e[5]+e[27]),1&t&&(n.treeContainer=e[0]),o.$set(n)},i:function(e){r||(he(o.$$.fragment,e),r=!0)},o:function(e){me(o.$$.fragment,e),r=!1},d:function(e){e&&Pe(n),Te(o,e)}};return Ae("SvelteRegisterBlock",{block:i,id:zy.name,type:"each",source:"(125:4) {#each childPlacements as [idx, placement] (idx)}",ctx:t}),i}function Gy(e){let t,n,o,i;const a={c:function(){t=S("p"),n=T("+"),o=T(e[2]),Be(t,"class","pendingLoad svelte-1vml1m"),Be(t,"style",i="color: "+Ep.textDark+"; background-color: "+Ep.bgDark+"; border: 2px solid "+Ep.border),r(t,Fy,145,8,5580)},m:function(e,r){Ie(e,t,r),Me(t,n),Me(t,o)},p:function(e,t){4&t&&Le(o,e[2])},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:a,id:Gy.name,type:"if",source:"(145:4) {#if pendingLoad > 0}",ctx:e}),a}function Wy(e){let t,n,o,i,c,s,l,u,d,f=e[7].length>0&&Vy(e),p=e[2]>0&&Gy(e);const h={c:function(){f&&f.c(),t=C(),n=S("div"),o=S("div"),i=S("span"),i.textContent="Root",l=C(),p&&p.c(),Be(i,"class","label"),r(i,Fy,140,8,5481),Be(o,"class","node svelte-1vml1m"),Be(o,"style",c="background-color: "+e[8]),Be(o,"tabindex",s=0),r(o,Fy,130,4,5167),Be(n,"class","placement svelte-1vml1m"),r(n,Fy,129,0,5139)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,c,s){f&&f.m(r,c),Ie(r,t,c),Ie(r,n,c),Me(n,o),Me(o,i),e[25](o),Me(n,l),p&&p.m(n,null),u=!0,s&&a(d),d=[Re(o,"mousedown",Hy,!1,!1,!1),Re(o,"contextmenu",A(Yy),!1,!0,!1),Re(o,"mouseenter",e[9],!1,!1,!1),Re(o,"mouseleave",e[10],!1,!1,!1),Re(o,"keypress",e[11],!1,!1,!1)]},p:function(e,[r]){e[7].length>0?f?(f.p(e,r),128&r&&he(f,1)):(f=Vy(e),f.c(),he(f,1),f.m(t.parentNode,t)):f&&(fe(),me(f,1,1,()=>{f=null}),pe()),(!u||256&r&&c!==(c="background-color: "+e[8]))&&Be(o,"style",c),e[2]>0?p?p.p(e,r):(p=Gy(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null)},i:function(e){u||(he(f),u=!0)},o:function(e){me(f),u=!1},d:function(r){f&&f.d(r),r&&Pe(t),r&&Pe(n),e[25](null),p&&p.d(),a(d)}};return Ae("SvelteRegisterBlock",{block:h,id:Wy.name,type:"component",source:"",ctx:e}),h}function Hy(e){0===e.button&&ep.select([])}function Yy({clientX:e,clientY:t}){Sy.set({coordinates:[e,t],stores:{type:"root",nodeStore:ep}})}function Zy(t,n,r){let o,i,a,c,s,d,p=e,h=()=>(p(),p=u(M,e=>r(15,i=e)),M),m=e,g=()=>(m(),m=u(R,e=>r(16,a=e)),R);l(ep,"root"),f(t,ep,e=>r(13,o=e)),l(Sy,"contextModalStore"),f(t,Sy,e=>r(17,c=e)),l(xr,"configStore"),f(t,xr,e=>r(18,s=e)),l(fp,"audioStatusStore"),f(t,fp,e=>r(20,d=e)),t.$$.on_destroy.push(()=>p()),t.$$.on_destroy.push(()=>m());let y,{treeContainer:v}=n;function w(){y&&y.focus()}function b(){null===c&&v.focus()}function $(){Uf(s,ep,o)}function x(){k(Dy,{},Tp)}const{open:k}=Y("simple-modal");function S(){k(ty,{importUnderStore:ep},Tp)}function E(e){return"r"===e.key?$():"a"===e.key?S():"d"===e.key?x():void 0}const T=["treeContainer"];Object.keys(n).forEach(e=>{~T.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<TreeVisRoot> was created with unknown prop '${e}'`)});let C,O,A,M,I,P,R,B,j,L,{$$slots:_={},$$scope:N}=n;return Ne("TreeVisRoot",_,[]),t.$set=e=>{"treeContainer"in e&&r(0,v=e.treeContainer)},t.$capture_state=()=>({root:ep,TreeVisBranch:Ry,colorLookup:Ep,modalOptions:Tp,contextModalStore:Sy,ImportModal:ty,configStore:xr,getContext:Y,request:Uf,undoStore:Zf,DeleteConfirmationModal:Dy,audioStatusStore:fp,treeContainer:v,leftClick:Hy,rightClick:Yy,node:y,focusNode:w,unfocusNode:b,loadMore:$,openDeleteModal:x,open:k,openImportModal:S,keyPressed:E,branchState:C,$root:o,pendingLoad:O,childStores:A,numberOfLeavesStore:M,numberOfLeaves:I,$numberOfLeavesStore:i,placementOffset:P,placementStore:R,childPlacements:B,$placementStore:a,$contextModalStore:c,$configStore:s,audioPlaying:j,$audioStatusStore:d,nodeColor:L}),t.$inject_state=e=>{"treeContainer"in e&&r(0,v=e.treeContainer),"node"in e&&r(1,y=e.node),"branchState"in e&&r(12,C=e.branchState),"pendingLoad"in e&&r(2,O=e.pendingLoad),"childStores"in e&&r(3,A=e.childStores),"numberOfLeavesStore"in e&&h(r(4,M=e.numberOfLeavesStore)),"numberOfLeaves"in e&&r(14,I=e.numberOfLeaves),"placementOffset"in e&&r(5,P=e.placementOffset),"placementStore"in e&&g(r(6,R=e.placementStore)),"childPlacements"in e&&r(7,B=e.childPlacements),"audioPlaying"in e&&r(19,j=e.audioPlaying),"nodeColor"in e&&r(8,L=e.nodeColor)},n&&"$$inject"in n&&t.$inject_state(n.$$inject),t.$$.update=()=>{8192&t.$$.dirty&&r(12,C=o),4096&t.$$.dirty&&r(2,O=C.pendingLoad),4096&t.$$.dirty&&r(3,A=C.children),32768&t.$$.dirty&&r(14,I=i),16384&t.$$.dirty&&r(5,P=-I/2),65536&t.$$.dirty&&r(7,B=a),1048576&t.$$.dirty&&r(19,j="on"===d.type),524288&t.$$.dirty&&r(8,L=j?Ep.nodePlaying:Ep.nodeActive)},h(r(4,M=ep.numberOfLeavesStore)),g(r(6,R=ep.placementStore)),[v,y,O,A,M,P,R,B,L,w,b,E,C,o,I,i,a,c,s,j,d,$,x,k,S,function(e){J[e?"unshift":"push"](()=>{r(1,y=e)})}]}class Xy extends Ue{constructor(e){super(e),Oe(this,e,Zy,Wy,s,{treeContainer:0}),Ae("SvelteRegisterComponent",{component:this,tagName:"TreeVisRoot",options:e,id:Wy.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"treeContainer"in n||console.warn("<TreeVisRoot> was created without expected prop 'treeContainer'")}get treeContainer(){throw new Error("<TreeVisRoot>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set treeContainer(e){throw new Error("<TreeVisRoot>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Jy="src/treeVis/ContextModal.svelte";function Ky(e){let t,n,o,i,c,s,l;const u=new ph({props:{$$slots:{default:[Qy]},$$scope:{ctx:e}},$$inline:!0});u.$on("click",e[7]);const d=new ph({props:{$$slots:{default:[ev]},$$scope:{ctx:e}},$$inline:!0});d.$on("click",e[10]);const f=new ph({props:{$$slots:{default:[tv]},$$scope:{ctx:e}},$$inline:!0});f.$on("click",e[8]);const p={c:function(){t=S("div"),Se(u.$$.fragment),n=C(),Se(d.$$.fragment),o=C(),Se(f.$$.fragment),Be(t,"class","contextModal svelte-1f2xbgy"),Be(t,"style",i="background-color: "+Ep.bgDark+"; border: 1px solid "+Ep.border+"; color: "+Ep.textDark+"; left: "+e[2]+"px; top: "+e[3]+"px"),Be(t,"tabindex",c=0),r(t,Jy,111,12,4244)},m:function(r,i,c){Ie(r,t,i),Ee(u,t,null),Me(t,n),Ee(d,t,null),Me(t,o),Ee(f,t,null),e[28](t),s=!0,c&&a(l),l=[Re(t,"mouseleave",sv,!1,!1,!1),Re(t,"mousedown",e[26],!1,!1,!1),Re(t,"contextmenu",M(A(e[27])),!1,!0,!0),Re(t,"keydown",e[12],!1,!1,!1)]},p:function(e,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:e}),u.$set(r);const o={};1073741824&n&&(o.$$scope={dirty:n,ctx:e}),d.$set(o);const a={};1073741824&n&&(a.$$scope={dirty:n,ctx:e}),f.$set(a),(!s||12&n&&i!==(i="background-color: "+Ep.bgDark+"; border: 1px solid "+Ep.border+"; color: "+Ep.textDark+"; left: "+e[2]+"px; top: "+e[3]+"px"))&&Be(t,"style",i)},i:function(e){s||(he(u.$$.fragment,e),he(d.$$.fragment,e),he(f.$$.fragment,e),s=!0)},o:function(e){me(u.$$.fragment,e),me(d.$$.fragment,e),me(f.$$.fragment,e),s=!1},d:function(n){n&&Pe(t),Te(u),Te(d),Te(f),e[28](null),a(l)}};return Ae("SvelteRegisterBlock",{block:p,id:Ky.name,type:"if",source:"(111:4) {#if showRoot}",ctx:e}),p}function Qy(e){let t,n;const o={c:function(){t=S("u"),t.textContent="R",n=T("equest More"),r(t,Jy,121,44,4811)},m:function(e,r){Ie(e,t,r),Ie(e,n,r)},d:function(e){e&&Pe(t),e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:Qy.name,type:"slot",source:"(122:16) <Button on:click={loadMore}>",ctx:e}),o}function ev(e){let t,n;const o={c:function(){t=S("u"),t.textContent="A",n=T("dd Midi"),r(t,Jy,122,51,4891)},m:function(e,r){Ie(e,t,r),Ie(e,n,r)},d:function(e){e&&Pe(t),e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:ev.name,type:"slot",source:"(123:16) <Button on:click={openImportModal}>",ctx:e}),o}function tv(e){let t,n;const o={c:function(){t=S("u"),t.textContent="D",n=T("elete All"),r(t,Jy,123,51,4967)},m:function(e,r){Ie(e,t,r),Ie(e,n,r)},d:function(e){e&&Pe(t),e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:tv.name,type:"slot",source:"(124:16) <Button on:click={openDeleteModal}>",ctx:e}),o}function nv(e){let t,n,o,i,c,s,l,u,d,f;const p=new ph({props:{$$slots:{default:[rv]},$$scope:{ctx:e}},$$inline:!0});p.$on("click",e[7]);const h=new ph({props:{$$slots:{default:[ov]},$$scope:{ctx:e}},$$inline:!0});h.$on("click",e[10]);const m=new ph({props:{$$slots:{default:[iv]},$$scope:{ctx:e}},$$inline:!0});m.$on("click",e[11]);const g=new ph({props:{$$slots:{default:[av]},$$scope:{ctx:e}},$$inline:!0});g.$on("click",e[9]);const y={c:function(){t=S("div"),n=S("div"),Se(p.$$.fragment),o=C(),Se(h.$$.fragment),i=C(),Se(m.$$.fragment),c=C(),Se(g.$$.fragment),Be(n,"class","contextModal svelte-1f2xbgy"),Be(n,"style",s="background-color: "+Ep.bgDark+"; border: 1px solid "+Ep.border+"; color: "+Ep.textDark+"; left: "+e[2]+"px; top: "+e[3]+"px"),Be(n,"tabindex",l=0),r(n,Jy,130,12,5186),Be(t,"class","contextModalContainer"),Be(t,"style",u="left: "+e[2]+"px; top: "+e[3]+"px"),r(t,Jy,128,8,5053)},m:function(r,s,l){Ie(r,t,s),Me(t,n),Ee(p,n,null),Me(n,o),Ee(h,n,null),Me(n,i),Ee(m,n,null),Me(n,c),Ee(g,n,null),e[29](n),d=!0,l&&a(f),f=[Re(n,"mousedown",M(A(e[24])),!1,!0,!0),Re(n,"contextmenu",M(A(e[25])),!1,!0,!0),Re(n,"keydown",e[12],!1,!1,!1),Re(t,"mouseleave",sv,!1,!1,!1)]},p:function(e,r){const o={};1073741824&r&&(o.$$scope={dirty:r,ctx:e}),p.$set(o);const i={};1073741824&r&&(i.$$scope={dirty:r,ctx:e}),h.$set(i);const a={};1073741824&r&&(a.$$scope={dirty:r,ctx:e}),m.$set(a);const c={};1073741824&r&&(c.$$scope={dirty:r,ctx:e}),g.$set(c),(!d||12&r&&s!==(s="background-color: "+Ep.bgDark+"; border: 1px solid "+Ep.border+"; color: "+Ep.textDark+"; left: "+e[2]+"px; top: "+e[3]+"px"))&&Be(n,"style",s),(!d||12&r&&u!==(u="left: "+e[2]+"px; top: "+e[3]+"px"))&&Be(t,"style",u)},i:function(e){d||(he(p.$$.fragment,e),he(h.$$.fragment,e),he(m.$$.fragment,e),he(g.$$.fragment,e),d=!0)},o:function(e){me(p.$$.fragment,e),me(h.$$.fragment,e),me(m.$$.fragment,e),me(g.$$.fragment,e),d=!1},d:function(n){n&&Pe(t),Te(p),Te(h),Te(m),Te(g),e[29](null),a(f)}};return Ae("SvelteRegisterBlock",{block:y,id:nv.name,type:"if",source:"(128:4) {#if showBranch}",ctx:e}),y}function rv(e){let t,n;const o={c:function(){t=S("u"),t.textContent="R",n=T("equest More"),r(t,Jy,139,44,5745)},m:function(e,r){Ie(e,t,r),Ie(e,n,r)},d:function(e){e&&Pe(t),e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:rv.name,type:"slot",source:"(140:16) <Button on:click={loadMore}>",ctx:e}),o}function ov(e){let t,n;const o={c:function(){t=S("u"),t.textContent="A",n=T("dd Midi"),r(t,Jy,140,51,5825)},m:function(e,r){Ie(e,t,r),Ie(e,n,r)},d:function(e){e&&Pe(t),e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:ov.name,type:"slot",source:"(141:16) <Button on:click={openImportModal}>",ctx:e}),o}function iv(e){let t,n;const o={c:function(){t=S("u"),t.textContent="S",n=T("ave Audio"),r(t,Jy,141,51,5901)},m:function(e,r){Ie(e,t,r),Ie(e,n,r)},d:function(e){e&&Pe(t),e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:iv.name,type:"slot",source:"(142:16) <Button on:click={openExportModal}>",ctx:e}),o}function av(e){let t,n;const o={c:function(){t=S("u"),t.textContent="D",n=T("elete Branch"),r(t,Jy,142,48,5976)},m:function(e,r){Ie(e,t,r),Ie(e,n,r)},d:function(e){e&&Pe(t),e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:av.name,type:"slot",source:"(143:16) <Button on:click={deleteBranch}>",ctx:e}),o}function cv(e){let t,n,o,i=e[4]&&Ky(e),a=e[5]&&nv(e);const c={c:function(){t=S("div"),i&&i.c(),n=C(),a&&a.c(),Be(t,"class","container svelte-1f2xbgy"),r(t,Jy,109,0,4189)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ie(e,t,r),i&&i.m(t,null),Me(t,n),a&&a.m(t,null),o=!0},p:function(e,[r]){e[4]?i?(i.p(e,r),16&r&&he(i,1)):(i=Ky(e),i.c(),he(i,1),i.m(t,n)):i&&(fe(),me(i,1,1,()=>{i=null}),pe()),e[5]?a?(a.p(e,r),32&r&&he(a,1)):(a=nv(e),a.c(),he(a,1),a.m(t,null)):a&&(fe(),me(a,1,1,()=>{a=null}),pe())},i:function(e){o||(he(i),he(a),o=!0)},o:function(e){me(i),me(a),o=!1},d:function(e){e&&Pe(t),i&&i.d(),a&&a.d()}};return Ae("SvelteRegisterBlock",{block:c,id:cv.name,type:"component",source:"",ctx:e}),c}function sv(){Sy.set(null)}function lv(t,n,r){let o,i,a,c=e,s=()=>(c(),c=u(A,e=>r(18,i=e)),A);l(Sy,"contextModalStore"),f(t,Sy,e=>r(14,o=e)),l(xr,"configStore"),f(t,xr,e=>r(22,a=e)),t.$$.on_destroy.push(()=>c());const{open:d}=Y("simple-modal");function p(){sv(),Uf(a,A,M)}function h(){sv(),d(Dy,{},Tp)}function m(){sv(),O.deleteChildWithUndo(R)}function g(){sv(),d(ty,{importUnderStore:A},Tp)}function y(){sv(),d(ky,{store:A},Tp)}function v(e){return"r"===e.key?p():"a"===e.key?g():"s"===e.key&&C?y():"d"===e.key&&T?h():"d"===e.key&&C?m():void 0}let w,b;G(()=>{w&&w.focus(),b&&b.focus()});const $=[];Object.keys(n).forEach(e=>{~$.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ContextModal> was created with unknown prop '${e}'`)});let x,k,S,E,T,C,O,A,M,I,P,R,{$$slots:B={},$$scope:j}=n;return Ne("ContextModal",B,[]),t.$capture_state=()=>({contextModalStore:Sy,getContext:Y,afterUpdate:G,ImportModal:ty,ExportModal:ky,Button:ph,configStore:xr,colorLookup:Ep,modalOptions:Tp,request:Uf,undoStore:Zf,DeleteConfirmationModal:Dy,open:d,hide:sv,loadMore:p,openDeleteModal:h,deleteBranch:m,openImportModal:g,openExportModal:y,keyPressed:v,rootContainer:w,branchContainer:b,contextModalState:x,$contextModalStore:o,coordinates:k,left:S,top:E,showRoot:T,showBranch:C,parentStore:O,nodeStore:A,nodeState:M,$nodeStore:i,children:I,path:P,childIndex:R,$configStore:a}),t.$inject_state=e=>{"rootContainer"in e&&r(0,w=e.rootContainer),"branchContainer"in e&&r(1,b=e.branchContainer),"contextModalState"in e&&r(13,x=e.contextModalState),"coordinates"in e&&r(15,k=e.coordinates),"left"in e&&r(2,S=e.left),"top"in e&&r(3,E=e.top),"showRoot"in e&&r(4,T=e.showRoot),"showBranch"in e&&r(5,C=e.showBranch),"parentStore"in e&&(O=e.parentStore),"nodeStore"in e&&s(r(6,A=e.nodeStore)),"nodeState"in e&&r(17,M=e.nodeState),"children"in e&&(I=e.children),"path"in e&&r(20,P=e.path),"childIndex"in e&&(R=e.childIndex)},n&&"$$inject"in n&&t.$inject_state(n.$$inject),t.$$.update=()=>{16384&t.$$.dirty&&r(13,x=o),8192&t.$$.dirty&&r(15,k=null===x?null:x.coordinates),32768&t.$$.dirty&&r(2,S=null===k?null:k[0]-40),32768&t.$$.dirty&&r(3,E=null===k?null:k[1]-40),8192&t.$$.dirty&&r(4,T=null!==x&&"root"===x.stores.type),8192&t.$$.dirty&&r(5,C=null!==x&&"branch"===x.stores.type),8224&t.$$.dirty&&(O=C?x.stores.parentStore:null),8192&t.$$.dirty&&s(r(6,A=null===x?null:x.stores.nodeStore)),262208&t.$$.dirty&&r(17,M=null===A?null:i),131072&t.$$.dirty&&(I=null===M?null:M.children),131072&t.$$.dirty&&r(20,P=null===M?null:M.path),1048576&t.$$.dirty&&(R=null===P?null:P[P.length-1])},[w,b,S,E,T,C,A,p,h,m,g,y,v,x,o,k,O,M,i,I,P,R,a,d,function(e){Z(t,e)},function(e){Z(t,e)},function(e){Z(t,e)},function(e){Z(t,e)},function(e){J[e?"unshift":"push"](()=>{r(0,w=e)})},function(e){J[e?"unshift":"push"](()=>{r(1,b=e)})}]}class uv extends Ue{constructor(e){super(e),Oe(this,e,lv,cv,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"ContextModal",options:e,id:cv.name})}}const dv="src/treeVis/TreeVis.svelte";function fv(e){let t,n,o,i,a,c,s;const l=new uv({$$inline:!0}),u=new Xy({props:{treeContainer:e[1]},$$inline:!0}),d={c:function(){t=S("div"),Se(l.$$.fragment),n=C(),o=S("div"),i=S("div"),Se(u.$$.fragment),Be(i,"class","tree-position svelte-wzjzwa"),r(i,dv,55,6,2131),Be(o,"class","pan-container svelte-wzjzwa"),r(o,dv,54,4,2075),Be(t,"class","tree-container svelte-wzjzwa"),Be(t,"style",a="color: "+Ep.textEmphasis+";background-color: "+Ep.bgLight+"; border-left: 1px solid "+Ep.border),r(t,dv,52,2,1809)},m:function(r,a,d){Ie(r,t,a),Ee(l,t,null),Me(t,n),Me(t,o),Me(o,i),Ee(u,i,null),e[2](o),e[3](t),c=!0,d&&s(),s=Re(t,"mouseenter",e[4],!1,!1,!1)},p:function(e,t){const n={};2&t&&(n.treeContainer=e[1]),u.$set(n)},i:function(e){c||(he(l.$$.fragment,e),he(u.$$.fragment,e),c=!0)},o:function(e){me(l.$$.fragment,e),me(u.$$.fragment,e),c=!1},d:function(n){n&&Pe(t),Te(l),Te(u),e[2](null),e[3](null),s()}};return Ae("SvelteRegisterBlock",{block:d,id:fv.name,type:"if",source:"(52:0) {#if root != null}",ctx:e}),d}function pv(e){let t,n,r=null!=ep&&fv(e);const o={c:function(){r&&r.c(),t=O()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){r&&r.m(e,o),Ie(e,t,o),n=!0},p:function(e,[t]){null!=ep&&r.p(e,t)},i:function(e){n||(he(r),n=!0)},o:function(e){me(r),n=!1},d:function(e){r&&r.d(e),e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:o,id:pv.name,type:"component",source:"",ctx:e}),o}function hv(e,t,n){let r,o;G(()=>{const e=Tg(r,{minZoom:.1,maxZoom:2,zoomDoubleClickSpeed:1,smoothScroll:!1});e.on("pan",()=>Sy.set(null)),e.on("zoom",()=>Sy.set(null)),e.on("transform",()=>Sy.set(null))});const i=[];Object.keys(t).forEach(e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<TreeVis> was created with unknown prop '${e}'`)});let{$$slots:a={},$$scope:c}=t;Ne("TreeVis",a,[]);return e.$capture_state=()=>({afterUpdate:G,root:ep,panzoom:Tg,TreeVisRoot:Xy,colorLookup:Ep,ContextModal:uv,contextModalStore:Sy,container:r,treeContainer:o}),e.$inject_state=e=>{"container"in e&&n(0,r=e.container),"treeContainer"in e&&n(1,o=e.treeContainer)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r,o,function(e){J[e?"unshift":"push"](()=>{n(0,r=e)})},function(e){J[e?"unshift":"push"](()=>{n(1,o=e)})},()=>o.focus()]}class mv extends Ue{constructor(e){super(e),Oe(this,e,hv,pv,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"TreeVis",options:e,id:pv.name})}}function gv(e,{delay:n=0,duration:r=400,easing:o=t}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*i}}const{Object:yv}=be,vv="node_modules/svelte-simple-modal/src/Modal.svelte";function wv(e){let t,o,i,s,l,u,d,f,p,h=e[0].closeButton&&bv(e);const m=[e[2]];var g=e[1];function y(e){let t={};for(let e=0;e<m.length;e+=1)t=n(t,m[e]);return{props:t,$$inline:!0}}if(g)var v=new g(y());const w={c:function(){t=S("div"),o=S("div"),i=S("div"),h&&h.c(),s=C(),l=S("div"),v&&Se(v.$$.fragment),Be(l,"class","content svelte-1modl6u"),Be(l,"style",e[11]),r(l,vv,255,8,10875),Be(i,"class","window svelte-1modl6u"),Be(i,"style",e[10]),r(i,vv,243,6,10502),Be(o,"class","window-wrap svelte-1modl6u"),r(o,vv,242,4,10453),Be(t,"class","bg svelte-1modl6u"),Be(t,"style",e[9]),r(t,vv,235,2,10287)},m:function(n,r,u){Ie(n,t,r),Me(t,o),Me(o,i),h&&h.m(i,null),Me(i,s),Me(i,l),v&&Ee(v,l,null),e[36](o),e[37](t),f=!0,u&&a(p),p=[Re(i,"introstart",(function(){c(e[5])&&e[5].apply(this,arguments)}),!1,!1,!1),Re(i,"outrostart",(function(){c(e[6])&&e[6].apply(this,arguments)}),!1,!1,!1),Re(i,"introend",(function(){c(e[7])&&e[7].apply(this,arguments)}),!1,!1,!1),Re(i,"outroend",(function(){c(e[8])&&e[8].apply(this,arguments)}),!1,!1,!1),Re(t,"click",e[16],!1,!1,!1)]},p:function(n,r){(e=n)[0].closeButton?h?h.p(e,r):(h=bv(e),h.c(),h.m(i,s)):h&&(h.d(1),h=null);const o=4&r[0]?function(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],c=t[i];if(c){for(const e in a)e in c||(r[e]=1);for(const e in c)o[e]||(n[e]=c[e],o[e]=1);e[i]=c}else for(const e in a)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(m,[(a=e[2],"object"==typeof a&&null!==a?a:{})]):{};var a;if(g!==(g=e[1])){if(v){fe();const e=v;me(e.$$.fragment,1,0,()=>{Te(e,1)}),pe()}g?(Se((v=new g(y())).$$.fragment),he(v.$$.fragment,1),Ee(v,l,null)):v=null}else g&&v.$set(o);(!f||2048&r[0])&&Be(l,"style",e[11]),(!f||1024&r[0])&&Be(i,"style",e[10]),(!f||512&r[0])&&Be(t,"style",e[9])},i:function(n){f||(v&&he(v.$$.fragment,n),ne(()=>{u||(u=we(i,e[13],e[0].transitionWindowProps,!0)),u.run(1)}),ne(()=>{d||(d=we(t,e[12],e[0].transitionBgProps,!0)),d.run(1)}),f=!0)},o:function(n){v&&me(v.$$.fragment,n),u||(u=we(i,e[13],e[0].transitionWindowProps,!1)),u.run(0),d||(d=we(t,e[12],e[0].transitionBgProps,!1)),d.run(0),f=!1},d:function(n){n&&Pe(t),h&&h.d(),v&&Te(v),n&&u&&u.end(),e[36](null),e[37](null),n&&d&&d.end(),a(p)}};return Ae("SvelteRegisterBlock",{block:w,id:wv.name,type:"if",source:"(235:0) {#if Component}",ctx:e}),w}function bv(t){let n,o;const i={c:function(){n=S("button"),Be(n,"class","close svelte-1modl6u"),r(n,vv,253,10,10804)},m:function(e,r,i){Ie(e,n,r),i&&o(),o=Re(n,"click",t[14],!1,!1,!1)},p:e,d:function(e){e&&Pe(n),o()}};return Ae("SvelteRegisterBlock",{block:i,id:bv.name,type:"if",source:"(253:8) {#if state.closeButton}",ctx:t}),i}function $v(e){let t,n,r,o=e[1]&&wv(e);const i=e[35].default,a=p(i,e,e[34],null),c={c:function(){o&&o.c(),t=C(),a&&a.c()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,c,s){o&&o.m(i,c),Ie(i,t,c),a&&a.m(i,c),n=!0,s&&r(),r=Re(window,"keyup",e[15],!1,!1,!1)},p:function(e,n){e[1]?o?(o.p(e,n),2&n[0]&&he(o,1)):(o=wv(e),o.c(),he(o,1),o.m(t.parentNode,t)):o&&(fe(),me(o,1,1,()=>{o=null}),pe()),a&&a.p&&8&n[1]&&a.p(h(i,e,e[34],null),m(i,e[34],n,null))},i:function(e){n||(he(o),he(a,e),n=!0)},o:function(e){me(o),me(a,e),n=!1},d:function(e){o&&o.d(e),e&&Pe(t),a&&a.d(e),r()}};return Ae("SvelteRegisterBlock",{block:c,id:$v.name,type:"component",source:"",ctx:e}),c}function xv(e,t,n){let{key:r="simple-modal"}=t,{closeButton:o=!0}=t,{closeOnEsc:i=!0}=t,{closeOnOuterClick:a=!0}=t,{styleBg:c={top:0,left:0}}=t,{styleWindow:s={}}=t,{styleContent:l={}}=t,{setContext:u=H}=t,{transitionBg:d=gv}=t,{transitionBgProps:f={duration:250}}=t,{transitionWindow:p=d}=t,{transitionWindowProps:h=f}=t;const m={closeButton:o,closeOnEsc:i,closeOnOuterClick:a,styleBg:c,styleWindow:s,styleContent:l,transitionBg:d,transitionBgProps:f,transitionWindow:p,transitionWindowProps:h};let g,y,v={...m},w=null,b=null;const $=e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),x=e=>Object.keys(e).reduce((t,n)=>`${t}; ${$(n)}: ${e[n]}`,""),k=()=>{};let S=k,E=k,T=k,C=k;const O=(e,t={},r={},o={})=>{n(1,w=e),n(2,b=t),n(0,v={...m,...r}),n(5,S=o.onOpen||k),n(6,E=o.onClose||k),n(7,T=o.onOpened||k),n(8,C=o.onClosed||k)},A=(e={})=>{n(6,E=e.onClose||E),n(8,C=e.onClosed||C),n(1,w=null),n(2,b=null)},M=e=>{v.closeOnEsc&&w&&"Escape"===e.key&&(e.preventDefault(),A())},I=e=>{!v.closeOnOuterClick||e.target!==g&&e.target!==y||(e.preventDefault(),A())};u(r,{open:O,close:A});const P=["key","closeButton","closeOnEsc","closeOnOuterClick","styleBg","styleWindow","styleContent","setContext","transitionBg","transitionBgProps","transitionWindow","transitionWindowProps"];yv.keys(t).forEach(e=>{~P.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Modal> was created with unknown prop '${e}'`)});let R,B,j,L,_,{$$slots:N={},$$scope:U}=t;return Ne("Modal",N,["default"]),e.$set=e=>{"key"in e&&n(17,r=e.key),"closeButton"in e&&n(18,o=e.closeButton),"closeOnEsc"in e&&n(19,i=e.closeOnEsc),"closeOnOuterClick"in e&&n(20,a=e.closeOnOuterClick),"styleBg"in e&&n(21,c=e.styleBg),"styleWindow"in e&&n(22,s=e.styleWindow),"styleContent"in e&&n(23,l=e.styleContent),"setContext"in e&&n(24,u=e.setContext),"transitionBg"in e&&n(25,d=e.transitionBg),"transitionBgProps"in e&&n(26,f=e.transitionBgProps),"transitionWindow"in e&&n(27,p=e.transitionWindow),"transitionWindowProps"in e&&n(28,h=e.transitionWindowProps),"$$scope"in e&&n(34,U=e.$$scope)},e.$capture_state=()=>({baseSetContext:H,fade:gv,key:r,closeButton:o,closeOnEsc:i,closeOnOuterClick:a,styleBg:c,styleWindow:s,styleContent:l,setContext:u,transitionBg:d,transitionBgProps:f,transitionWindow:p,transitionWindowProps:h,defaultState:m,state:v,Component:w,props:b,background:g,wrap:y,camelCaseToDash:$,toCssString:x,toVoid:k,onOpen:S,onClose:E,onOpened:T,onClosed:C,open:O,close:A,handleKeyup:M,handleOuterClick:I,cssBg:R,cssWindow:B,cssContent:j,currentTransitionBg:L,currentTransitionWindow:_}),e.$inject_state=e=>{"key"in e&&n(17,r=e.key),"closeButton"in e&&n(18,o=e.closeButton),"closeOnEsc"in e&&n(19,i=e.closeOnEsc),"closeOnOuterClick"in e&&n(20,a=e.closeOnOuterClick),"styleBg"in e&&n(21,c=e.styleBg),"styleWindow"in e&&n(22,s=e.styleWindow),"styleContent"in e&&n(23,l=e.styleContent),"setContext"in e&&n(24,u=e.setContext),"transitionBg"in e&&n(25,d=e.transitionBg),"transitionBgProps"in e&&n(26,f=e.transitionBgProps),"transitionWindow"in e&&n(27,p=e.transitionWindow),"transitionWindowProps"in e&&n(28,h=e.transitionWindowProps),"state"in e&&n(0,v=e.state),"Component"in e&&n(1,w=e.Component),"props"in e&&n(2,b=e.props),"background"in e&&n(3,g=e.background),"wrap"in e&&n(4,y=e.wrap),"onOpen"in e&&n(5,S=e.onOpen),"onClose"in e&&n(6,E=e.onClose),"onOpened"in e&&n(7,T=e.onOpened),"onClosed"in e&&n(8,C=e.onClosed),"cssBg"in e&&n(9,R=e.cssBg),"cssWindow"in e&&n(10,B=e.cssWindow),"cssContent"in e&&n(11,j=e.cssContent),"currentTransitionBg"in e&&n(12,L=e.currentTransitionBg),"currentTransitionWindow"in e&&n(13,_=e.currentTransitionWindow)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty[0]&&n(9,R=x(v.styleBg)),1&e.$$.dirty[0]&&n(10,B=x(v.styleWindow)),1&e.$$.dirty[0]&&n(11,j=x(v.styleContent)),1&e.$$.dirty[0]&&n(12,L=v.transitionBg),1&e.$$.dirty[0]&&n(13,_=v.transitionWindow)},[v,w,b,g,y,S,E,T,C,R,B,j,L,_,A,M,I,r,o,i,a,c,s,l,u,d,f,p,h,m,$,x,k,O,U,N,function(e){J[e?"unshift":"push"](()=>{n(4,y=e)})},function(e){J[e?"unshift":"push"](()=>{n(3,g=e)})}]}class kv extends Ue{constructor(e){super(e),Oe(this,e,xv,$v,s,{key:17,closeButton:18,closeOnEsc:19,closeOnOuterClick:20,styleBg:21,styleWindow:22,styleContent:23,setContext:24,transitionBg:25,transitionBgProps:26,transitionWindow:27,transitionWindowProps:28},[-1,-1]),Ae("SvelteRegisterComponent",{component:this,tagName:"Modal",options:e,id:$v.name})}get key(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set key(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get closeButton(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set closeButton(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get closeOnEsc(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set closeOnEsc(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get closeOnOuterClick(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set closeOnOuterClick(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get styleBg(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set styleBg(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get styleWindow(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set styleWindow(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get styleContent(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set styleContent(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get setContext(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set setContext(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get transitionBg(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set transitionBg(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get transitionBgProps(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set transitionBgProps(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get transitionWindow(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set transitionWindow(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get transitionWindowProps(){throw new Error("<Modal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set transitionWindowProps(e){throw new Error("<Modal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Sv="src/persistence/LoadingProgressBar.svelte";function Ev(e){let t,n,o,i,a,c,s,l,u,d,f,p=e[1].toLocaleString()+"",h=e[2].toLocaleString()+"",m=e[3].toFixed(0)+"";const g={c:function(){t=S("div"),n=S("span"),o=T(p),i=T(" / "),a=T(h),c=C(),s=S("span"),l=T("("),u=T(m),d=T("%)"),Be(n,"class","svelte-g16etc"),r(n,Sv,66,12,3232),Be(s,"class","svelte-g16etc"),r(s,Sv,69,12,3338),Be(t,"class","textContainer svelte-g16etc"),Be(t,"style",f="color: "+Ep.loadingBarText),r(t,Sv,65,8,3145)},m:function(e,r){Ie(e,t,r),Me(t,n),Me(n,o),Me(n,i),Me(n,a),Me(t,c),Me(t,s),Me(s,l),Me(s,u),Me(s,d)},p:function(e,t){2&t&&p!==(p=e[1].toLocaleString()+"")&&Le(o,p),4&t&&h!==(h=e[2].toLocaleString()+"")&&Le(a,h),8&t&&m!==(m=e[3].toFixed(0)+"")&&Le(u,m)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:g,id:Ev.name,type:"if",source:"(65:4) {#if loadingState}",ctx:e}),g}function Tv(t){let n,o,i,a,c,s=t[0]&&Ev(t);const l={c:function(){n=S("div"),s&&s.c(),o=C(),i=S("div"),Be(i,"class","bar svelte-g16etc"),Be(i,"style",a="background-color: "+Ep.loadingBarFG+"; width: "+t[3]+"%"),r(i,Sv,74,4,3433),Be(n,"class","backdrop svelte-g16etc"),Be(n,"style",c="background-color: "+Ep.loadingBarBG),r(n,Sv,62,0,3030)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,t){Ie(e,n,t),s&&s.m(n,null),Me(n,o),Me(n,i)},p:function(e,[t]){e[0]?s?s.p(e,t):(s=Ev(e),s.c(),s.m(n,o)):s&&(s.d(1),s=null),8&t&&a!==(a="background-color: "+Ep.loadingBarFG+"; width: "+e[3]+"%")&&Be(i,"style",a)},i:e,o:e,d:function(e){e&&Pe(n),s&&s.d()}};return Ae("SvelteRegisterBlock",{block:l,id:Tv.name,type:"component",source:"",ctx:t}),l}function Cv(e,t,n){let r;l(hm,"loadingProgressStore"),f(e,hm,e=>n(4,r=e));const o=[];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<LoadingProgressBar> was created with unknown prop '${e}'`)});let i,a,c,s,{$$slots:u={},$$scope:d}=t;return Ne("LoadingProgressBar",u,[]),e.$capture_state=()=>({colorLookup:Ep,loadingProgressStore:hm,loadingState:i,$loadingProgressStore:r,done:a,total:c,percent:s}),e.$inject_state=e=>{"loadingState"in e&&n(0,i=e.loadingState),"done"in e&&n(1,a=e.done),"total"in e&&n(2,c=e.total),"percent"in e&&n(3,s=e.percent)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{16&e.$$.dirty&&n(0,i=r),1&e.$$.dirty&&n(1,a=null===i?null:i.done),1&e.$$.dirty&&n(2,c=null===i?null:i.total),6&e.$$.dirty&&n(3,s=100*(a||0)/(c||1))},[i,a,c,s]}class Ov extends Ue{constructor(e){super(e),Oe(this,e,Cv,Tv,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"LoadingProgressBar",options:e,id:Tv.name})}}const Av="src/persistence/LoadingSpinner.svelte";function Mv(e){let t,n,o,i;const a=new ph({props:{$$slots:{default:[Pv]},$$scope:{ctx:e}},$$inline:!0});a.$on("click",e[1]);const c=new Ov({$$inline:!0}),s={c:function(){t=S("p"),t.textContent="Loading",n=C(),Se(a.$$.fragment),o=C(),Se(c.$$.fragment),Be(t,"class","loadingText svelte-1ybiasf"),r(t,Av,203,12,9625)},m:function(e,r){Ie(e,t,r),Ie(e,n,r),Ee(a,e,r),Ie(e,o,r),Ee(c,e,r),i=!0},p:function(e,t){const n={};4&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i:function(e){i||(he(a.$$.fragment,e),he(c.$$.fragment,e),i=!0)},o:function(e){me(a.$$.fragment,e),me(c.$$.fragment,e),i=!1},d:function(e){e&&Pe(t),e&&Pe(n),Te(a,e),e&&Pe(o),Te(c,e)}};return Ae("SvelteRegisterBlock",{block:s,id:Mv.name,type:"else",source:"(203:8) {:else}",ctx:e}),s}function Iv(t){let n;const o={c:function(){n=S("p"),n.textContent="Reverting",Be(n,"class","loadingText svelte-1ybiasf"),r(n,Av,201,12,9560)},m:function(e,t){Ie(e,n,t)},p:e,i:e,o:e,d:function(e){e&&Pe(n)}};return Ae("SvelteRegisterBlock",{block:o,id:Iv.name,type:"if",source:"(201:8) {#if cancelled}",ctx:t}),o}function Pv(e){let t;const n={c:function(){t=T("Cancel")},m:function(e,n){Ie(e,t,n)},d:function(e){e&&Pe(t)}};return Ae("SvelteRegisterBlock",{block:n,id:Pv.name,type:"slot",source:"(205:12) <Button on:click={cancel}>",ctx:e}),n}function Rv(e){let t,n,o,i,a,c,s,l,u,d,f,p,h,m,g,y,v,w,b,$,x,k,E,T,O,A,M,I,P,R;const B=[Iv,Mv],L=[];function _(e,t){return e[0]?0:1}I=_(e),P=L[I]=B[I](e);const N={c:function(){t=S("div"),n=S("div"),o=S("div"),i=S("div"),a=C(),c=S("div"),s=C(),l=S("div"),u=C(),d=S("div"),f=C(),p=S("div"),h=C(),m=S("div"),g=C(),y=S("div"),v=C(),w=S("div"),b=C(),$=S("div"),x=C(),k=S("div"),E=C(),T=S("div"),O=C(),A=S("div"),M=C(),P.c(),Be(i,"class","svelte-1ybiasf"),r(i,Av,187,12,9233),Be(c,"class","svelte-1ybiasf"),r(c,Av,188,12,9257),Be(l,"class","svelte-1ybiasf"),r(l,Av,189,12,9281),Be(d,"class","svelte-1ybiasf"),r(d,Av,190,12,9305),Be(p,"class","svelte-1ybiasf"),r(p,Av,191,12,9329),Be(m,"class","svelte-1ybiasf"),r(m,Av,192,12,9353),Be(y,"class","svelte-1ybiasf"),r(y,Av,193,12,9377),Be(w,"class","svelte-1ybiasf"),r(w,Av,194,12,9401),Be($,"class","svelte-1ybiasf"),r($,Av,195,12,9425),Be(k,"class","svelte-1ybiasf"),r(k,Av,196,12,9449),Be(T,"class","svelte-1ybiasf"),r(T,Av,197,12,9473),Be(A,"class","svelte-1ybiasf"),r(A,Av,198,12,9497),Be(o,"class","lds-spinner svelte-1ybiasf"),j(o,"flip",e[0]),r(o,Av,186,8,9172),Be(n,"class","column svelte-1ybiasf"),r(n,Av,185,4,9143),Be(t,"class","center svelte-1ybiasf"),r(t,Av,184,0,9118)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ie(e,t,r),Me(t,n),Me(n,o),Me(o,i),Me(o,a),Me(o,c),Me(o,s),Me(o,l),Me(o,u),Me(o,d),Me(o,f),Me(o,p),Me(o,h),Me(o,m),Me(o,g),Me(o,y),Me(o,v),Me(o,w),Me(o,b),Me(o,$),Me(o,x),Me(o,k),Me(o,E),Me(o,T),Me(o,O),Me(o,A),Me(n,M),L[I].m(n,null),R=!0},p:function(e,[t]){1&t&&j(o,"flip",e[0]);let r=I;I=_(e),I===r?L[I].p(e,t):(fe(),me(L[r],1,1,()=>{L[r]=null}),pe(),P=L[I],P||(P=L[I]=B[I](e),P.c()),he(P,1),P.m(n,null))},i:function(e){R||(he(P),R=!0)},o:function(e){me(P),R=!1},d:function(e){e&&Pe(t),L[I].d()}};return Ae("SvelteRegisterBlock",{block:N,id:Rv.name,type:"component",source:"",ctx:e}),N}function Bv(e,t,n){let r=!1;function o(){ym(),n(0,r=!0)}const i=[];Object.keys(t).forEach(e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<LoadingSpinner> was created with unknown prop '${e}'`)});let{$$slots:a={},$$scope:c}=t;return Ne("LoadingSpinner",a,[]),e.$capture_state=()=>({colorLookup:Ep,cancelLoading:ym,Button:ph,LoadingProgressBar:Ov,cancelled:r,cancel:o}),e.$inject_state=e=>{"cancelled"in e&&n(0,r=e.cancelled)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r,o]}class jv extends Ue{constructor(e){super(e),Oe(this,e,Bv,Rv,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"LoadingSpinner",options:e,id:Rv.name})}}function Lv(t){const n={c:e,l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:e,p:e,i:e,o:e,d:e};return Ae("SvelteRegisterBlock",{block:n,id:Lv.name,type:"component",source:"",ctx:t}),n}function _v(e,t,n){const{open:r,close:o}=Y("simple-modal");hm.subscribe(e=>{e?r(jv,{},{closeButton:!1,closeOnEsc:!1,closeOnOuterClick:!1,styleWindow:{background:"transparent",color:Ep.text},styleContent:{overflow:"hidden"}}):o()});const i=[];Object.keys(t).forEach(e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ModalController> was created with unknown prop '${e}'`)});let{$$slots:a={},$$scope:c}=t;return Ne("ModalController",a,[]),e.$capture_state=()=>({loadingProgressStore:hm,LoadingSpinner:jv,getContext:Y,colorLookup:Ep,open:r,close:o}),[]}class Nv extends Ue{constructor(e){super(e),Oe(this,e,_v,Lv,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"ModalController",options:e,id:Lv.name})}}function Uv(t){const n={c:e,l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:e,p:e,i:e,o:e,d:e};return Ae("SvelteRegisterBlock",{block:n,id:Uv.name,type:"component",source:"",ctx:t}),n}function Dv(e,t,n){const{open:r}=Y("simple-modal");z(()=>{const e=localStorage.getItem("autosave");null===e?r(Hh,{},Tp):xm(ep,e)});const o=[];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<AutoSaveController> was created with unknown prop '${e}'`)});let{$$slots:i={},$$scope:a}=t;return Ne("AutoSaveController",i,[]),e.$capture_state=()=>({getContext:Y,modalOptions:Tp,root:ep,load:xm,HelpModal:Hh,onMount:z,open:r}),[]}class Fv extends Ue{constructor(e){super(e),Oe(this,e,Dv,Uv,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"AutoSaveController",options:e,id:Uv.name})}}const qv="src/App.svelte";function Vv(e){let t,n,o,i,a,c,s,l,u,d,f,p,h,m,g,y;const v=new Fv({$$inline:!0}),w=new Nv({$$inline:!0}),b=new rh({$$inline:!0}),$=new mv({$$inline:!0}),x=new Hm({$$inline:!0}),k=new Bh({$$inline:!0}),E={c:function(){Se(v.$$.fragment),t=C(),Se(w.$$.fragment),n=C(),o=S("div"),i=S("div"),Se(b.$$.fragment),c=C(),s=S("div"),Se($.$$.fragment),u=C(),d=S("div"),Se(x.$$.fragment),f=C(),p=S("div"),Se(k.$$.fragment),Be(i,"style",a="grid-column: 1; grid-row: 1; min-height: 0;"+(0===e[0]?" display: none;":"")),r(i,qv,56,8,2328),Be(s,"style",l="grid-column: 2; grid-row: 1; min-height: 0;"+(100===e[0]?" display: none;":"")),r(s,qv,59,8,2479),R(d,"grid-column","1 / span 3"),R(d,"grid-row","2"),R(d,"min-height","0"),r(d,qv,62,8,2634),Be(p,"style",h=`grid-column: 3; grid-row: 1; overflow-y: auto; overflow-x: hidden; display: flex; flex-direction: column; background-color: ${Ep.bgDark}; border-left: 1px solid ${Ep.border}`),r(p,qv,63,8,2730),Be(o,"class","grid svelte-17hhr5d"),Be(o,"style",m="color: "+Ep.text+"; grid-template-columns: "+e[0]+"fr "+(100-e[0])+"fr  300px"),r(o,qv,55,4,2148)},m:function(e,r,a){Ee(v,e,r),Ie(e,t,r),Ee(w,e,r),Ie(e,n,r),Ie(e,o,r),Me(o,i),Ee(b,i,null),Me(o,c),Me(o,s),Ee($,s,null),Me(o,u),Me(o,d),Ee(x,d,null),Me(o,f),Me(o,p),Ee(k,p,null),g=!0,a&&y(),y=Re(o,"keypress",Gv,!1,!1,!1)},p:function(e,t){(!g||1&t&&a!==(a="grid-column: 1; grid-row: 1; min-height: 0;"+(0===e[0]?" display: none;":"")))&&Be(i,"style",a),(!g||1&t&&l!==(l="grid-column: 2; grid-row: 1; min-height: 0;"+(100===e[0]?" display: none;":"")))&&Be(s,"style",l),(!g||1&t&&m!==(m="color: "+Ep.text+"; grid-template-columns: "+e[0]+"fr "+(100-e[0])+"fr  300px"))&&Be(o,"style",m)},i:function(e){g||(he(v.$$.fragment,e),he(w.$$.fragment,e),he(b.$$.fragment,e),he($.$$.fragment,e),he(x.$$.fragment,e),he(k.$$.fragment,e),g=!0)},o:function(e){me(v.$$.fragment,e),me(w.$$.fragment,e),me(b.$$.fragment,e),me($.$$.fragment,e),me(x.$$.fragment,e),me(k.$$.fragment,e),g=!1},d:function(e){Te(v,e),e&&Pe(t),Te(w,e),e&&Pe(n),e&&Pe(o),Te(b),Te($),Te(x),Te(k),y()}};return Ae("SvelteRegisterBlock",{block:E,id:Vv.name,type:"slot",source:"(53:0) <Modal>",ctx:e}),E}function zv(e){let t;const n=new kv({props:{$$slots:{default:[Vv]},$$scope:{ctx:e}},$$inline:!0}),r={c:function(){Se(n.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){Ee(n,e,r),t=!0},p:function(e,[t]){const r={};3&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i:function(e){t||(he(n.$$.fragment,e),t=!0)},o:function(e){me(n.$$.fragment,e),t=!1},d:function(e){Te(n,e)}};return Ae("SvelteRegisterBlock",{block:r,id:zv.name,type:"component",source:"",ctx:e}),r}function Gv(e){" "===e.key?kp():"z"===e.key&&Zf.undo()}function Wv(e,t,n){let r;l($r,"splitStore"),f(e,$r,e=>n(0,r=e));const o=[];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<App> was created with unknown prop '${e}'`)});let{$$slots:i={},$$scope:a}=t;return Ne("App",i,[]),e.$capture_state=()=>({Track:rh,GenerationOptions:Bh,TrackControls:Hm,TreeVis:mv,Modal:kv,ModalController:Nv,colorLookup:Ep,modalOptions:Tp,splitStore:$r,togglePlayback:kp,undoStore:Zf,AutoSaveController:Fv,keyPressed:Gv,$splitStore:r}),[r]}return new class extends Ue{constructor(e){super(e),Oe(this,e,Wv,zv,s,{}),Ae("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:zv.name})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
